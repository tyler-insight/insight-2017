!function(e){function t(n){if(i[n])return i[n].exports;var r=i[n]={exports:{},id:n,loaded:!1};return e[n].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var i={};t.m=e,t.c=i,t.p="/assets/",t(0)}([function(e,t,i){e.exports=i(1967)},,,function(e,t){var i=Array.isArray;e.exports=i},function(e,t,i){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}var r=i(15),o=i(10),s=function(e){return e&&e.__esModule?e:{default:e}}(o),a=(0,r.cachedDetect)(),u={ERROR:0,WARNING:1,NOTICE:2,INFO:3,DEBUG:4,error:0,warning:1,notice:2,info:3,debug:4},l=function(){},c=function(e){var t=this;null==e&&(e={});return t.error=function(){for(var e=arguments.length,i=Array(e),n=0;e>n;n++)i[n]=arguments[n];return t.log(0,i)},t.warn=function(){for(var e=arguments.length,i=Array(e),n=0;e>n;n++)i[n]=arguments[n];return t.log(1,i)},t.notice=function(){for(var e=arguments.length,i=Array(e),n=0;e>n;n++)i[n]=arguments[n];return t.log(1,i)},t.info=function(){for(var e=arguments.length,i=Array(e),n=0;e>n;n++)i[n]=arguments[n];return t.log(3,i)},t.debug=function(){for(var e=arguments.length,i=Array(e),n=0;e>n;n++)i[n]=arguments[n];return t.log(4,i)},function(){t.ctx=e,t.ctx.initializedAt||t.reset()}(),t},d=c.prototype;d.reset=function(){this.ctx.level=0,this.ctx.grep=null,this.ctx.grepv=null,this.ctx.first1000LogLines=[],this.ctx.last1000LogLines=[],this.ctx.initializedAt=(new Date).getTime()},d.setLevel=function(e){var t=this.logFunc(3);null!=u[e]?(this.ctx.level=u[e],t('Log level set to "'+e+'" ('+u[e]+")")):t('Unknown log level "#{level}"')},d.setGrep=function(e){this.ctx.grep=e},d.setGrepv=function(e){this.ctx.grepv=e},d.first1000LogLines=function(){return this.ctx.first1000LogLines},d.last1000LogLines=function(){return this.ctx.last1000LogLines},d.matchedGrep=function(e){var t=!1;if(this.ctx.grep||this.ctx.grepv){for(var i=[],n=0;n<e.length;n++)try{var r=e[n];i.push(r.toString&&r.toString())}catch(e){i.push("")}var o=i.join(" "),s=!this.ctx.grep||o.match(this.ctx.grep),a=!this.ctx.grepv||!o.match(this.ctx.grepv);t=s&&a}else t=!0;return t},d.now=function(){return"undefined"!=typeof performance&&"function"==typeof performance.now?performance.now().toFixed(3):Date.now?Date.now()-this.ctx.initializedAt:(new Date).getTime()-this.ctx.initializedAt},d.messagesToLogLine=function(e,t,i){var n=[e,t];n=n.concat(i);var r=void 0;try{r=n.join(" ")||"",r.length>200&&(r=r.slice(0,200))}catch(e){r="could not serialize"}return r},d.persistLine=function(e){this.ctx.first1000LogLines.length<1e3?this.ctx.first1000LogLines.push(e):(this.ctx.last1000LogLines.length>=1e3&&this.ctx.last1000LogLines.shift(),this.ctx.last1000LogLines.push(e))},d.log=function(e,t){var i=e<=this.ctx.level,r=4>e,o=(i||r)&&this.matchedGrep(t),s=void 0;if(o&&(i||r)&&(s=this.now()),r&&o){var u=this.messagesToLogLine(e,s,t);this.persistLine(u)}if(i&&o){var l=this.logFunc(e),c=void 0;1===t.length&&(c=t[0])instanceof Error?(l(c.message),c.stack&&l(c.stack)):a.browser.msie&&(a.browser.version<9||a.browser.quirks)?l(t.join(" ")):l.apply(void 0,n(t))}};var h=function(){for(var e=arguments.length,t=Array(e),i=0;e>i;i++)t[i]=arguments[i];console.error.apply(console,t)},p=function(){for(var e=arguments.length,t=Array(e),i=0;e>i;i++)t[i]=arguments[i];console.warn.apply(console,t)},f=function(){for(var e=arguments.length,t=Array(e),i=0;e>i;i++)t[i]=arguments[i];console.info.apply(console,t)},m=function(){for(var e=arguments.length,t=Array(e),i=0;e>i;i++)t[i]=arguments[i];console.debug.apply(console,t)},g=function(e){console.log.apply(console,e)};d.logFunc=function(e){if(null==e&&(e=this.level),!console)return l;var t=void 0;return 0===e?t=h:1===e?t=p:3===e?t=f:4===e&&(t=m),t||(t=g),"function"!=typeof t&&(this.noConsoleLog=!0,t=l),t},d.maybePrefix=function(e,t){if(e){if("function"==typeof e)try{e=e()}catch(t){e='prefix err "'+t.message+'"'}return e instanceof Array?e.concat(t):[e].concat(t)}return t},d.getPrefixedFunctions=function(e){var t=this;return{log:function(){for(var i=arguments.length,n=Array(i),r=0;i>r;r++)n[r]=arguments[r];return t.log(0,t.maybePrefix(e,n))},error:function(){for(var i=arguments.length,n=Array(i),r=0;i>r;r++)n[r]=arguments[r];return t.log(0,t.maybePrefix(e,n))},warn:function(){for(var i=arguments.length,n=Array(i),r=0;i>r;r++)n[r]=arguments[r];return t.log(1,t.maybePrefix(e,n))},notice:function(){for(var i=arguments.length,n=Array(i),r=0;i>r;r++)n[r]=arguments[r];return t.log(1,t.maybePrefix(e,n))},info:function(){for(var i=arguments.length,n=Array(i),r=0;i>r;r++)n[r]=arguments[r];return t.log(3,t.maybePrefix(e,n))},debug:function(){for(var i=arguments.length,n=Array(i),r=0;i>r;r++)n[r]=arguments[r];return t.log(4,t.maybePrefix(e,n))}}},s.default&&null==s.default.wlogCtx&&(s.default.wlogCtx={});var _=new c(s.default.wlogCtx);e.exports={ERROR:0,WARNING:1,NOTICE:2,INFO:3,DEBUG:4,LOG_LEVELS:u,Logger:c,wlog:_}},function(e,t){function i(e){return!!e&&"object"==typeof e}e.exports=i},,function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.compose=t.applyMiddleware=t.bindActionCreators=t.combineReducers=t.createStore=void 0;var r=i(188),o=n(r),s=i(293),a=n(s),u=i(292),l=n(u),c=i(291),d=n(c),h=i(187),p=n(h),f=i(189);n(f);t.createStore=o.default,t.combineReducers=a.default,t.bindActionCreators=l.default,t.applyMiddleware=d.default,t.compose=p.default},,function(e,t,i){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},r=Array.prototype.slice,s=function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),n=1;t>n;n++)i[n-1]=arguments[n];if(0===i.length)return e;for(var r=0;r<i.length;r++)a(e,i[r]);return e},a=function e(t,i){var n=arguments.length<=2||void 0===arguments[2]?u:arguments[2],r=arguments.length<=3||void 0===arguments[3]?l:arguments[3];if(S(i)){S(t)||(t=[]);for(var o=0;o<i.length;o++){var s=i[o],a=e(t[o],s);r(i,o,a)?delete t[o]:t[o]=a}return n(t)}if(P(i)){for(var c in i){var s=i[c];S(s)?(S(t[c])||(t[c]=[]),e(t[c],s)):P(s)?(P(t[c])||(t[c]={}),e(t[c],s)):null==t?(t={},r(i,c,s)||(t[c]=s)):r(i,c,s)?delete t[c]:t[c]=s}return n(t)}return n(i)},u=function(e){return e},l=function(e,t,i){return null==i},c=function(e){return S(e)?s([],e):s({},e)},d=function(e,t,i){t="string"==typeof t?t.split("."):r.call(t);for(var n=e,o=void 0;null!=e&&t.length;){var s=t.shift();void 0!==e[s]&&(P(e[s])||S(e[s]))||!i||(0===s?(e=n[o]=[],e[s]={}):e[s]={}),n=e,o=s,e=e[s]}return e},h=function(e,t,i){t="string"==typeof t?t.split("."):r.call(t);var n=t.pop();return e=d(e,t,!0),null==e||!P(e)&&!S(e)||null==n?void 0:void(null!=i?e[n]=i:delete e[n])},p=function(e,t){return h(e,t)},f=function(e,t){return void 0!==d(e,t)},m=function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),n=1;t>n;n++)i[n-1]=arguments[n];for(var r=0;r<i.length;r++)g(e,i[r]);return e},g=function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e},_=function(e){if(null==e)return e;if(P(e)||S(e))return y(e);var t=""+e;return/^\-?[1-9]\d*?$/.test(t)?parseInt(t,10):"0"===t?0:/^\-?\d*\.\d+/.test(t)?parseFloat(t):!!/^true$/i.test(t)||!/^false$/i.test(t)&&e},y=function(e){return H(e,function(e,t,i,n){"string"==typeof e&&(i[n]=_(e))}),e},v=function(e,t){for(var i={},n={},r=0;r<t.length;r++)n[t[r]]=!0;for(var o in e)n[o]&&(i[o]=e[o]);return i},b=function(e,t){for(var i={},n={},r=0;r<t.length;r++)n[t[r]]=!0;for(var o in e)n[o]||(i[o]=e[o]);return i},A=function(e,t){for(var i=[],n="function"==typeof t,r=n?t:null,o=0;o<e.length;o++){var s=e[o];if(n)r(s)&&i.push(s);else{var a=!0;for(var u in t){var l=t[u];if(l instanceof Array){if(!s[u]||s[u]<l[0]||s[u]>l[1]){a=!1;break}}else if(l instanceof RegExp){if(!l.test(s[u])){a=!1;break}}else if(l instanceof w){for(var c=!1,d=0;d<l.values.length;d++){var h=l.values[d];if(s[u]===h){c=!0;break}}if(!c){a=!1;break}}else if("function"==typeof l){if(null==s[u]||!l(s[u])){a=!1;break}}else if(s[u]!==l){a=!1;break}}a&&i.push(s)}}return i},w=function(e){var t=this;return function(){t.values=e}(),t},E=function(){for(var e=arguments.length,t=Array(e),i=0;e>i;i++)t[i]=arguments[i];return new w(t)},k=function(e,t){var i="function"==typeof t,n=i?t:null,o=r.call(e);return i?o.sort(n):o.sort(function(e,i){var n=void 0;n=t instanceof Array?c(t):t.split(/\s*,\s*/);for(var r=0;0===r&&n.length>0;){var o=n.shift().split(/\s+/),s=o[0],a=o[1];if(a="desc"===a?-1:1,e[s]<i[s]){r=-1*a;break}if(e[s]!==i[s]){r=1*a;break}r=0}return r}),o},C=i(70),T=i(237),x=/^\s*function Array()/,S=function(e){return null!=e&&e.push&&x.test(e.constructor)},O=/^\s*function Object()/,P=function(e){return null!=e&&"object"===(void 0===e?"undefined":n(e))&&O.test(e.constructor)},I=function(e){return null!=e&&"function"==typeof e},M=/^\s*function RegExp()/,D=function(e){return null!=e&&M.test(e.constructor)},R=/^string|number|boolean|function$/i,B=function(e){return null!=e&&(R.test(void 0===e?"undefined":n(e))||D(e))},L=function(e){if(null==e)return!0;if(S(e)&&!e.length)return!0;if(P(e)){var t=!0;for(var i in e){t=!1;break}return t}return!1},F=function(e,t){if(e===t)return!0;if(null!=e&&null==t||null==e&&null!=t)return!1;var i=!0;return H(e,function(e,n){e!==d(t,n)&&(i=!1)}),i},j=function(e,t){return F(e,t)&&F(t,e)},N=function e(t,i,n,o,s){if(null==n&&(n=[]),B(t))i(t,n,o,s);else if(P(t)||S(t)){i(t,n,o,s);for(var a in t){var u=r.call(n);u.push(a),e(t[a],i,u,t,a)}}else i(t,n,o,s)},H=function(e,t){N(e,function(e,i,n,r){S(e)||P(e)||t(e,i,n,r)})},U=!{toString:null}.propertyIsEnumerable("toString"),V=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],W=function(e){if(Object.keys)return Object.keys(e);if("object"!==("undefined"==typeof o?"undefined":n(o))&&"function"!=typeof o||null===o)throw new TypeError("Object.keys called on a non-object");var t=[];if(U)for(var i=0;i<V.length;i++){var r=V[i];o.hasOwnProperty(r)&&t.push(r)}else for(var s in o)t.push(s);return t};e.exports={merge:s,mergeOne:a,identityFunc:u,legacyShouldDeleteFromMerge:l,clone:c,get:d,set:h,unset:p,exists:f,assign:m,cast:_,castDeep:y,only:v,except:b,select:A,filter:C,uniq:T,values:E,sort:k,isArray:S,isObject:P,isFunction:I,isRegExp:D,isBasicType:B,isEmpty:L,isSubsetDeep:F,equalsDeep:j,eachDeep:N,eachLeaf:H,keys:W}},function(e,t,i){"use strict";var n=i(38),r=function(e){return e&&e.__esModule?e:{default:e}}(n);null==r.default.Wistia&&(r.default.Wistia={}),e.exports=r.default.Wistia},,function(e,t,i){!function(e,i){i(t)}(0,function(e){function t(e,t,i){this.nodeName=e,this.attributes=t,this.children=i,this.key=t&&t.key}function i(e,i){var n,r,o,s,a=[];for(s=arguments.length;s-- >2;)H.push(arguments[s]);for(i&&i.children&&(H.length||H.push(i.children),delete i.children);H.length;)if((r=H.pop())instanceof Array)for(s=r.length;s--;)H.push(r[s]);else null!=r&&!1!==r&&(("number"==typeof r||!0===r)&&(r=String(r)),o="string"==typeof r,o&&n?a[a.length-1]+=r:(a.push(r),n=o));var u=new t(e,i||void 0,a);return N.vnode&&N.vnode(u),u}function n(e,t){if(t)for(var i in t)e[i]=t[i];return e}function r(e){return n({},e)}function o(e,t){for(var i=t.split("."),n=0;n<i.length&&e;n++)e=e[i[n]];return e}function s(e){return"function"==typeof e}function a(e){return"string"==typeof e}function u(e){var t="";for(var i in e)e[i]&&(t&&(t+=" "),t+=i);return t}function l(e,t){return i(e.nodeName,n(r(e.attributes),t),arguments.length>2?[].slice.call(arguments,2):e.children)}function c(e,t,i){var n=t.split(".");return function(t){for(var r=t&&t.target||this,s={},u=s,l=a(i)?o(t,i):r.nodeName?r.type.match(/^che|rad/)?r.checked:r.value:t,c=0;c<n.length-1;c++)u=u[n[c]]||(u[n[c]]=!c&&e.state[n[c]]||{});u[n[c]]=l,e.setState(s)}}function d(e){!e._dirty&&(e._dirty=!0)&&1==q.push(e)&&(N.debounceRendering||G)(h)}function h(){var e,t=q;for(q=[];e=t.pop();)e._dirty&&R(e)}function p(e){var t=e&&e.nodeName;return t&&s(t)&&!(t.prototype&&t.prototype.render)}function f(e,t){return e.nodeName(_(e),t||z)}function m(e,t){return a(t)?e instanceof Text:a(t.nodeName)?g(e,t.nodeName):s(t.nodeName)?e._componentConstructor===t.nodeName||p(t):void 0}function g(e,t){return e.normalizedNodeName===t||V(e.nodeName)===V(t)}function _(e){var t=r(e.attributes);t.children=e.children;var i=e.nodeName.defaultProps;if(i)for(var n in i)void 0===t[n]&&(t[n]=i[n]);return t}function y(e){var t=e.parentNode;t&&t.removeChild(e)}function v(e,t,i,n,r){if("className"===t&&(t="class"),"class"===t&&n&&"object"==typeof n&&(n=u(n)),"key"===t);else if("class"!==t||r)if("style"===t){if((!n||a(n)||a(i))&&(e.style.cssText=n||""),n&&"object"==typeof n){if(!a(i))for(var o in i)o in n||(e.style[o]="");for(var o in n)e.style[o]="number"!=typeof n[o]||Y[o]?n[o]:n[o]+"px"}}else if("dangerouslySetInnerHTML"===t)n&&(e.innerHTML=n.__html);else if("o"==t[0]&&"n"==t[1]){var l=e._listeners||(e._listeners={});t=V(t.substring(2)),n?l[t]||e.addEventListener(t,A,!!K[t]):l[t]&&e.removeEventListener(t,A,!!K[t]),l[t]=n}else if("list"!==t&&"type"!==t&&!r&&t in e)b(e,t,null==n?"":n),(null==n||!1===n)&&e.removeAttribute(t);else{var c=r&&t.match(/^xlink\:?(.+)/);null==n||!1===n?c?e.removeAttributeNS("http://www.w3.org/1999/xlink",V(c[1])):e.removeAttribute(t):"object"==typeof n||s(n)||(c?e.setAttributeNS("http://www.w3.org/1999/xlink",V(c[1]),n):e.setAttribute(t,n))}else e.className=n||""}function b(e,t,i){try{e[t]=i}catch(e){}}function A(e){return this._listeners[e.type](N.event&&N.event(e)||e)}function w(e){if(y(e),e instanceof Element){e._component=e._componentConstructor=null;var t=e.normalizedNodeName||V(e.nodeName);(J[t]||(J[t]=[])).push(e)}}function E(e,t){var i=V(e),n=J[i]&&J[i].pop()||(t?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e));return n.normalizedNodeName=i,n}function k(){for(var e;e=X.pop();)N.afterMount&&N.afterMount(e),e.componentDidMount&&e.componentDidMount()}function C(e,t,i,n,r,o){Z++||($=r instanceof SVGElement);var s=T(e,t,i,n);return r&&s.parentNode!==r&&r.appendChild(s),--Z||o||k(),s}function T(e,t,i,n){for(var r=t&&t.attributes;p(t);)t=f(t,i);if(null==t&&(t=""),a(t)){if(e){if(e instanceof Text&&e.parentNode)return e.nodeValue!=t&&(e.nodeValue=t),e;O(e)}return document.createTextNode(t)}if(s(t.nodeName))return B(e,t,i,n);var o=e,u=t.nodeName,l=$,c=t.children;if(a(u)||(u=String(u)),$="svg"===u||"foreignObject"!==u&&$,e){if(!g(e,u)){for(o=E(u,$);e.firstChild;)o.appendChild(e.firstChild);O(e)}}else o=E(u,$);c&&1===c.length&&"string"==typeof c[0]&&1===o.childNodes.length&&o.firstChild instanceof Text?o.firstChild.nodeValue!=c[0]&&(o.firstChild.nodeValue=c[0]):(c&&c.length||o.firstChild)&&x(o,c,i,n);var d=o[Q];if(!d){o[Q]=d={};for(var h=o.attributes,m=h.length;m--;)d[h[m].name]=h[m].value}return P(o,t.attributes,d),r&&"function"==typeof r.ref&&(d.ref=r.ref)(o),$=l,o}function x(e,t,i,n){var r,o,a,u,l=e.childNodes,c=[],d={},h=0,p=0,f=l.length,g=0,_=t&&t.length;if(f)for(var y=0;f>y;y++){var v=l[y],b=_?(o=v._component)?o.__key:(o=v[Q])?o.key:null:null;b||0===b?(h++,d[b]=v):c[g++]=v}if(_)for(var y=0;_>y;y++){a=t[y],u=null;var b=a.key;if(null!=b)h&&b in d&&(u=d[b],d[b]=void 0,h--);else if(!u&&g>p){for(r=p;g>r;r++)if((o=c[r])&&m(o,a)){u=o,c[r]=void 0,r===g-1&&g--,r===p&&p++;break}!u&&g>p&&s(a.nodeName)&&n&&(u=c[p],c[p++]=void 0)}(u=T(u,a,i,n))&&u!==e&&u!==l[y]&&e.insertBefore(u,l[y]||null)}if(h)for(var y in d)d[y]&&O(d[y]);g>p&&S(c)}function S(e,t){for(var i=e.length;i--;)e[i]&&O(e[i],t)}function O(e,t){var i=e._component;i?L(i,!t):(e[Q]&&e[Q].ref&&e[Q].ref(null),t||w(e),e.childNodes&&e.childNodes.length&&S(e.childNodes,t))}function P(e,t,i){for(var n in i)t&&n in t||null==i[n]||v(e,n,i[n],i[n]=void 0,$);if(t)for(var r in t)"children"===r||"innerHTML"===r||r in i&&t[r]===("value"===r||"checked"===r?e[r]:i[r])||v(e,r,i[r],i[r]=t[r],$)}function I(e){var t=e.constructor.name,i=ee[t];i?i.push(e):ee[t]=[e]}function M(e,t,i){var n=new e(t,i),r=ee[e.name];if(F.call(n,t,i),r)for(var o=r.length;o--;)if(r[o].constructor===e){n.nextBase=r[o].nextBase,r.splice(o,1);break}return n}function D(e,t,i,n,r){e._disable||(e._disable=!0,(e.__ref=t.ref)&&delete t.ref,(e.__key=t.key)&&delete t.key,!e.base||r?e.componentWillMount&&e.componentWillMount():e.componentWillReceiveProps&&e.componentWillReceiveProps(t,n),n&&n!==e.context&&(e.prevContext||(e.prevContext=e.context),e.context=n),e.prevProps||(e.prevProps=e.props),e.props=t,e._disable=!1,0!==i&&(1!==i&&!1===N.syncComponentUpdates&&e.base?d(e):R(e,1,r)),e.__ref&&e.__ref(e))}function R(e,t,i,o){if(!e._disable){var a,u,l,c,d=e.props,h=e.state,m=e.context,g=e.prevProps||d,y=e.prevState||h,v=e.prevContext||m,b=e.base,A=e.nextBase,w=b||A,E=e._component;if(b&&(e.props=g,e.state=y,e.context=v,2!==t&&e.shouldComponentUpdate&&!1===e.shouldComponentUpdate(d,h,m)?a=!0:e.componentWillUpdate&&e.componentWillUpdate(d,h,m),e.props=d,e.state=h,e.context=m),e.prevProps=e.prevState=e.prevContext=e.nextBase=null,e._dirty=!1,!a){for(e.render&&(u=e.render(d,h,m)),e.getChildContext&&(m=n(r(m),e.getChildContext()));p(u);)u=f(u,m);var T,x,S=u&&u.nodeName;if(s(S)){l=E;var P=_(u);l&&l.constructor===S?D(l,P,1,m):(T=l,l=M(S,P,m),l.nextBase=l.nextBase||A,l._parentComponent=e,e._component=l,D(l,P,0,m),R(l,1,i,!0)),x=l.base}else c=w,T=E,T&&(c=e._component=null),(w||1===t)&&(c&&(c._component=null),x=C(c,u,m,i||!b,w&&w.parentNode,!0));if(w&&x!==w&&l!==E){var I=w.parentNode;I&&x!==I&&(I.replaceChild(x,w),T||(w._component=null,O(w)))}if(T&&L(T,x!==w),e.base=x,x&&!o){for(var B=e,F=e;F=F._parentComponent;)(B=F).base=x;x._component=B,x._componentConstructor=B.constructor}}!b||i?X.unshift(e):a||(e.componentDidUpdate&&e.componentDidUpdate(g,y,v),N.afterUpdate&&N.afterUpdate(e));var j,H=e._renderCallbacks;if(H)for(;j=H.pop();)j.call(e);Z||o||k()}}function B(e,t,i,n){for(var r=e&&e._component,o=e,s=r&&e._componentConstructor===t.nodeName,a=s,u=_(t);r&&!a&&(r=r._parentComponent);)a=r.constructor===t.nodeName;return r&&a&&(!n||r._component)?(D(r,u,3,i,n),e=r.base):(r&&!s&&(L(r,!0),e=o=null),r=M(t.nodeName,u,i),e&&!r.nextBase&&(r.nextBase=e,o=null),D(r,u,1,i,n),e=r.base,o&&e!==o&&(o._component=null,O(o))),e}function L(e,t){N.beforeUnmount&&N.beforeUnmount(e);var i=e.base;e._disable=!0,e.componentWillUnmount&&e.componentWillUnmount(),e.base=null;var n=e._component;n?L(n,t):i&&(i[Q]&&i[Q].ref&&i[Q].ref(null),e.nextBase=i,t&&(y(i),I(e)),S(i.childNodes,!t)),e.__ref&&e.__ref(null),e.componentDidUnmount&&e.componentDidUnmount()}function F(e,t){this._dirty=!0,this.context=t,this.props=e,this.state||(this.state={})}function j(e,t,i){return C(i,e,{},!1,t)}var N={},H=[],U={},V=function(e){return U[e]||(U[e]=e.toLowerCase())},W="undefined"!=typeof Promise&&Promise.resolve(),G=W?function(e){W.then(e)}:setTimeout,z={},Q="undefined"!=typeof Symbol?Symbol.for("preactattr"):"__preactattr_",Y={boxFlex:1,boxFlexGroup:1,columnCount:1,fillOpacity:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,fontWeight:1,lineClamp:1,lineHeight:1,opacity:1,order:1,orphans:1,strokeOpacity:1,widows:1,zIndex:1,zoom:1},K={blur:1,error:1,focus:1,load:1,resize:1,scroll:1},q=[],J={},X=[],Z=0,$=!1,ee={};n(F.prototype,{linkState:function(e,t){var i=this._linkedStates||(this._linkedStates={});return i[e+t]||(i[e+t]=c(this,e,t))},setState:function(e,t){var i=this.state;this.prevState||(this.prevState=r(i)),n(i,s(e)?e(i,this.props):e),t&&(this._renderCallbacks=this._renderCallbacks||[]).push(t),d(this)},forceUpdate:function(){R(this,2)},render:function(){}}),e.h=i,e.cloneElement=l,e.Component=F,e.render=j,e.rerender=h,e.options=N})},function(e,t){function i(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=i},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var _scriptUtils=__webpack_require__(78),_obj=__webpack_require__(9),_detect=__webpack_require__(15),_wlog=__webpack_require__(4),_seqid=__webpack_require__(33),_seqid2=_interopRequireDefault(_seqid),_wistia_namespace=__webpack_require__(10),_wistia_namespace2=_interopRequireDefault(_wistia_namespace),W=_wistia_namespace2.default,detect=(0,_detect.cachedDetect)(),aps=Array.prototype.slice,elemHtml=function(e,t){var i=getCssTags(t),n=getScriptTags(t);return t=removeCssTags(t),t=removeScriptTags(t),e.innerHTML=t,execCssTags(i,e),execScriptTags(n)},getScriptTags=function(e){return e.match(/<script.*?src[^>]*>\s*<\/script>|<script.*?>[\s\S]+?<\/script>/gi)||[]},execScriptTags=function execScriptTags(scriptTags,callback){if(!scriptTags)return null;(0,_obj.isArray)(scriptTags)||(scriptTags=getScriptTags(scriptTags));for(var hashes=[],i=0;i<scriptTags.length;i++){var scriptTag=scriptTags[i],hash={},matches=void 0;(matches=scriptTag.match(/<script.*?>/i))&&(matches=matches[0].match(/src="([^"]+)"/i))?(hash.src=matches[1],hash.async=/async/i.test(scriptTag.replace(hash.src,""))):(matches=scriptTag.match(/<script>([\s\S]+?)<\/script>/i))&&function(){var src=matches[1];hash.fn=function(){return eval(src)}}(),hashes.push(hash)}return(0,_scriptUtils.runScripts)(hashes,callback)},removeScriptTags=function(e){return e.replace(/<script.*?src[^>]*>\s*<\/script>|<script>[\s\S]+?<\/script>/g,"")},getCssTags=function(e){return e.match(/<link.*?rel=['"]stylesheet['"][^>]*>|<style>[\s\S]+?<\/style>/gi)||[]},execCssTags=function(e,t){if(!e)return null;(0,_obj.isArray)(e)||(e=getCssTags(e));for(var i=[],n=0;n<e.length;n++){var r=e[n];if(/<link.*?rel=['"]stylesheet['"][^>]*>/.test(r)){var o=void 0;if(o=r.match(/href=['"](.*?)['"]/i)){var s=document.createElement("link");s.setAttribute("rel","stylesheet"),s.setAttribute("href",o[1]),s.className="wistia_injected_style",(t||document.body||document.head).appendChild(s),i.push(s)}}else if(/<style>[\s\S]+?<\/style>/gi.test(r)){var o=void 0;if(o=r.match(/<style>([\s\S]+?)<\/style>/i)){var a=addInlineCss(t||document.body||document.head,o[1]);i.push(a)}}}return i},removeCssTags=function(e){return e.replace(/<link.*?rel=['"]stylesheet['"][^>]*>|<style>[\s\S]+?<\/style>/gi,"")},addInlineCss=function(e,t){var i=document.createElement("style");return i.id=(0,_seqid2.default)("wistia_","_style"),i.setAttribute("type","text/css"),i.className="wistia_injected_style",document.getElementsByTagName("style"),e.appendChild(i,e.nextSibling),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t)),i},elemFromObject=function e(t){if((0,_obj.isArray)(t)){for(var i=[],n=0;n<t.length;n++)i.push(e(t[n]));return i}var r=t.tagName||"div",o=t.childNodes||[];(0,_obj.isArray)(o)||(o=[o]);var s=document.createElement(r);for(var a in t){var u=t[a];if("childNodes"!==a&&"tagName"!==a){var l=a.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();if("style"===a)if((0,_obj.isObject)(u))for(var c in u)s.style[c]=u[c];else for(var d=u.split(";"),n=0;n<d.length;n++){var h=d[n].split(/\s*:\s*/),c=h[0],p=h[1];c&&p&&(s.style[c]=p)}else if("events"===a)for(var f in u){var m=u[f];elemBind(s,f,m)}else"className"===a||"class"===a?s.className=u:"innerHTML"===a?s.innerHTML=u:null!=u&&"function"==typeof u.toString&&s.setAttribute(l,u.toString())}}for(var n=0;n<o.length;n++){var g=o[n];if((0,_obj.isObject)(g)){var _=e(g);elemAppend(s,_)}else{var _=document.createTextNode(g.toString());elemAppend(s,_)}}return s},elemToObject=function e(t){if((0,_obj.isArray)(t))for(var i=[],n=0;n<t.length;n++)i.push(e(t[n]));var r={};r.tagName=t.tagName.toLowerCase();for(var o=(0,_obj.keys)(t),n=0;n<o.length;n++){var s=o[n];if("tagName"!==s&&"childNodes"!==s&&"nodeType"!==s&&"nodeValue"!==s)if("style"===s){r.style={};for(var a=(0,_obj.keys)(t.style),u=0;u<a.length;u++){var l=a[u];val=t.style[l],val&&!/^\d/.test(l)&&"length"!==l&&(r.style[l]=val)}}else value=t.getAttribute(s),null!=value&&(r[s]=value)}for(var c=[],n=0;n<t.childNodes.length;n++){var d=t.childNodes[n];1===d.nodeType?c.push(e(d)):3===d.nodeType&&c.push(d.nodeValue)}return c.length>0&&(r.childNodes=c),r},elemClone=function(e){var t=elemToObject(e);return elemFromObject(t)},elemAppend=function e(t,i){if((0,_obj.isArray)(i))for(var n=0;n<i.length;n++)e(t,i[n]);else t.appendChild(i)},elemPrepend=function e(t,i){if(!(0,_obj.isArray)(i))return 0===t.childNodes.length?elemAppend(t,i):t.insertBefore(i,t.childNodes[0]);for(var n=0;n<i.length;n++)e(t,i[n])},elemBefore=function e(t,i){if(!(0,_obj.isArray)(i))return t.parentNode.insertBefore(i,t);i=i.reverse();for(var n=0;n<i.length;n++)e(t,i[n])},elemAfter=function e(t,i){if(!(0,_obj.isArray)(i))return t.parentNode.insertBefore(i,t.nextSibling);i=i.reverse();for(var n=0;n<i.length;n++)e(t,i[n])},elemRemove=function e(t){if((0,_obj.isArray)(t)||window.NodeList&&t instanceof NodeList)for(var i=0;i<t.length;i++)e(t[i]);else{var n=void 0;null!=t&&1===t.nodeType&&(n=t.parentNode)&&(n.removeChild(t),t=null)}},elemRemoveClass=function(e,t){if(elemHasClass(e,t)){var i=e.getAttribute("class");if(i){var n=new RegExp("\\b"+t+"\\b","g"),r=normalizeClassName(i.replace(n,""));e.setAttribute("class",r)}}},elemAddClass=function(e,t){if(!elemHasClass(e,t)){var i=e.getAttribute("class"),n=void 0;i?(elemRemoveClass(e,t),n=normalizeClassName(i+" "+t)):n=t,e.setAttribute("class",n)}},elemHasClass=function(e,t){var i=null!=e&&"function"==typeof e.getAttribute&&e.getAttribute("class");if(!i&&e&&"string"==typeof e.className&&(i=e.className),!i)return!1;var n=!1;return eachIndexOf(i,t,function(e){var r=0===e||" "===i.charAt(e-1),o=e+t.length===i.length,s=" "===i.charAt(e+t.length);return r&&(o||s)?(n=!0,BREAK_IDENTIFIER):void 0}),n},BREAK_IDENTIFIER={},eachIndexOf=function(e,t,i){for(var n=-1;-1!=(n=e.indexOf(t,n+1))&&i(n)!==BREAK_IDENTIFIER;);},elemClasses=function(e){return e&&"string"!=typeof e.className?[""]:(e&&e.className||"").split(/\s+/)},normalizeClassName=function(e){return e.replace(/^\s+/g,"").replace(/\s+$/g,"").replace(/\s+/g," ")},elemStyle=function e(t){for(var i=arguments.length,n=Array(i>1?i-1:0),r=1;i>r;r++)n[r-1]=arguments[r];if((0,_obj.isArray)(t)||window.NodeList&&t instanceof NodeList){for(var o=[],s=0;s<t.length;s++){var a=t[s];1===a.nodeType&&o.push(e.apply(void 0,[a].concat(n)))}return o}if(2===n.length){var u=n[0],l=n[1];t.style[u]=l}else if(1===n.length)if("string"==typeof n[0]){var u=n[0];try{return t.currentStyle?t.currentStyle[u]:window.getComputedStyle?window.getComputedStyle(t,null).getPropertyValue(u):null}catch(e){_wlog.wlog.notice(e)}}else{var c=propsWithVendorPrefixes(n[0]);for(var u in c){var d=c[u];t.style[u]=d}}else _wlog.wlog.apply(void 0,["Unexpected args",t].concat(n))},vendoredProperties=function(){return{borderImage:!0,mixBlendMode:!0,transform:!0,transition:!0,transitionDuration:!0}},vendoredProperty=function(e){return vendoredProperties()[e]},vendorPrefixes=function(){return["webkit","moz","o","ms"]},propsWithVendorPrefixes=function(e){var t={};for(var i in e){var n=e[i];if(t[i]=n,vendoredProperty(i))for(var r=vendorPrefixes(),o=0;o<r.length;o++){var s=r[o],a=s+i.charAt(0).toUpperCase()+i.slice(1);i[a]||(t[a]=n)}}return t},getComputedStyle=function(e,t){if(!window.getComputedStyle)return null;var i=window.getComputedStyle(e,null);return null==i?null:null!=t?i[t]:i},elemWidth=function(e){if(e===window)return window.innerWidth?window.innerWidth:document.documentElement?document.documentElement.offsetWidth:document.body.offsetWidth;if(e===document){var t=document.body,i=document.documentElement;return Math.max(t.scrollWidth,t.offsetWidth,i.clientWidth,i.scrollWidth,i.offsetWidth)}var n=void 0;return detect.browser.quirks?parseInt(e.offsetWidth,10):(n=getComputedStyle(e,"width"))&&null!=n?parseFloat(n):e.currentStyle?e.offsetWidth:-1},elemHeight=function(e){if(e===window)return window.innerHeight?window.innerHeight:document.documentElement?document.documentElement.offsetHeight:document.body.offsetHeight;if(e===document){var t=document.body,i=document.documentElement;return Math.max(t.scrollHeight,t.offsetHeight,i.clientHeight,i.scrollHeight,i.offsetHeight)}var n=void 0;return detect.browser.quirks?parseInt(e.offsetHeight,10):(n=getComputedStyle(e,"height"))&&null!=n?parseFloat(n):e.currentStyle?e.offsetHeight:-1},_isBoxModel=void 0,isBoxModel=function(){if(null!=_isBoxModel)return _isBoxModel;var e=document.createElement("div");return e.style.paddingLeft=e.style.width="1px",document.body.appendChild(e),_isBoxModel=2===e.offsetWidth,document.body.removeChild(e),_isBoxModel},elemOffset=function(e){var t=document.body,i=document.defaultView,n=document.documentElement,r=e.getBoundingClientRect(),o=n.clientTop||t.clientTop||0,s=n.clientLeft||t.clientLeft||0,a=i&&i.pageYOffset||isBoxModel()&&n&&n.scrollTop||t.scrollTop,u=i&&i.pageXOffset||isBoxModel()&&n&&n.scrollLeft||t.scrollLeft;return{top:r.top+a-o,left:r.left+u-s}},elemContainsOffset=function(e,t,i){var n=elemOffset(e);return n.right=n.left+elemWidth(e),n.bottom=n.top+elemHeight(e),n.left<=t&&t<n.right&&n.top<=i&&i<n.bottom},elemScrollOffset=function(e){var t=0,i=0;if(e.parentNode)for(;e&&e.offsetParent;)i+=e.scrollTop,t+=e.scrollLeft,e=e.parentNode;return{left:t,top:i}},elemIsHidden=function(e){for(;e&&1===e.nodeType;){if("none"===elemStyle(e,"display"))return!0;e=e.parentNode}return!1},elemInDom=function(e){for(;e=e.parentNode;)if(e===document)return!0;return!1},elemIsDescendantOf=function(e,t){for(var i=elemAncestors(e),n=0;n<i.length;n++)if(i[n]===t)return!0;return!1},elemAncestorHasClass=function(e,t){for(var i=elemAncestors(e),n=0;n<i.length;n++)if(elemHasClass(i[n],t))return!0;return!1},elemAncestors=function(e){for(var t=e,i=[];t=t.parentNode;)i.push(t);return i},elemIsInside=function(e,t){return e===t||elemIsDescendantOf(e,t)},getTransitionProp=function(e,t,i){var n=[];for(var r in e)n.push(r+" "+t+"ms "+i);return n.join(",")},elemAnimate=function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];i=(0,_obj.merge)({time:400,easing:"ease"},i);var n=getTransitionProp(t,i.time,i.easing);elemStyle(e,{transition:n}),safeRequestAnimationFrame(function(){elemStyle(e,t),setTimeout(function(){elemStyle(e,{transition:""}),"function"==typeof i.callback&&i.callback()},i.time)})},elemBind=function(e,t,i){var n=!(arguments.length<=3||void 0===arguments[3])&&arguments[3],r=function(n){for(var r=arguments.length,o=Array(r>1?r-1:0),s=1;r>s;s++)o[s-1]=arguments[s];n=n||window.event,n.pageX||n.pageY||!n.clientX&&!n.clientY||(n.pageX=n.clientX+docScrollLeft(),n.pageY=n.clientY+docScrollTop()),n.preventDefault||(n.preventDefault=function(){n.returnValue=!1}),n.stopPropagation||(n.stopPropagation=function(){n.cancelBubble=!0}),null==n.which&&(n.which=null!=n.charCode?n.charCode:n.keyCode),null==n.which&&null!=n.button&&(1&n.button?n.which=1:2&n.button?n.which=3:4&n.button?n.which=2:detect.browser.msie&&0===n.button?n.which=1:n.which=0),n.target||n.srcElement&&(n.target=n.srcElement),n.target&&3===n.target.nodeType&&(n.target=n.target.parentNode);var a=i.apply(n.target,[n].concat(o));return a===elemUnbind&&elemUnbind(e,t,i),a};W._elemBind=W._elemBind||{};var o=elemBindKey(e,t,i);return W._elemBind[o]=r,r.elem=e,r.event=t,detect.browser.msie&&detect.browser.version<9?e.attachEvent("on"+t,r):e.addEventListener(t,r,n)},elemUnbind=function(e,t,i){var n=!(arguments.length<=3||void 0===arguments[3])&&arguments[3];if(null!=e&&null!=e._wistiaElemId&&null!=i&&i._wistiaBindId){var r=elemBindKey(e,t,i),o=W._elemBind[r];return o&&(detect.browser.msie&&detect.browser.version<9?e.detachEvent("on"+t,o):e.removeEventListener(t,o,n),o.elem=null,o.event=null),delete W._elemBind[r]}},elemUnbindAll=function(e){for(var t in W._elemBind){var i=W._elemBind[t];if(i&&e===i.elem){var n=i.event;detect.browser.msie&&detect.browser.version<9?i.elem.detachEvent("on"+n,i):i.elem.removeEventListener(n,i,!1),i.elem=null,i.event=null,delete W._elemBind[t]}}},elemUnbindAllInside=function(e){var t=0;for(var i in W._elemBind){var n=W._elemBind[i];if(n&&W.elem.isInside(n.elem,e)){var r=n.event;detect.browser.msie&&detect.browser.version<9?n.elem.detachEvent("on"+r,n):n.elem.removeEventListener(r,n,!1),n.elem=null,
n.event=null,delete W._elemBind[i],t+=1}}return t},elemBindKey=function(e,t,i){return e._wistiaElemId=e._wistiaElemId||(0,_seqid2.default)("wistia_elem_"),i._wistiaBindId=i._wistiaBindId||(0,_seqid2.default)("wistia_bind_"),e._wistiaElemId+"."+t+"."+i._wistiaBindId},elemRebind=function(e,t,i){i&&(elemUnbind(e,t,i),elemBind(e,t,i))},elemBindOnce=function(e,t,i){return elemBind(e,t,function(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return i.apply(this,t),elemUnbind})},elemTrigger=function(e,t){for(var i=arguments.length,n=Array(i>2?i-2:0),r=2;i>r;r++)n[r-2]=arguments[r];if(e.dispatchEvent){var o=document.createEvent("Events");return o.initEvent(t,!0,!1),"click"===t||"doubleclick"===t?o.which=1:"rightclick"===t&&(o.which=2),o.customArguments=n,e.dispatchEvent(o)}if(e.fireEvent){var o={customArguments:n};return e.fireEvent("on"+t,o)}_wlog.wlog.error("neither dispatchEvent nor fireEvent is defined for",e,t)},fullscreenElement=function(){return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement},elemRequestFullscreen=function(e){return e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):e.msRequestFullscreen?e.msRequestFullscreen():e.webkitEnterFullscreen?e.webkitEnterFullscreen():(_wlog.wlog.notice("no requestFullscreen functionality detected"),null)},elemCancelFullscreen=function(e){return document.cancelFullscreen?document.cancelFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen?document.msExitFullscreen():e&&e.webkitExitFullscreen?e.webkitExitFullscreen():(_wlog.wlog.notice("no cancelFullscreen functionality detected"),null)},elemStripEventAttributes=function e(t){var i=t&&t.attributes||[];try{for(var n=0;n<i.length;n++){var r=i[n];/^on.+/i.test(r.name)&&(t[r.name]=null,t.removeAttribute(r.name))}}catch(e){_wlog.wlog.error(e)}if(t.childNodes)for(var n=0;n<t.childNodes.length;n++){var o=t.childNodes[n];1===o.nodeType&&e(o)}},elemMutationObserver=function(e){var t=detect.mutationObserver;return t?new window[t](e):null},elemDomDistance=function(e,t){if(e===t)return{up:0,across:0,down:0};for(var i=[e],n=[t],r=1,o=0,s=null;e!==document.body;){if((e=e.parentNode)===t)return{up:i.length,across:0,down:0};i.unshift(e)}for(e=i[i.length-1];t!==document.body;){if((t=t.parentNode)===e)return{up:0,across:0,down:n.length};n.unshift(t)}for(;i[r]===n[r];)r+=1;for(s=i[r];s;)if((s=s.nextSibling)&&s.tagName&&(o+=1,s===n[r]))return{up:i.length-r-1,across:o,down:n.length-r-1};for(o=0,s=i[r];s;)if((s=s.previousSibling)&&s.tagName&&(o-=1,s===n[r]))return{up:i.length-r-1,across:o,down:n.length-r-1};return null},elemAllBetween=function(){var e=arguments.length<=0||void 0===arguments[0]?document.body:arguments[0],t=arguments.length<=1||void 0===arguments[1]?document.body:arguments[1],i=arguments.length<=2||void 0===arguments[2]?"*":arguments[2];null==e&&(e=document.body),null==t&&(t=document.body),i=i.toLowerCase();for(var n=[],r=elemDomDistance(e,t),o=e,s=0,a=null;s<r.up;){if(o&&o.tagName){("*"===i||o.tagName.toLowerCase()===i)&&(n=n.concat([o]));for(var u=o.nextSibling;u;)u.tagName&&(("*"===i||u.tagName.toLowerCase()===i)&&(n=n.concat([u])),n=n.concat(aps.call(u.getElementsByTagName(i)))),u=u.nextSibling}o=o.parentNode,o&&(a=o),s+=1}var l=Math.abs(r.across);for(o=a||e,s=1;l>s;)o=r.across<0?o.previousSibling:o.nextSibling,o.tagName&&(s>0&&l>s&&(("*"===i||o.tagName.toLowerCase()===i)&&(n=n.concat([o])),n=n.concat(aps.call(o.getElementsByTagName(i)))),s+=1);var c=[];for(o=t,s=0;s<r.down;){if(o&&o.tagName){("*"===i||o.tagName.toLowerCase()===i)&&(c=c.concat([o]));for(var u=o.previousSibling;u;)u.tagName&&(("*"===i||u.tagName.toLowerCase()===i)&&(c=c.concat([u])),c=c.concat(aps.call(u.getElementsByTagName(i)).reverse())),u=u.previousSibling}o=o.parentNode,s+=1}return n=n.concat(c.reverse())},docScrollTop=function(e){var t=document.body,i=document.documentElement;return null==e?i&&i.scrollTop||t&&t.scrollTop||0:(t&&(t.scrollTop=e),void(i&&(i.scrollTop=e)))},docScrollLeft=function(e){var t=document.body,i=document.documentElement;return null==e?i&&i.scrollLeft||t&&t.scrollLeft||0:(t&&(t.scrollLeft=e),void(i&&(i.scrollLeft=e)))},safeRequestAnimationFrame=function(e){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){return setTimeout(e,1e3/60)})(e)},pageLoaded=function(e){isDocReady()?setTimeout(e,1):function(){var t=function(){return clearTimeout(i),e(),elemUnbind};elemBind(window,"load",t);var i=setTimeout(function(){elemUnbind(window,"load",t),e()},4e3)}()},isDocReady=function(){return/loaded|complete/.test(document.readyState)},inUserEventContext=function(){var e=window.event,t=window.UIEvent;return e&&t&&e instanceof t};module.exports={elemHtml:elemHtml,getScriptTags:getScriptTags,execScriptTags:execScriptTags,removeScriptTags:removeScriptTags,getCssTags:getCssTags,execCssTags:execCssTags,removeCssTags:removeCssTags,addInlineCss:addInlineCss,elemFromObject:elemFromObject,elemToObject:elemToObject,elemClone:elemClone,elemAppend:elemAppend,elemPrepend:elemPrepend,elemBefore:elemBefore,elemAfter:elemAfter,elemRemove:elemRemove,elemRemoveClass:elemRemoveClass,elemAddClass:elemAddClass,elemHasClass:elemHasClass,elemClasses:elemClasses,elemStyle:elemStyle,vendoredProperties:vendoredProperties,vendoredProperty:vendoredProperty,vendorPrefixes:vendorPrefixes,propsWithVendorPrefixes:propsWithVendorPrefixes,getComputedStyle:getComputedStyle,elemWidth:elemWidth,elemHeight:elemHeight,isBoxModel:isBoxModel,elemOffset:elemOffset,elemContainsOffset:elemContainsOffset,elemScrollOffset:elemScrollOffset,elemIsHidden:elemIsHidden,elemInDom:elemInDom,elemIsDescendantOf:elemIsDescendantOf,elemAncestorHasClass:elemAncestorHasClass,elemAncestors:elemAncestors,elemIsInside:elemIsInside,elemAnimate:elemAnimate,elemBind:elemBind,elemUnbind:elemUnbind,elemUnbindAll:elemUnbindAll,elemUnbindAllInside:elemUnbindAllInside,elemBindKey:elemBindKey,elemRebind:elemRebind,elemBindOnce:elemBindOnce,elemTrigger:elemTrigger,fullscreenElement:fullscreenElement,elemRequestFullscreen:elemRequestFullscreen,elemCancelFullscreen:elemCancelFullscreen,elemStripEventAttributes:elemStripEventAttributes,elemMutationObserver:elemMutationObserver,elemDomDistance:elemDomDistance,elemAllBetween:elemAllBetween,docScrollTop:docScrollTop,docScrollLeft:docScrollLeft,safeRequestAnimationFrame:safeRequestAnimationFrame,isDocReady:isDocReady,pageLoaded:pageLoaded,inUserEventContext:inUserEventContext}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=i(10),o=n(r),s=i(38),a=n(s),u=navigator.userAgent,l=/(webkit)[ \/]([^\s]+)/i,c=/OPR\/([^\s]+)/i,d=/(msie) ([^\s;]+)/i,h=/(trident)\/\s*([^;]+)/i,p=/(edge)\/(\d+(?:\.\d+)?)/i,f=/(mozilla)(?:.*? rv:([^\s\)]+))?/i,m=/(android) ([^;]+)/i,g=/(iphone)/i,_=/(ipad)/i,y=/(Windows Phone OS (\d+(?:\.\d+)?))/,v=/OS (\d+)_(\d+)/i,b=/(playstation 3)/i,A=/BlackBerry|BB10/i,w=/(firefox)/i,E=/Mobile VR/i,k=function(){return(T()[1]||"webkit").toLowerCase()},C=function(){return T()[2]},T=function(){var e=void 0;return(e=u.match(l))?e:(e=u.match(c))?e:(e=u.match(d))?(null!=document.documentMode&&(e[2]=document.documentMode),e):(e=u.match(f))?e:[]},x=function(){var e=u.match(m);return null!=e&&{version:e[2]}},S=function(){return x()&&x().version<"4.1.0"&&!U()},O=function(){return g.test(u)},P=function(){return j()>0||x()},I=function(){return A.test(u)},M=function(){return null!=a.default.devicePixelRatio&&a.default.devicePixelRatio>1},D=function(){return _.test(u)},R=function(){return l.test(u)&&!/chrome/i.test(u)&&!D()&&!O()},B=function(){return!(!/Chrome/.test(u)||!/Google Inc/.test(navigator.vendor))&&{version:L()}},L=function(){var e=u.match(/\bChrome\/([^\s]+)/);return e&&e[1]},F=function(){return c.test(u)},j=function(){var e=u.match(v);return null!=e?parseFloat(e[1]+"."+e[2]):0},N=function(){return y.test(u)},H=function(){return b.test(u)},U=function(){return h.test(u)},V=function(){return p.test(u)},W=function(){return w.test(u)},G=function(){return E.test(u)},z=function(){return/win/i.test(navigator.platform)},Q=function(){return/mac/i.test(navigator.platform)},Y=function(){return/linux/i.test(navigator.platform)},K=function(){var e=q();return{version:parseFloat(e[0]+"."+e[1]),major:parseInt(e[0]),minor:parseInt(e[1]),rev:parseInt(e[2])}},q=function(){try{try{var e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");try{e.AllowScriptAccess="always"}catch(e){return[6,0,0]}}catch(e){}return new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1].split(",")}catch(e){try{if(navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin)return(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1].split(",")}catch(e){}}return[0,0,0]},J=function(){var e=document.createElement("video"),t=!1;try{if(e.canPlayType){t={};var i='video/mp4; codecs="avc1.42E01E';t.h264=!!e.canPlayType(i+'"')||!!e.canPlayType(i+', mp4a.40.2"'),t.webm=!!e.canPlayType('video/webm; codecs="vp9, vorbis"')}}catch(e){t={ogg:!1,h264:!1,webm:!1}}return t},X=function(){return a.default.MediaSource&&a.default.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E, mp4a.40.2"')},Z=function(){return O()||D()||R()},$=function(){try{return"localStorage"in a.default&&null!=a.default.localStorage}catch(e){return!1}},ee=function(){return!(!a.default.JSON||"function"!=typeof JSON.parse)},te=function(){var e=document.createElement("div");return""===e.style.backgroundSize||""===e.style.webkitBackgroundSize||""===e.style.mozBackgroundSize||""===e.style.oBackgroundSize},ie=function(){return document.fullscreenEnabled||document.mozFullScreenEnabled||document.webkitFullscreenEnabled||document.msFullscreenEnabled},ne=["WebKit","Moz","O","Ms",""],re=function(){for(var e=0;e<ne.length;e++){var t=ne[e],i=t+"MutationObserver";if(a.default[i])return i}return null},oe=function(){return!(O()||D()||x()||I()||F()||!(/webkit|mozilla/.test(k())||"msie"===k()&&C()>=11)||!J().h264||!Object.defineProperties)},se=function(){return o.default._detectCache?o.default._detectCache:(o.default._detectCache=ae(),o.default._detectCache)},ae=function(){var e={browser:{version:C(),quirks:"msie"===k()&&"BackCompat"===document.compatMode,old:"msie"===k()&&("BackCompat"===document.compatMode||C()<7),ltie8:"msie"===k()&&("BackCompat"===document.compatMode||C()<8)},trident:U(),edge:V(),firefox:W(),gearvr:G(),android:x(),oldandroid:S(),iphone:O(),ipad:D(),blackberry:I(),safari:R(),chrome:B(),opera:F(),winphone:{version:N()[2]},ios:{version:j()},windows:z(),mac:Q(),linux:Y(),retina:M(),touchScreen:P(),ps3:H(),flash:K(),video:J(),mediaSource:X(),nativeHls:Z(),localstorage:$(),json:ee(),backgroundSize:te(),fullscreenEnabled:ie(),vulcanSupport:oe(),mutationObserver:re()};return e.browser[k()]=!0,e},ue=function(){o.default._detectCache=null};e.exports={cachedDetect:se,uncachedDetect:ae,clearDetectCache:ue}},function(e,t,i){(function(e,n){var r=i(125),o={function:!0,object:!0},s=o[typeof t]&&t&&!t.nodeType?t:void 0,a=o[typeof e]&&e&&!e.nodeType?e:void 0,u=r(s&&a&&"object"==typeof n&&n),l=r(o[typeof self]&&self),c=r(o[typeof window]&&window),d=r(o[typeof this]&&this),h=u||c!==(d&&d.window)&&c||l||d||Function("return this")();e.exports=h}).call(t,i(18)(e),function(){return this}())},function(e,t,i){var n=i(29),r=i(16),o=n(r,"Map");e.exports=o},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},,function(e,t,i){!function(t,n){e.exports=n(i(12),i(7))}(0,function(e,t){function i(){}function n(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(e){}}function r(){A||(A=!0,n("<Provider> does not support changing `store` on the fly. It is most likely that you see this error because you updated to Redux 2.x and React Redux 2.x which no longer hot reload reducers automatically. See https://github.com/reactjs/react-redux/releases/tag/v2.0.0 for the migration instructions."))}function o(e,t){if(e===t)return!0;var i=Object.keys(e),n=Object.keys(t);if(i.length!==n.length)return!1;for(var r=Object.prototype.hasOwnProperty,o=0;o<i.length;o++)if(!r.call(t,i[o])||e[i[o]]!==t[i[o]])return!1;return!0}function s(e){return function(i){return t.bindActionCreators(e,i)}}function a(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function u(e){return!!e&&"object"==typeof e}function l(e){if(!u(e)||P.call(e)!=k||a(e))return!1;var t=E(e);if(null===t)return!0;var i=S.call(t,"constructor")&&t.constructor;return"function"==typeof i&&i instanceof i&&x.call(i)==O}function c(){}function d(e){return e.displayName||e.name||"Component"}function h(e,t){try{return e.apply(t)}catch(e){return L.value=e,L}}function p(t,i,r){var a=arguments.length<=3||void 0===arguments[3]?{}:arguments[3],u=Boolean(t),p=t||D,f=void 0;f="function"==typeof i?i:i?s(i):R;var m=r||B,A=a.pure,w=void 0===A||A,E=a.withRef,k=void 0!==E&&E,C=w&&m!==B,T=F++;return function(t){function i(e,t){l(e)||n(t+"() in "+s+" must return a plain object. Instead received "+e+".")}function r(e,t,n){var r=m(e,t,n);return i(r,"mergeProps"),r}var s="Connect("+d(t)+")",a=function(n){function a(e,t){_(this,a);var i=b(this,n.call(this,e,t));i.version=T,i.store=e.store||t.store,c(i.store,'Could not find "store" in either the context or props of "'+s+'". Either wrap the root component in a <Provider>, or explicitly pass "store" as a prop to "'+s+'".');var r=i.store.getState();return i.state={storeState:r},i.clearCache(),i}return v(a,n),a.prototype.shouldComponentUpdate=function(){return!w||this.haveOwnPropsChanged||this.hasStoreStateChanged},a.prototype.computeStateProps=function(e,t){if(!this.finalMapStateToProps)return this.configureFinalMapState(e,t);var n=e.getState(),r=this.doStatePropsDependOnOwnProps?this.finalMapStateToProps(n,t):this.finalMapStateToProps(n);return i(r,"mapStateToProps"),r},a.prototype.configureFinalMapState=function(e,t){var n=p(e.getState(),t),r="function"==typeof n;return this.finalMapStateToProps=r?n:p,this.doStatePropsDependOnOwnProps=1!==this.finalMapStateToProps.length,r?this.computeStateProps(e,t):(i(n,"mapStateToProps"),n)},a.prototype.computeDispatchProps=function(e,t){if(!this.finalMapDispatchToProps)return this.configureFinalMapDispatch(e,t);var n=e.dispatch,r=this.doDispatchPropsDependOnOwnProps?this.finalMapDispatchToProps(n,t):this.finalMapDispatchToProps(n);return i(r,"mapDispatchToProps"),r},a.prototype.configureFinalMapDispatch=function(e,t){var n=f(e.dispatch,t),r="function"==typeof n;return this.finalMapDispatchToProps=r?n:f,this.doDispatchPropsDependOnOwnProps=1!==this.finalMapDispatchToProps.length,r?this.computeDispatchProps(e,t):(i(n,"mapDispatchToProps"),n)},a.prototype.updateStatePropsIfNeeded=function(){var e=this.computeStateProps(this.store,this.props);return(!this.stateProps||!o(e,this.stateProps))&&(this.stateProps=e,!0)},a.prototype.updateDispatchPropsIfNeeded=function(){var e=this.computeDispatchProps(this.store,this.props);return(!this.dispatchProps||!o(e,this.dispatchProps))&&(this.dispatchProps=e,!0)},a.prototype.updateMergedPropsIfNeeded=function(){var e=r(this.stateProps,this.dispatchProps,this.props);return!(this.mergedProps&&C&&o(e,this.mergedProps))&&(this.mergedProps=e,!0)},a.prototype.isSubscribed=function(){return"function"==typeof this.unsubscribe},a.prototype.trySubscribe=function(){u&&!this.unsubscribe&&(this.unsubscribe=this.store.subscribe(this.handleChange.bind(this)),this.handleChange())},a.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null)},a.prototype.componentDidMount=function(){this.trySubscribe()},a.prototype.componentWillReceiveProps=function(e){w&&o(e,this.props)||(this.haveOwnPropsChanged=!0)},a.prototype.componentWillUnmount=function(){this.tryUnsubscribe(),this.clearCache()},a.prototype.clearCache=function(){this.dispatchProps=null,this.stateProps=null,this.mergedProps=null,this.haveOwnPropsChanged=!0,this.hasStoreStateChanged=!0,this.haveStatePropsBeenPrecalculated=!1,this.statePropsPrecalculationError=null,this.renderedElement=null,this.finalMapDispatchToProps=null,this.finalMapStateToProps=null},a.prototype.handleChange=function(){if(this.unsubscribe){var e=this.store.getState(),t=this.state.storeState;if(!w||t!==e){if(w&&!this.doStatePropsDependOnOwnProps){var i=h(this.updateStatePropsIfNeeded,this);if(!i)return;i===L&&(this.statePropsPrecalculationError=L.value),this.haveStatePropsBeenPrecalculated=!0}this.hasStoreStateChanged=!0,this.setState({storeState:e})}}},a.prototype.getWrappedInstance=function(){return c(k,"To access the wrapped instance, you need to specify { withRef: true } as the fourth argument of the connect() call."),this.refs.wrappedInstance},a.prototype.render=function(){var i=this.haveOwnPropsChanged,n=this.hasStoreStateChanged,r=this.haveStatePropsBeenPrecalculated,o=this.statePropsPrecalculationError,s=this.renderedElement;if(this.haveOwnPropsChanged=!1,this.hasStoreStateChanged=!1,this.haveStatePropsBeenPrecalculated=!1,this.statePropsPrecalculationError=null,o)throw o;var a=!0,u=!0;w&&s&&(a=n||i&&this.doStatePropsDependOnOwnProps,u=i&&this.doDispatchPropsDependOnOwnProps);var l=!1,c=!1;r?l=!0:a&&(l=this.updateStatePropsIfNeeded()),u&&(c=this.updateDispatchPropsIfNeeded());var d=!0;return d=!!(l||c||i)&&this.updateMergedPropsIfNeeded(),!d&&s?s:(this.renderedElement=k?e.h(t,y({},this.mergedProps,{ref:"wrappedInstance"})):e.h(t,this.mergedProps),this.renderedElement)},a}(e.Component);return a.displayName=s,a.WrappedComponent=t,a.contextTypes={store:g},a.prototype.componentWillUpdate=function(){this.version!==T&&(this.version=T,this.trySubscribe(),this.clearCache())},M(a,t)}}var f={only:function(e){return e&&e[0]||null}};i.isRequired=i;var m={element:i,func:i,shape:function(){return i}},g=m.shape({subscribe:m.func.isRequired,dispatch:m.func.isRequired,getState:m.func.isRequired}),_=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},v=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},b=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},A=!1,w=function(e){function t(i,n){_(this,t);var r=b(this,e.call(this,i,n));return r.store=i.store,r}return v(t,e),t.prototype.getChildContext=function(){return{store:this.store}},t.prototype.render=function(){var e=this.props.children;return f.only(e)},t}(e.Component);w.prototype.componentWillReceiveProps=function(e){this.store!==e.store&&r()},w.childContextTypes={store:g.isRequired};var E=function(e,t){return function(i){return e(t(i))}}(Object.getPrototypeOf,Object),k="[object Object]",C=Function.prototype,T=Object.prototype,x=C.toString,S=T.hasOwnProperty,O=x.call(Object),P=T.toString,I=function(e,t){return t={exports:{}},e(t,t.exports),t.exports}(function(e){"use strict";var t={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,arguments:!0,arity:!0},n="function"==typeof Object.getOwnPropertySymbols;e.exports=function(e,r,o){if("string"!=typeof r){var s=Object.getOwnPropertyNames(r);n&&(s=s.concat(Object.getOwnPropertySymbols(r)));for(var a=0;a<s.length;++a)if(!(t[s[a]]||i[s[a]]||o&&o[s[a]]))try{e[s[a]]=r[s[a]]}catch(e){}}return e}}),M=function(e){return e&&"object"==typeof e&&"default"in e?e.default:e}(I),D=function(e){return{}},R=function(e){return{dispatch:e}},B=function(e,t,i){return y({},i,e,t)},L={value:null},F=0;return{Provider:w,connect:p}})},function(e,t){function i(e){var t=typeof e;return"number"==t||"boolean"==t||"string"==t&&"__proto__"!=e||null==e}e.exports=i},function(e,t,i){function n(e){var t=r(e)?u.call(e):"";return t==o||t==s}var r=i(13),o="[object Function]",s="[object GeneratorFunction]",a=Object.prototype,u=a.toString;e.exports=n},function(e,t,i){function n(e){return null!=e&&!("function"==typeof e&&o(e))&&s(r(e))}var r=i(129),o=i(22),s=i(27);e.exports=n},function(e,t,i){function n(e){var t=l(e);if(!t&&!a(e))return o(e);var i=s(e),n=!!i,c=i||[],d=c.length;for(var h in e)!r(e,h)||n&&("length"==h||u(h,d))||t&&"constructor"==h||c.push(h);return c}var r=i(61),o=i(108),s=i(100),a=i(23),u=i(36),l=i(85);e.exports=n},function(e,t,i){"use strict";var n=i(51),r=i(38),o=n("app"),s=n("fast"),a=n("embed-a"),u=(n("embed-e"),function(){return"undefined"!=typeof window&&r===window&&r.location?r.location.protocol:"https:"}()),l=function(e,t,i){return"https:"===e?t:i},c=function(){var e=arguments.length<=0||void 0===arguments[0]?u:arguments[0];return l(e,"embed-ssl.wistia.com","embed.wistia.com")},d=function(){var e=arguments.length<=0||void 0===arguments[0]?u:arguments[0];return l(e,"embedwistia-a.akamaihd.net",a)},h=function(){return o},p=function(){return s},f=function(){return"fast.wistia.net"},m=function(){return"pipedream.wistia.com"},g=/(\.wistia\.net|\.wistia.com|\.wistia\.st)$/,_=function(e){return e&&g.test(e)?e:p()};e.exports={deliveryHost:c,appHost:h,cdnFastWistiaComHost:p,cdnFastWistiaNetHost:f,akamaiHost:d,metricsHost:m,forceValidFastWistiaHost:_}},,function(e,t){function i(e){return"number"==typeof e&&e>-1&&e%1==0&&n>=e}var n=9007199254740991;e.exports=i},function(e,t,i){function n(e,t){for(var i=e.length;i--;)if(r(e[i][0],t))return i;return-1}var r=i(41);e.exports=n},function(e,t,i){function n(e,t){var i=null==e?void 0:e[t];return r(i)?i:void 0}var r=i(101);e.exports=n},function(e,t,i){var n=i(29),r=n(Object,"create");e.exports=r},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=i(9),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(r),s=i(51),a=n(s),u=i(34),l=i(15),c=i(25),d=n(c),h=i(4),p=Array.prototype.slice,f=["select","sortFn","sortBy","unique"],m=function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];e.assets&&(e=e.assets),(null!=t.qualityMin||null!=t.qualityMax)&&(e=k(e,t.qualityMin,t.qualityMax),t=o.except(t,["qualityMin","qualityMax"]));var i=o.only(t,f),n=i.select||o.except(t,f);n&&(i.select=n);var r=i.select?o.select(e,i.select):o.clone(e);if((i.sortFn||i.sortBy)&&(r=o.sort(r,i.sortFn||i.sortBy)),i.unique){for(var s={},a=0;a<r.length;a++){var u=r[a],l=u[""+i.unique]||"__undefined__";s[l]||(s[l]=u)}r=[];for(var c in s)r.push(s[c])}return r},g=function(e,t){return m(e,t)[0]||null},_=function(e){return m(e,{container:"mp4",status:2,public:!0})},y=function(e){return m(e,{container:"m3u8",status:2,public:!0})},v=function(e){return m(e,{container:"flv",status:2,public:!0})},b=function(e){return m(e,{container:/mp4|flv/,status:2,public:!0})},A=function(e){for(var t=[],i=0;i<e.length;i++){var n=e[i],r=null!=n.opt_vbitrate&&500<=n.opt_vbitrate&&n.opt_vbitrate<=1e5,o=null!=n.width&&n.width>400;(r||o)&&t.push(n)}return t},w=function(e){return A(m(e,{container:/mp4|flv/,public:!0,status:2}))},E=function(e){return A(m(e,{container:/mp4|flv/,public:!0,status:function(e){return-1!==e}}))},k=function(e){var t=arguments.length<=1||void 0===arguments[1]?100:arguments[1],i=arguments.length<=2||void 0===arguments[2]?1e4:arguments[2];return m(e,{select:function(e){var n=C(e.width,e.height);return n>=t&&i>=n}})},C=function(e,t){if(t>e){var i=e;e=t,t=i}var n=e/t,r=e*t+1;return r>=3840/n*3840?2160:r>=2560/n*2560?1440:r>=1920/n*1920?1080:r>=1280/n*1280?720:r>=960/n*960?540:r>=640/n*640?360:t},T=function(e){var t=g(e,{type:"still_image",sortBy:"created_at desc"});return t||(t=g(e,{type:"original"})),t||(t=g(e,{container:/flv|mp4/})),t},x=(0,a.default)("fast"),S=function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=T(e);if(2!==i.status)return"//"+x+"/assets/images/blank.gif";t=o.merge({aspect:i.width/i.height,stillUrl:i.url,playButton:!1,playerColor:t.playerColor||"636155",videoWidth:i.width||640,videoHeight:i.height||360,stillSnap:!0},t);var n=t.videoWidth,r=t.videoHeight,s=new u.Url(t.stillUrl);return t.retina&&(s.params.image_play_button_size="2x",n*=2,r*=2),t.stillSnap&&(n=O({videoWidth:n,masterStillWidth:i.width}),r=Math.round(n/t.aspect)),I(t.stillUrl)?("https:"===t.protocol&&(s.protocol="https:",s.host="embed-ssl.wistia.com"),s.params.image_crop_resized=n+"x"+r,(null==t.playButton||t.playButton)&&(s.params.image_play_button=1,s.params.image_play_button_color=(""+t.playerColor).replace(/^#+/,"")+"e0"),s.ext("jpg"),s.absolute()):t.stillUrl},O=function(e){var t,i=[640,960,1280,1920,3840];e.masterStillWidth<3840&&i.push(e.masterStillWidth);for(var n=[],r=0;r<i.length;r++){var o=i[r];o<=e.masterStillWidth&&n.push(o)}n.sort(function(e,t){return e-t});for(var r=0;r<n.length;r++){var o=n[r];if(e.videoWidth<=o)return o}return(t=Math).max.apply(t,n)},P=["embed.wistia.com","embed-ssl.wistia.com","embed.wistia.com","embed-ssl.wistia.com",(0,a.default)("embed"),(0,a.default)("prime"),(0,a.default)("mixergy-cdn"),(0,a.default)("embed-a"),"embedwistia-a.akamaihd.net"],I=function(e){if(null==e)return!1;var t=new u.Url(e);return!!t.host&&P.join(",").indexOf(t.host)>=0},M=function(e,t,i){return i=o.merge({container:t,public:!0,status:2},i),g(e,i)},D=function(e,t){return M(e,"mp4",t)},R=function(e,t){return M(e,"webm",t)},B=function(e,t){return M(e,"m3u8",t)},L=function(e,t){return M(e,"flv",t)},F=function(e,t){return g(e,{type:"original"})},j=function(e,t){return(arguments.length<=2||void 0===arguments[2]?(0,l.cachedDetect)():arguments[2]).video.webm?R(e,t)||D(e,t):D(e,t)},N=function(e){var t=F(e);return t&&t.width>640&&t.bitrate<1200},H=function(e){var t=D(e)||L(e)||B(e)||R(e)||F(e);return t&&t.height?t.width/t.height:640/360},U=function(e,t){if(H(e)>1)return t=o.merge({width:640},t),D(e,t)||V(e,t);var i=o.merge({width:320},t),n=o.merge({width:640},t);return D(e,i)||D(e,n)||V(e,t)},V=function(e,t){return t=o.merge({sortBy:"width asc",width:[640,1920]},t),D(e,t)},W=function(e){var t=arguments.length<=1||void 0===arguments[1]?(0,u.proto)():arguments[1],i=new u.Url(e);return I(e)&&("https:"===t?(i.host=d.default.deliveryHost(location.protocol),i.protocol="https:"):(i.host=d.default.deliveryHost(location.protocol),i.protocol="http:")),i.absolute()},G=function(e,t,i){if(0===e.length)return[];for(var n=p.call(e).sort(function(e,t){return C(e.width,e.height)-C(t.width,t.height)}),r=(n[0],void n[n.length-1]),o=void 0,s=0;s<n.length;s++){var a=n[s],u=C(a.width,a.height);if(t>u&&(r=a),u>=i){o=a;break}}var l=[];return r&&l.push(r),o&&l.push(o),0===l.length&&(h.wlog.error("nearestAssetsOutsideRange: no nearby assets found, using first in list",n[0]),l.push(n[0])),l},z=function(e,t){if(!t)return e;for(var i=-1,n=0;n<e.length;n++){if(e[n].url===t.url){i=n;break}}return i>0&&(e.splice(i,1),e.unshift(t)),e};e.exports={FAILED:-1,QUEUED:0,PROCESSING:1,READY:2,filter:m,one:g,readyPublicMp4s:_,readyPublicFlvs:v,readyPublicMp4sAndFlvs:b,readyPublicM3u8s:y,readyPublicOver400:w,filterOver400:A,nonfailedPublicOver400:E,withinQualityRange:k,numericSizeSnapped:C,still:T,stillUrl:S,getStillWidth:O,BAKERY_HOSTS:P,isBakeryUrl:I,mp4:D,webm:R,m3u8:B,flv:L,original:F,playable:j,isScreencast:N,videoAspect:H,iphone:U,smallestNormalMp4:V,urlWithCorrectHost:W,nearestOutsideRange:G,moveToFront:z}},,function(e,t,i){"use strict";var n=i(10),r=function(e){return e&&e.__esModule?e:{default:e}}(n),o=r.default,s=function(){var e=arguments.length<=0||void 0===arguments[0]?"wistia_":arguments[0],t=arguments.length<=1||void 0===arguments[1]?"":arguments[1],i=o._sequenceVal||1,n=""+e+i+t;return o._sequenceVal=i+1,n};e.exports=s},function(e,t,i){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},r=i(4),o=i(9),s=i(62),a=function(){return/^http:\/\//.test(arguments.length<=0||void 0===arguments[0]?location.href:arguments[0])?"http:":"https:"},u=function(e){var t={};if(!e)return t;for(var i=e.split("&"),n=0;n<i.length;n++){var s=i[n],a=s.split("="),u=a[0],c=a[1];try{u=f(decodeURIComponent(u))||""}catch(e){setTimeout(function(){r.wlog.notice(e)},50),u=""}o.cast(u);var d=o.get(t,u);if(null!=d)if(o.isArray(d))d.push(l(c));else{var h=[d];h.push(l(c)),o.set(t,u,h)}else o.set(t,u,l(c))}return t},l=function(e){var t=void 0;try{t=decodeURIComponent(e)}catch(i){setTimeout(function(){r.wlog.notice(i)},50),t=e}if("string"!=typeof e||!/^[\{\[].*[\}\]]$/.test(t))return t;try{return s.parse(t)}catch(e){return t}},c=function(e){var t=[];return o.eachLeaf(e,function(e,i){t.push(encodeURIComponent(p(i))+"="+encodeURIComponent(e))}),t.join("&")},d=function(e){var t=[];if(null==e)return t;for(var i=e.split(/\/+/),n=0;n<i.length;n++){var r=i[n];null!=r&&""!==r&&t.push(r)}return t},h=function(e){return"string"==typeof e&&(e=e.split("/")),null==e?"":"/"+e.join("/")},p=function(e){for(var t=e[0],i=1;i<e.length;i++)t+="["+e[i]+"]";return t},f=function(e){return e.match(/([\w\-\_]+)/g)},m=["protocol","host","port","params","path"],g=function(e){var t=this;return function(){t.params={},t.path=[],t.host="","object"===(void 0===e?"undefined":n(e))?t.fromOptions(e):e&&t.fromRaw(e)}(),t},_=g.prototype;_.fromOptions=function(e){for(var t=0;t<m.length;t++){var i=m[t];null!=e[i]&&(this[i]=e[i])}return this},_.fromRaw=function(e){this.rawUrl=e;var t=void 0;return(t=e.match(/^((?:https?\:)|(?:file\:)|(?:ftp\:))?\/\//))&&(this.protocol=t[1]||void 0),(t=e.match(/\/\/([^\:\?\/]*)/))&&(this.host=t[1]||void 0),((t=e.match(/\/\/.*?(\/[^\?#$]+)/))||(t=e.match(/(^\/[^\/][^\?#$]+)/)))&&(this.rawPath=t[1],this._hasTrailingSlash=/\/$/.test(this.rawPath),this.path=d(this.rawPath)),(t=e.match(/\:(\d+)/))&&(this.port=parseInt(t[1],10)),(t=e.match(/\?([^#]+)/))&&(this.rawParams=t[1],this.params=u(this.rawParams)),(t=e.match(/#(.*)$/))&&(this.anchor=t[1]),this},_.clone=function(){return new g({protocol:this.protocol,host:this.host,port:this.port,path:o.clone(this.path),params:o.clone(this.params),anchor:this.anchor})},_.ext=function(e){if(null!=e){var t=this.ext(),i=this.path.length-1,n=new RegExp("\\."+t,"g");return t&&(this.path[i]=""+this.path[i].replace(n,"")),this.path[i]=this.path[i]+"."+e}var r=this.path[this.path.length-1].match(/\.(.*)$/);return null!=r&&r[1]||null},_.isRelative=function(){var e=arguments.length<=0||void 0===arguments[0]?window.location:arguments[0],t=this.protocol,i=this.host;return!(null!=t&&""!==t&&t!==e.protocol||i&&i!==e.hostname)},_.toString=function(){return this.isRelative()?this.relative():this.absolute()},_.absolute=function(){var e="";null!=this.protocol&&(e=this.protocol);var t="";return null!=this.port&&(t=":"+this.port),e+"//"+(this.host||location.host)+t+this.relative()},_.relative=function(){var e="";this.path.length>0&&(e=h(this.path),this._hasTrailingSlash&&(e+="/"));var t="?"+c(this.params);return 1===t.length&&(t=""),""+e+t+this.relativeAnchor()},_.authority=function(){var e=null!=this.port?":"+this.port:"";return""+this.host+e},_.relativeProtocol=function(){var e="";return null!=this.port&&(e=":"+this.port),"//"+this.host+e+this.relative()},_.relativeAnchor=function(){var e="";return null!=this.anchor&&(e="#"+this.anchor),
""+e},g.create=function(e){return new g(e)},g.parse=function(e){return new g(e)},e.exports={proto:a,queryParamsToObject:u,urlComponentToObject:l,objectToQueryParams:c,splitPath:d,joinPath:h,brack:p,debrack:f,Url:g}},,function(e,t){function i(e,t){return e="number"==typeof e||r.test(e)?+e:-1,t=null==t?n:t,e>-1&&e%1==0&&t>e}var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;e.exports=i},,function(e,t,i){(function(e,i){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},r={function:!0,object:!0},o=r[n(t)]&&t&&!t.nodeType&&t,s=r["undefined"==typeof window?"undefined":n(window)]&&window||void 0,a=o&&r[n(e)]&&e&&!e.nodeType&&"object"==(void 0===i?"undefined":n(i))&&i;!a||a.global!==a&&a.window!==a&&a.self!==a||(s=a),e.exports=s}).call(t,i(18)(e),function(){return this}())},function(e,t,i){function n(e){return"string"==typeof e||!r(e)&&o(e)&&u.call(e)==s}var r=i(3),o=i(5),s="[object String]",a=Object.prototype,u=a.toString;e.exports=n},function(e,t){"use strict";var i=function(){return(arguments.length<=0||void 0===arguments[0]?"":arguments[0]).replace(" ","&nbsp;")},n=function(e){var t=document.createElement("div");return t.innerHTML=e.toString().replace(/</g,"&lt;").replace(/>/g,"&gt;"),t.childNodes.length>0?t.childNodes[0].nodeValue:""},r=function(e){var t=document.createElement("div");return t.innerHTML=e,t.textContent||t.innerText||""},o=function(e){return e.replace(/[_-]([a-z])/g,function(e){return e.charAt(1).toUpperCase()})},s=function(e){return e.replace(/[A-Z]/g,function(e){return"_"+e.toLowerCase()})},a=function(e){return Object.keys(e).reduce(function(t,i){return t[o(i)]=e[i],t},{})},u=function(e){return Object.keys(e).reduce(function(t,i){return t[s(i)]=e[i],t},{})},l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c=function(e){var t=0,i="";for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");t<e.length;){var n=l.indexOf(e.charAt(t++)),r=l.indexOf(e.charAt(t++)),o=l.indexOf(e.charAt(t++)),s=l.indexOf(e.charAt(t++)),a=n<<2|r>>4,u=(15&r)<<4|o>>2,c=(3&o)<<6|s;i+=String.fromCharCode(a),64!=o&&(i+=String.fromCharCode(u)),64!=s&&(i+=String.fromCharCode(c))}return i},d=function(e){for(var t=0,i="";t<e.length;){var n=e.charCodeAt(t++),r=e.charCodeAt(t++),o=e.charCodeAt(t++),s=n>>2,a=(3&n)<<4|r>>4,u=(15&r)<<2|o>>6,c=63&o;isNaN(r)?u=c=64:isNaN(o)&&(c=64),i=i+l.charAt(s)+l.charAt(a)+l.charAt(u)+l.charAt(c)}return i},h=function(e){return null==e||!0===e},p=function(e){var t=0,i=0;return e>0&&(t+=Math.floor(e/60),e%=60),i=Math.round(e),60===i&&(t+=1,i=0),t+":"+f(i,2)},f=function(e){for(var t=arguments.length<=1||void 0===arguments[1]?0:arguments[1],i=""+e;i.length<t;)i="0"+i;return i},m=function(e,t){var i=arguments.length<=2||void 0===arguments[2]?0:arguments[2],n=arguments.length<=3||void 0===arguments[3]?0:arguments[3],r=t.scrollTop,o=t.scrollHeight,s=t.offsetHeight,a=function(){var e=arguments.length<=0||void 0===arguments[0]?0:arguments[0];return 0>=r+e-i},u=function(){var e=arguments.length<=0||void 0===arguments[0]?0:arguments[0];return r+e+n>=o-s},l=e.deltaY||-e.wheelDelta,c=l>0?"down":"up";if(!e.deltaY){var d=47.5*l/120;"up"===c&&a(d)?(e.preventDefault(),t.scrollTop=0):"down"===c&&u(d)&&(e.preventDefault(),t.scrollTop=o-s)}else("up"===c&&a()||"down"===c&&u())&&e.preventDefault()},g=function(e,t){var i=arguments.length<=2||void 0===arguments[2]?50:arguments[2],n=arguments.length<=3||void 0===arguments[3]?5e3:arguments[3],r=arguments[4],o=null,s=(new Date).getTime(),a=function a(){return(new Date).getTime()-s>n?void("function"==typeof r&&r()):void(e()?t():(clearTimeout(o),o=setTimeout(a,i)))};o=setTimeout(a,1)},_=function(e,t){var i=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],n=null,r=null,o=null,s=null,a=0,u=function(){a=!1===i.leading?0:(new Date).getTime(),s=null,o=t.apply(n,r),s||(n=r=null)};return function(){var l=(new Date).getTime();a||!1!==i.leading||(a=l);var c=e-(l-a);return n=this,r=arguments,0>=c||c>e?(clearTimeout(s),s=null,a=l,o=t.apply(n,r),s||(n=r=null)):s||!1===i.trailing||(s=setTimeout(u,c)),o}};e.exports={unbreakifyText:i,unescapeHtml:n,camelCase:o,snakeCase:s,shallowCamelizeKeys:a,shallowSnakeKeys:u,stripHtml:r,base64Decode:c,base64Encode:d,notSetOrTrue:h,niceDuration:p,preventOuterMouseWheel:m,poll:g,throttle:_}},function(e,t){function i(e,t){return e===t||e!==e&&t!==t}e.exports=i},,function(e,t){function i(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}e.exports=i},function(e,t,i){function n(e,t){return"number"==typeof e||!r(e)&&(s.test(e)||!o.test(e)||null!=t&&e in Object(t))}var r=i(3),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;e.exports=n},,function(e,t,i){function n(e){return r(e)&&a.call(e,"callee")&&(!l.call(e,"callee")||u.call(e)==o)}var r=i(84),o="[object Arguments]",s=Object.prototype,a=s.hasOwnProperty,u=s.toString,l=s.propertyIsEnumerable;e.exports=n},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=i(72),a=n(s),u=i(70),l=n(u),c=i(13),d=n(c),h=i(7),p=i(107),f=i(186),m=i(486),g=n(m),_=function(e,t){return!!e&&("contains"in e?e.contains(t):e.compareDocumentPosition(t)%16)},y={parentSelector:function(){return document.body},onFocus:function(){},onBlur:function(){}},v=function(){function e(t){r(this,e),this.options=(0,a.default)({},y,t),this._hadActiveChild=!1,document.addEventListener("focus",this._onDocumentFocusBlur.bind(this),!0)}return o(e,[{key:"destroy",value:function(){document.removeEventListener("focus",this._onDocumentFocusBlur.bind(this),!0)}},{key:"_fireCallbacks",value:function(){var e=this.options.parentEl(),t=_(e,document.activeElement);t!=this._hadActiveChild&&(t?this.options.onFocus():this.options.onBlur(),this._hadActiveChild=t)}},{key:"_onDocumentFocusBlur",value:function(){setTimeout(this._fireCallbacks.bind(this),0)}}]),e}(),b=function(e){return(0,l.default)(e,function(e){return""!=e}).join(" ")},A=function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=w(e);return Object.keys(t).reduce(function(e,n){return e[n]=(0,h.bindActionCreators)(t[n],i.dispatch),e},{})},w=function(e){return(0,d.default)(e)?e:(0,p.getStoreForPlayerInstance)(e)},E=function(e,t){return Object.keys(e).reduce(function(i,n){return i[n]=function(){for(var i=arguments.length,r=Array(i),o=0;i>o;o++)r[o]=arguments[o];return e[n].apply(e,[t.getState()].concat(r))},i},{})},k=function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=w(e);return Object.keys(t).reduce(function(e,n){return e[n]=E(t[n],i),e},{})},C=function(e,t){if(!t)return 0;var i=(0,f.ancestorsWithClass)(t,"w-chrome")[0];if(!i)return 0;var n=(0,f.offset)(i).left,r=parseInt(t.style.left)||0,o=(0,f.offset)(t).left-r,s=o+120,a=n+e;return Math.min(a-s,0)};t.default={FocusHelper:v,classListToString:b,bindActionsToStore:A,bindAccessorsToStore:k,bindListenersToStore:g.default,leftValueToKeepMenuInsideVideo:C}},function(e,t,i){var n=i(16),r=n.Symbol;e.exports=r},function(e,t,i){var n=i(90),r=i(176),o=i(24),s=r(function(e,t){n(t,o(t),e)});e.exports=s},function(e,t,i){function n(e){if(!e)return 0===e?e:0;if((e=r(e))===o||e===-o){return(0>e?-1:1)*s}var t=e%1;return e===e?t?e-t:e:0}var r=i(103),o=1/0,s=1.7976931348623157e308;e.exports=n},function(e,t,i){var n;n=function(e){return null==e&&(e="app"),e?e+".wistia.com":"wistia.com"},e.exports=n},,,function(e,t,i){function n(e,t,i,a,u){return e===t||(null==e||null==t||!o(e)&&!s(t)?e!==e&&t!==t:r(e,t,n,i,a,u))}var r=i(122),o=i(13),s=i(5);e.exports=n},function(e,t,i){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},r=i(10),o=function(e){return e&&e.__esModule?e:{default:e}}(r),s=i(9),a=o.default;null==a._timeouts&&(a._timeouts={});var u=function(e,t){var i=arguments.length<=2||void 0===arguments[2]?1:arguments[2];(0,s.isArray)(e)&&(e=e.join("."));var r=d(e);if(l(e,r),!t)return a._timeouts[r][e];var o=function(){var n=a._timeouts[r];null==n&&(n=a._timeouts[r]={});var o=setTimeout(function(){delete n[e],t()},i);return n[e]=o,{v:o}}();return"object"===(void 0===o?"undefined":n(o))?o.v:void 0},l=function(e){var t=arguments.length<=1||void 0===arguments[1]?null:arguments[1];(0,s.isArray)(e)&&(e=e.join(".")),t=t||d(e);var i=void 0;if("__global__"===t&&(i=a._timeouts[e]))for(var n in i){var r=i[n];clearTimeout(r),delete i[n]}if(i=a._timeouts[t])for(var n in i){var r=i[n];!n.indexOf||0!==n.indexOf(e)||n.length!==e.length&&"."!==n.charAt(e.length)||(clearTimeout(r),delete i[n])}a.blockSweepTimeouts||(a.blockSweepTimeouts=!0,setTimeout(c,0),setTimeout(function(){a.blockSweepTimeouts=!1},5e3))},c=function(){for(var e in a._timeouts){var t=a._timeouts[e];(0,s.isEmpty)(t)&&delete a._timeouts[e]}},d=function(e){var t=e.indexOf(".");return t>0?e.substring(0,t):"__global__"};e.exports={doTimeout:u,clearTimeouts:l}},function(e,t,i){function n(e){return l.call(e)}var r=i(17),o=i(83),s=i(99),a=Object.prototype,u=Function.prototype.toString,l=a.toString,c=r?u.call(r):"",d=o?u.call(o):"",h=s?u.call(s):"";(r&&"[object Map]"!=n(new r)||o&&"[object Set]"!=n(new o)||s&&"[object WeakMap]"!=n(new s))&&(n=function(e){var t=l.call(e),i="[object Object]"==t?e.constructor:null,n="function"==typeof i?u.call(i):"";if(n)switch(n){case c:return"[object Map]";case d:return"[object Set]";case h:return"[object WeakMap]"}return t}),e.exports=n},function(e,t,i){function n(e){var t=-1,i=e?e.length:0;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}var r=i(139),o=i(140),s=i(141),a=i(142),u=i(143);n.prototype.clear=r,n.prototype.delete=o,n.prototype.get=s,n.prototype.has=a,n.prototype.set=u,e.exports=n},function(e,t){function i(e){var t=-1,i=Array(e.size);return e.forEach(function(e){i[++t]=e}),i}e.exports=i},,,function(e,t){function i(e,t){return r.call(e,t)||"object"==typeof e&&t in e&&null===o(e)}var n=Object.prototype,r=n.hasOwnProperty,o=Object.getPrototypeOf;e.exports=i},function(e,t,i){(function(e,i){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};(function(){function r(e,t){function i(e,t){try{e()}catch(e){t&&t()}}function o(e){if(null!=o[e])return o[e];var n;if("bug-string-char-index"==e)n="a"!="a"[0];else if("json"==e)n=o("json-stringify")&&o("date-serialization")&&o("json-parse");else if("date-serialization"==e){if(n=o("json-stringify")&&b){var r=t.stringify;i(function(){n='"-271821-04-20T00:00:00.000Z"'==r(new d(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==r(new d(864e13))&&'"-000001-01-01T00:00:00.000Z"'==r(new d(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==r(new d(-1))})}}else{var a,l='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==e){var r=t.stringify,c="function"==typeof r;c&&((a=function(){return 1}).toJSON=a,i(function(){c="0"===r(0)&&"0"===r(new s)&&'""'==r(new u)&&r(y)===g&&r(g)===g&&r()===g&&"1"===r(a)&&"[1]"==r([a])&&"[null]"==r([g])&&"null"==r(null)&&"[null,null,null]"==r([g,y,null])&&r({a:[a,!0,!1,null,"\0\b\n\f\r\t"]})==l&&"1"===r(null,a)&&"[\n 1,\n 2\n]"==r([1,2],null,1)},function(){c=!1})),n=c}if("json-parse"==e){var h,p=t.parse;"function"==typeof p&&i(function(){0!==p("0")||p(!1)||(a=p(l),(h=5==a.a.length&&1===a.a[0])&&(i(function(){h=!p('"\t"')}),h&&i(function(){h=1!==p("01")}),h&&i(function(){h=1!==p("1.")})))},function(){h=!1}),n=h}}return o[e]=!!n}e||(e=l.Object()),t||(t=l.Object());var s=e.Number||l.Number,u=e.String||l.String,c=e.Object||l.Object,d=e.Date||l.Date,h=e.SyntaxError||l.SyntaxError,p=e.TypeError||l.TypeError,f=e.Math||l.Math,m=e.JSON||l.JSON;"object"==(void 0===m?"undefined":n(m))&&m&&(t.stringify=m.stringify,t.parse=m.parse);var g,_=c.prototype,y=_.toString,v=_.hasOwnProperty,b=new d(-0xc782b5b800cec);if(i(function(){b=-109252==b.getUTCFullYear()&&0===b.getUTCMonth()&&1===b.getUTCDate()&&10==b.getUTCHours()&&37==b.getUTCMinutes()&&6==b.getUTCSeconds()&&708==b.getUTCMilliseconds()}),o["bug-string-char-index"]=o["date-serialization"]=o.json=o["json-stringify"]=o["json-parse"]=null,!o("json")){var A="[object Function]",w="[object Number]",E="[object String]",k="[object Array]",C=o("bug-string-char-index"),T=function(e,t){var i,r,o,s=0;(i=function(){this.valueOf=0}).prototype.valueOf=0,r=new i;for(o in r)v.call(r,o)&&s++;return i=r=null,s?T=function(e,t){var i,n,r=y.call(e)==A;for(i in e)r&&"prototype"==i||!v.call(e,i)||(n="constructor"===i)||t(i);(n||v.call(e,i="constructor"))&&t(i)}:(r=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],T=function(e,t){var i,o,s=y.call(e)==A,u=!s&&"function"!=typeof e.constructor&&a[n(e.hasOwnProperty)]&&e.hasOwnProperty||v;for(i in e)s&&"prototype"==i||!u.call(e,i)||t(i);for(o=r.length;i=r[--o];u.call(e,i)&&t(i));}),T(e,t)};if(!o("json-stringify")&&!o("date-serialization")){var x={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},S=function(e,t){return("000000"+(t||0)).slice(-e)},O=function(e){var t,i,n,r,o,s,a,u,l;if(b)t=function(e){i=e.getUTCFullYear(),n=e.getUTCMonth(),r=e.getUTCDate(),s=e.getUTCHours(),a=e.getUTCMinutes(),u=e.getUTCSeconds(),l=e.getUTCMilliseconds()};else{var c=f.floor,d=[0,31,59,90,120,151,181,212,243,273,304,334],h=function(e,t){return d[t]+365*(e-1970)+c((e-1969+(t=+(t>1)))/4)-c((e-1901+t)/100)+c((e-1601+t)/400)};t=function(e){for(r=c(e/864e5),i=c(r/365.2425)+1970-1;h(i+1,0)<=r;i++);for(n=c((r-h(i,0))/30.42);h(i,n+1)<=r;n++);r=1+r-h(i,n),o=(e%864e5+864e5)%864e5,s=c(o/36e5)%24,a=c(o/6e4)%60,u=c(o/1e3)%60,l=o%1e3}}return(O=function(e){return e>-1/0&&1/0>e?(t(e),e=(0>=i||i>=1e4?(0>i?"-":"+")+S(6,0>i?-i:i):S(4,i))+"-"+S(2,n+1)+"-"+S(2,r)+"T"+S(2,s)+":"+S(2,a)+":"+S(2,u)+"."+S(3,l)+"Z",i=n=r=s=a=u=l=null):e=null,e})(e)};if(o("json-stringify")&&!o("date-serialization")){var P;!function(){var e=function(e){return O(this)};P=t.stringify,t.stringify=function(t,i,n){var r=d.prototype.toJSON;d.prototype.toJSON=e;var o=P(t,i,n);return d.prototype.toJSON=r,o}}()}else{var I=function(e){var t=e.charCodeAt(0),i=x[t];return i||"\\u00"+S(2,t.toString(16))},M=/[\x00-\x1f\x22\x5c]/g,D=function(e){return M.lastIndex=0,'"'+(M.test(e)?e.replace(M,I):e)+'"'},R=function e(t,r,o,s,a,u,l){var c,h,f,m,_,v,b,A,C;if(i(function(){c=r[t]}),"object"==(void 0===c?"undefined":n(c))&&c&&(c.getUTCFullYear&&"[object Date]"==y.call(c)&&c.toJSON===d.prototype.toJSON?c=O(c):"function"==typeof c.toJSON&&(c=c.toJSON(t))),o&&(c=o.call(r,t,c)),c==g)return c===g?c:"null";switch(h=void 0===c?"undefined":n(c),"object"==h&&(f=y.call(c)),f||h){case"boolean":case"[object Boolean]":return""+c;case"number":case w:return c>-1/0&&1/0>c?""+c:"null";case"string":case E:return D(""+c)}if("object"==(void 0===c?"undefined":n(c))){for(b=l.length;b--;)if(l[b]===c)throw p();if(l.push(c),m=[],A=u,u+=a,f==k){for(v=0,b=c.length;b>v;v++)_=e(v,c,o,s,a,u,l),m.push(_===g?"null":_);C=m.length?a?"[\n"+u+m.join(",\n"+u)+"\n"+A+"]":"["+m.join(",")+"]":"[]"}else T(s||c,function(t){var i=e(t,c,o,s,a,u,l);i!==g&&m.push(D(t)+":"+(a?" ":"")+i)}),C=m.length?a?"{\n"+u+m.join(",\n"+u)+"\n"+A+"}":"{"+m.join(",")+"}":"{}";return l.pop(),C}};t.stringify=function(e,t,i){var r,o,s,u;if(a[void 0===t?"undefined":n(t)]&&t)if((u=y.call(t))==A)o=t;else if(u==k){s={};for(var l,c=0,d=t.length;d>c;l=t[c++],((u=y.call(l))==E||u==w)&&(s[l]=1));}if(i)if((u=y.call(i))==w){if((i-=i%1)>0)for(r="",i>10&&(i=10);r.length<i;r+=" ");}else u==E&&(r=i.length<=10?i:i.slice(0,10));return R("",(l={},l[""]=e,l),o,s,r,"",[])}}}if(!o("json-parse")){var B,L,F=u.fromCharCode,j={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},N=function(){throw B=L=null,h()},H=function(){for(var e,t,i,n,r,o=L,s=o.length;s>B;)switch(r=o.charCodeAt(B)){case 9:case 10:case 13:case 32:B++;break;case 123:case 125:case 91:case 93:case 58:case 44:return e=C?o.charAt(B):o[B],B++,e;case 34:for(e="@",B++;s>B;)if(32>(r=o.charCodeAt(B)))N();else if(92==r)switch(r=o.charCodeAt(++B)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:e+=j[r],B++;break;case 117:for(t=++B,i=B+4;i>B;B++)(r=o.charCodeAt(B))>=48&&57>=r||r>=97&&102>=r||r>=65&&70>=r||N();e+=F("0x"+o.slice(t,B));break;default:N()}else{if(34==r)break;for(r=o.charCodeAt(B),t=B;r>=32&&92!=r&&34!=r;)r=o.charCodeAt(++B);e+=o.slice(t,B)}if(34==o.charCodeAt(B))return B++,e;N();default:if(t=B,45==r&&(n=!0,r=o.charCodeAt(++B)),r>=48&&57>=r){for(48==r&&(r=o.charCodeAt(B+1))>=48&&57>=r&&N(),n=!1;s>B&&(r=o.charCodeAt(B))>=48&&57>=r;B++);if(46==o.charCodeAt(B)){for(i=++B;s>i&&(r=o.charCodeAt(i))>=48&&57>=r;i++);i==B&&N(),B=i}if(101==(r=o.charCodeAt(B))||69==r){for(r=o.charCodeAt(++B),(43==r||45==r)&&B++,i=B;s>i&&(r=o.charCodeAt(i))>=48&&57>=r;i++);i==B&&N(),B=i}return+o.slice(t,B)}n&&N();var a=o.slice(B,B+4);if("true"==a)return B+=4,!0;if("fals"==a&&101==o.charCodeAt(B+4))return B+=5,!1;if("null"==a)return B+=4,null;N()}return"$"},U=function e(t){var i,n;if("$"==t&&N(),"string"==typeof t){if("@"==(C?t.charAt(0):t[0]))return t.slice(1);if("["==t){for(i=[];"]"!=(t=H());)n?","==t?"]"==(t=H())&&N():N():n=!0,","==t&&N(),i.push(e(t));return i}if("{"==t){for(i={};"}"!=(t=H());)n?","==t?"}"==(t=H())&&N():N():n=!0,(","==t||"string"!=typeof t||"@"!=(C?t.charAt(0):t[0])||":"!=H())&&N(),i[t.slice(1)]=e(H());return i}N()}return t},V=function(e,t,i){var n=W(e,t,i);n===g?delete e[t]:e[t]=n},W=function(e,t,i){var r,o=e[t];if("object"==(void 0===o?"undefined":n(o))&&o)if(y.call(o)==k)for(r=o.length;r--;V(o,r,i));else T(o,function(e){V(o,e,i)});return i.call(e,t,o)};t.parse=function(e,t){var i,n;return B=0,L=""+e,i=U(H()),"$"!=H()&&N(),B=L=null,t&&y.call(t)==A?W((n={},n[""]=i,n),"",t):i}}}return t.runInContext=r,t}var o=null,s="function"==typeof o&&o.amd,a={function:!0,object:!0},u=a[n(t)]&&t&&!t.nodeType&&t,l=a["undefined"==typeof window?"undefined":n(window)]&&window||this,c=u&&a[n(e)]&&e&&!e.nodeType&&"object"==(void 0===i?"undefined":n(i))&&i;if(!c||c.global!==c&&c.window!==c&&c.self!==c||(l=c),u&&!s)r(l,u);else{var d=l.JSON,h=l.JSON3,p=!1,f=r(l,l.JSON3={noConflict:function(){return p||(p=!0,l.JSON=d,l.JSON3=h,d=h=null),f}});l.JSON={parse:f.parse,stringify:f.stringify}}s&&o(function(){return f})}).call(void 0)}).call(t,i(18)(e),function(){return this}())},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(701),o=n(r),s=i(289),a=n(s),u=i(470);n(u);t.default={actions:o.default,accessors:a.default}},,function(e,t,i){function n(e,t){var i=r(e,t);return!(0>i)&&(i==e.length-1?e.pop():s.call(e,i,1),!0)}var r=i(28),o=Array.prototype,s=o.splice;e.exports=n},function(e,t,i){function n(e,t){var i=r(e,t);return 0>i?void 0:e[i][1]}var r=i(28);e.exports=n},function(e,t,i){function n(e,t){return r(e,t)>-1}var r=i(28);e.exports=n},function(e,t,i){function n(e,t,i){var n=r(e,t);0>n?e.push([t,i]):e[n][1]=i}var r=i(28);e.exports=n},function(e,t,i){function n(e,t){return r?void 0!==e[t]:s.call(e,t)}var r=i(30),o=Object.prototype,s=o.hasOwnProperty;e.exports=n},function(e,t,i){function n(e,t){return(a(e)?r:o)(e,s(t,3))}var r=i(179),o=i(180),s=i(77),a=i(3);e.exports=n},function(e,t){function i(e){return function(t){return null==t?void 0:t[e]}}e.exports=i},function(e,t){"use strict";function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},i=0;10>i;i++)t["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(e){n[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var o,s,a=i(e),u=1;u<arguments.length;u++){o=Object(arguments[u]);for(var l in o)n.call(o,l)&&(a[l]=o[l]);if(Object.getOwnPropertySymbols){s=Object.getOwnPropertySymbols(o);for(var c=0;c<s.length;c++)r.call(o,s[c])&&(a[s[c]]=o[s[c]])}}return a}},function(e,t,i){function n(e){return r(e)?e:o(e)}var r=i(3),o=i(155);e.exports=n},,,,function(e,t,i){function n(e){var t=typeof e;return"function"==t?e:null==e?s:"object"==t?a(e)?o(e[0],e[1]):r(e):u(e)}var r=i(161),o=i(162),s=i(145),a=i(3),u=i(166);e.exports=n},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=i(151),o=n(r),s=i(4),a=i(33),u=n(a),l=i(9),c=function(e){for(var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=document.getElementsByTagName("script"),n=0;n<i.length;n++){var r=i[n],o=r.getAttribute("src")||"";if(t.ignoreQueryParams){var s=o.split("?"),a=s[0];s[1],o=a}if(t.ignoreProtocol&&(o=o.replace(/^https?:/,""),e=e.replace(/^https?:/,"")),t.testStartsWith){if(0===o.indexOf(e))return r}else if(o===e)return r}return null},d=function(e,t){var i=arguments.length<=2||void 0===arguments[2]?8e3:arguments[2],n=arguments.length<=3||void 0===arguments[3]?{}:arguments[3];null==i&&(i=8e3),null==n&&(n={});var r=new o.default,s=new o.default,a=void 0,l=void 0;!0===n.once&&(a=c(e))?l=!0:(a=document.createElement("script"),a.src=e,a.async=!0,a.type="text/javascript");var d=a.id=n.id||(0,u.default)(),h=null,p=!1,f=function(){a.onerror=a.onreadystatechange=a.onload=null,clearTimeout(h),clearTimeout(_),h=setTimeout(function(){var e=void 0;(e=document.getElementById(d))&&e.parentNode.removeChild(e)},500)},m=function(){var e=arguments.length<=0||void 0===arguments[0]?"error":arguments[0];return function(i){p=!0,"function"==typeof t&&t(),r(!0,"failed",e),f(),s.go()}},g=function(){var e=a.readyState;p||e&&!/loaded|complete/.test(e)||(p=!0,setTimeout(function(){"function"==typeof t&&t(),r(!0,"success"),f()},1))},_=setTimeout(m("timeout"),i),y=m();return a.onerror=y,a.onreadystatechange=g,a.onload=g,n.once&&l?(!a.readyState||/loaded|complete/.test(a.readyState))&&setTimeout(g,1):(document.body||document.head).appendChild(a),{loaded:r,error:function(){return s}}},h=function(){for(var e=arguments.length,t=Array(e),i=0;e>i;i++)t[i]=arguments[i];if(t[0]instanceof Array){var n=t[1];t=t[0],n&&(t=t.concat(n))}t=p(t);for(var r=0;r<t.length;r++){var a=t[r];a.src&&a.preloadAllowed&&d(a.src,null,null,a)}for(var u=[],l=[],r=0;r<t.length;r++){var a=t[r],c=new o.default,h=new o.default;!function(e,t,i){o.default.when.apply(o.default,u).run(function(){if(e.fn){var n=function(){try{e.fn()}catch(e){s.wlog.error(e)}finally{t.go(),i.go()}};e.async?setTimeout(n,1):n()}else if(e.src){var r=function(){d(e.src,null,null,e).loaded(function(e){i.go(),t.go()})};e.async?(setTimeout(r,1),t.go()):setTimeout(r,1)}})}(a,c,h),u.push(c),l.push(h)}return{loaded:o.default.when.apply(o.default,l)}},p=function(e){for(var t=[],i=0;i<e.length;i++){var n=e[i];"string"==typeof n?t.push({src:n,async:!1}):(0,l.isObject)(n)?t.push(n):t.push({fn:n,async:!1})}return t};e.exports={findScriptInDomBySrc:c,scriptInputsToHash:p,runScript:d,runScripts:h}},function(e,t,i){function n(e,t,i){var n=null==e?void 0:r(e,t);return void 0===n?i:n}var r=i(81);e.exports=n},,function(e,t,i){function n(e,t){t=o(t,e)?[t+""]:r(t);for(var i=0,n=t.length;null!=e&&n>i;)e=e[t[i++]];return i&&i==n?e:void 0}var r=i(73),o=i(44);e.exports=n},function(e,t,i){function n(e){var t=-1,i=e?e.length:0;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}var r=i(134),o=i(135),s=i(136),a=i(137),u=i(138);n.prototype.clear=r,n.prototype.delete=o,n.prototype.get=s,n.prototype.has=a,n.prototype.set=u,e.exports=n},function(e,t,i){var n=i(29),r=i(16),o=n(r,"Set");e.exports=o},function(e,t,i){function n(e){return o(e)&&r(e)}var r=i(23),o=i(5);e.exports=n},function(e,t,i){function n(e){var t=e&&e.constructor;return e===(r(t)&&t.prototype||o)}var r=i(22),o=Object.prototype;e.exports=n},function(e,t){function i(e){var t=-1,i=Array(e.size);return e.forEach(function(e,n){i[++t]=[n,e]}),i}e.exports=i},,function(e,t){function i(e,t){for(var i=-1,n=e.length,r=Array(n);++i<n;)r[i]=t(e[i],i,e);return r}e.exports=i},,function(e,t,i){function n(e,t,i){return r(e,t,i)}var r=i(177);e.exports=n},function(e,t,i){function n(e,t){if("function"!=typeof e)throw new TypeError(s);return t=a(void 0===t?e.length-1:o(t),0),function(){for(var i=arguments,n=-1,o=a(i.length-t,0),s=Array(o);++n<o;)s[n]=i[t+n];switch(t){case 0:return e.call(this,s);case 1:return e.call(this,i[0],s);case 2:return e.call(this,i[0],i[1],s)}var u=Array(t+1);for(n=-1;++n<t;)u[n]=i[n];return u[t]=s,r(e,this,u)}}var r=i(118),o=i(50),s="Expected a function",a=Math.max;e.exports=n},function(e,t,i){function n(e,t,i,n){var u=i.length,l=u,c=!n;if(null==e)return!l;for(e=Object(e);u--;){var d=i[u];if(c&&d[2]?d[1]!==e[d[0]]:!(d[0]in e))return!1}for(;++u<l;){d=i[u];var h=d[0],p=e[h],f=d[1];if(c&&d[2]){if(void 0===p&&!(h in e))return!1}else{var m=new r,g=n?n(p,f,h,e,t,m):void 0;if(!(void 0===g?o(f,p,n,s|a,m):g))return!1}}return!0}var r=i(57),o=i(54),s=1,a=2;e.exports=n},function(e,t,i){function n(e){for(var t=o(e),i=t.length;i--;)t[i][2]=r(t[i][1]);return t}var r=i(133),o=i(115);e.exports=n},function(e,t,i){function n(e){if(!o(e)||c.call(e)!=s||r(e))return!1;var t=d(e);if(null===t)return!0;var i=t.constructor;return"function"==typeof i&&i instanceof i&&u.call(i)==l}var r=i(43),o=i(5),s="[object Object]",a=Object.prototype,u=Function.prototype.toString,l=u.call(Object),c=a.toString,d=Object.getPrototypeOf;e.exports=n},,function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,i,n){var r="?";t=t||{};for(var o in t)"callback"!=o&&t.hasOwnProperty(o)&&(r+=encodeURIComponent(o)+"="+encodeURIComponent(t[o])+"&");p.info(e,r,n);var a,h;if(n&&n.once&&(a=(e+r).replace(/\.json[^p]/,".jsonp"),h=(0,c.findScriptInDomBySrc)(a,{ignoreProtocol:!0,testStartsWith:!0})),h){var f=new l.Url(a),m="wistiajsonp-"+f.relative();p.info("script already in DOM",a,"polling",m),(0,d.poll)(function(){return p.info("found",m,"on root object"),null!=s.default[m]},function(){i(s.default[m])},50,3e4)}else{var g;g=t&&t.callback?t.callback:"wistiajson"+ ++u.default._jsonpCounter,p.info("defining on root:",g),s.default[g]=function(e){i(e);try{delete s.default[g]}catch(e){}s.default[g]=null};var _=e+r+"callback="+g;p.info("runScript",_),(0,c.runScript)(_)}return g}var o=i(38),s=n(o),a=i(10),u=n(a),l=i(34),c=i(78),d=i(40),h=i(4),p=h.wlog.getPrefixedFunctions("jsonp");null==u.default._jsonpCounter&&(u.default._jsonpCounter=0);var f=function(e,t,i){var n=arguments.length<=3||void 0===arguments[3]?{}:arguments[3];n.timeout||(n.timeout=5e3),n.onerror||(n.onerror=function(){});var o=setTimeout(n.onerror,n.timeout);r(e,t,function(e){clearTimeout(o),i&&i(e)},{once:n.once})};e.exports={jsonp:r,jsonpPlus:f}},function(e,t,i){function n(e){return o(e)&&r(e.length)&&!!s[u.call(e)]}var r=i(27),o=i(5),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1;var a=Object.prototype,u=a.toString;e.exports=n},function(e,t,i){var n=i(16),r=n.Uint8Array;e.exports=r},function(e,t,i){var n=i(29),r=i(16),o=n(r,"WeakMap");e.exports=o},function(e,t,i){function n(e){var t=e?e.length:void 0;return a(t)&&(s(e)||u(e)||o(e))?r(t,String):null}var r=i(123),o=i(46),s=i(3),a=i(27),u=i(39);e.exports=n},function(e,t,i){function n(e){return null!=e&&(r(e)?h.test(c.call(e)):s(e)&&(o(e)?h:u).test(e))}var r=i(22),o=i(43),s=i(5),a=/[\\^$.*+?()[\]{}|]/g,u=/^\[object .+?Constructor\]$/,l=Object.prototype,c=Function.prototype.toString,d=l.hasOwnProperty,h=RegExp("^"+c.call(d).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=n},function(e,t,i){function n(e){return"symbol"==typeof e||r(e)&&a.call(e)==o}var r=i(5),o="[object Symbol]",s=Object.prototype,a=s.toString;e.exports=n},function(e,t,i){function n(e){if(o(e)){var t=r(e.valueOf)?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var i=l.test(e);return i||c.test(e)?d(e.slice(2),i?2:8):u.test(e)?s:+e}var r=i(22),o=i(13),s=NaN,a=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,c=/^0o[0-7]+$/i,d=parseInt;e.exports=n},function(e,t,i){var n=i(121),r=i(181),o=r(n);e.exports=o},function(e,t,i){(function(t){!function(i,n){function r(e,t){return(typeof t)[0]==e}function o(e,t){return t=function a(u,l,c,d,h,p){function f(e){return function(t){h&&(h=0,a(r,e,t))}}if(d=a.q,u!=r)return o(function(e,t){d.push({p:this,r:e,j:t,1:u,0:l})});if(c&&r(i,c)|r(n,c))try{h=c.then}catch(e){l=0,c=e}if(r(i,h))try{h.call(c,f(1),l=f(0))}catch(e){l(e)}else for(t=function(t,n){return r(i,t=l?t:n)?o(function(e,i){s(this,e,i,c,t)}):e},p=0;p<d.length;)h=d[p++],r(i,u=h[l])?s(h.p,h.r,h.j,c,u):(l?h.r:h.j)(c)},t.q=[],e.call(e={then:function(e,i){return t(e,i)},catch:function(e){return t(0,e)}},function(e){t(r,1,e)},function(e){t(r,0,e)}),e}function s(e,o,s,a,u){t(function(){try{a=u(a),u=a&&r(n,a)|r(i,a)&&a.then,r(i,u)?a==e?s(TypeError()):u.call(a,o,s):o(a)}catch(e){s(e)}})}function a(e){return o(function(t){t(e)})}e.exports=o,o.resolve=a,o.reject=function(e){return o(function(t,i){i(e)})},o.all=function(e){return o(function(t,i,n,r){r=[],n=e.length||t(r),e.map(function(e,o){a(e).then(function(e){r[o]=e,--n||t(r)},i)})})},o.race=function(e){return o(function(t,i){e.map(function(e){a(e).then(t,i)})})}}("f","o")}).call(t,i(144).setImmediate)},function(e,t,i){function n(e){if("string"==typeof e)return e;if(null==e)return"";if(o(e))return r?u.call(e):"";var t=e+"";return"0"==t&&1/e==-s?"-0":t}var r=i(48),o=i(102),s=1/0,a=r?r.prototype:void 0,u=r?a.toString:void 0;e.exports=n},function(e,t,i){var n,r,o,s,a,u,l,c,d,h,p;d=i(7),u=d.createStore,n=d.applyMiddleware,a=i(603).default,p=i(248),s=i(306),h=function(e){return!1},o=function(e){var t;return null==e&&(e={}),t=u(a(),n(p),n(s({predicate:function(t,i){return h(e)}}))),t.asyncReducers={},t},c=function(e,t,i){return e.asyncReducers[t]=reducer,e.replaceReducer(a(e.asyncReducers))},l=function(e){var t;return null==window.__wistiaStores&&(window.__wistiaStores={}),null==(t=window.__wistiaStores)[e]&&(t[e]=o()),window.__wistiaStores[e]},r=function(){return window.__wistiaStores={}},e.exports={store:l(1),getStoreForPlayerInstance:l,injectAsyncReducer:c,clearStores:r}},function(e,t){function i(e){return n(Object(e))}var n=Object.keys;e.exports=i},,,,,,function(e,t){function i(e,t){for(var i=-1,n=e.length;++i<n;)if(t(e[i],i,e))return!0;return!1}e.exports=i},function(e,t,i){function n(e){return r(e,o(e))}var r=i(124),o=i(24);e.exports=n},function(e,t,i){"use strict";var n=i(15),r=i(14),o=i(34),s=i(31),a=i(25),u=(0,n.cachedDetect)(),l=(0,o.proto)()+"//"+(0,a.cdnFastWistiaComHost)()+"/assets/images/blank.gif",c=function(e,t,i){var n={tagName:"video",id:e,crossorigin:"anonymous",style:{background:"transparent",display:"block",height:"100%",position:"static",visibility:"visible",width:"100%"},preload:"none",type:d(t,i)};i.poster?n.poster=i.poster:n.poster=l,
i.playsinline&&(n.playsinline="playsinline"),i.muted&&(n.muted="muted"),i.loop&&(n.loop="loop"),i.controls&&(n.controls="controls"),i.preload&&(n.preload=i.preload),(u.browser.msie||u.trident)&&(n.style.minWidth="10px",n.style.minHeight="10px");var o={tagName:"source",src:g(t.url),type:d(t,i)};return n.childNodes=[o],(0,r.elemFromObject)(n)},d=function(e,t){if(null!=t.contentType)return t.contentType;var i="video/"+e.ext;return t.spherical&&(i+=";dimension=360;"),i},h=function(e){if((0,s.isBakeryUrl)(e)){var t=new o.Url(e);if(t.protocol)return t.protocol+"//"+t.host}return(0,o.proto)()+"//"+(0,a.deliveryHost)((0,o.proto)())},p=function(e){return h(e)+"/tiny.mp4"},f=function(e){if(null==e)return null;for(var t=0,i=0;i<e.length;i++)t+=e.end(i)-e.start(i);return t},m=function(e,t,i){var n,r,o,s,a,u=[];for(e.sort(function(e,t){var i=e.start-t.start;return i||t.end-e.end}),a=0;a<e.length;a++){var l=u.length;if(l){var c=u[l-1].end;e[a].start-c<i?e[a].end>c&&(u[l-1].end=e[a].end):u.push(e[a])}else u.push(e[a])}for(a=0,n=0,r=o=t;a<u.length;a++){var d=u[a].start,h=u[a].end;if(t+i>=d&&h>t)r=d,o=h,n=o-t;else if(d>t+i){s=d;break}}return{len:n,start:r,end:o,nextStart:s}},g=function(e){var t=arguments.length<=1||void 0===arguments[1]?"mp4":arguments[1];return(0,s.isBakeryUrl)(e)&&/\.bin$/.test(e)?e.replace(/\.bin$/,"")+"/file."+t:e};e.exports={createElement:c,inferTypeAttribute:d,srcProtocolAndHost:h,tinyMp4Url:p,sumTimeRanges:f,bufferedInfo:m,properAssetUrl:g}},function(e,t,i){"use strict";var n=(i(14),i(119)),r=function(e){return null!=e.attributes.trimStart&&e.attributes.trimStart>0},o=function(e){var t=arguments.length<=1||void 0===arguments[1]?0:arguments[1];return r(e)&&e.video.currentTime<e.attributes.trimStart-t},s=function(e){return null!=e.attributes.trimEnd&&e.attributes.trimEnd>0},a=function(e){var t=arguments.length<=1||void 0===arguments[1]?0:arguments[1];return s(e)&&e.video.currentTime>e.attributes.trimEnd+t},u=function(e){e.video,n.globalEventLoop.add(e.uuid+".enforce_trimming",100,function(){l(e)})},l=function(e){var t=arguments.length<=1||void 0===arguments[1]?.5:arguments[1];"beforeplay"!==e.getPlaybackMode()&&(e.state.fakeEnded&&!a(e)?e.state.fakeEnded=!1:!e.state.fakeEnded&&a(e)&&(e.state.fakeEnded=!0,e.attributes.loop?(e.trigger("ended"),e.seek(0).then(function(){return e.play()})):(e.pause(),e.trigger("ended"))),o(e,t)?e.seek(0):a(e,t)&&e.seek(e.getDuration()))},c=function(e,t){var i=t.start,n=t.end;null!=t.sensitivity&&t.sensitivity;null!=i&&i>=0&&(e.attributes.trimStart=t.start),null!=n&&n>=0&&(e.attributes.trimEnd=t.end),u(e)},d=function(e){return{start:e.attributes.trimStart||-1,end:e.attributes.trimEnd||-1}},h=function(e){n.globalEventLoop.remove(e.uuid+".enforce_trimming")};e.exports={getTrim:d,isStartDefined:r,isEndDefined:s,isBeforeStart:o,isAfterEnd:a,enforceTrimming:u,setTrim:c,teardown:h}},function(e,t){function i(e,t,i){switch(i.length){case 0:return e.call(t);case 1:return e.call(t,i[0]);case 2:return e.call(t,i[0],i[1]);case 3:return e.call(t,i[0],i[1],i[2])}return e.apply(t,i)}e.exports=i},function(e,t,i){"use strict";var n=i(14),r=i(4),o=i(10),s=function(e){return e&&e.__esModule?e:{default:e}}(o),a=r.wlog.getPrefixedFunctions("event_loop"),u=function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this._timeoutId=null,this._latency=null!=t.latency?t.latency:100,this._blurLatency=null!=t.blurLatency?t.blurLatency:2e3,this._functions={},this._paused={},(0,n.elemBind)(window,"blur",function(){return e.blur()}),(0,n.elemBind)(window,"focus",function(){return e.focus()}),this.start()},l=u.prototype;l.start=function(){var e=this;clearTimeout(this._timeoutId),this._loopFn=this._loopFn||function(){e.runFunctions(),e._timeoutId=setTimeout(e._loopFn,e._latency)},this._loopFn()},l.resync=function(){this.start()},l.resyncNextTick=function(){var e=this;setTimeout(function(){e.resync()},0)},l.stop=function(){clearTimeout(this._timeoutId)},l.clear=function(){this._functions={}},l.runFunctions=function(){this._pausedDirty&&this.updatePaused();var e=[];for(var t in this._functions){var i=this._functions[t],n=(new Date).getTime(),r=n-i.lastRanAt;if(!i.paused&&r>=i.interval){i.lastRanAt=n;try{i.fn()===this.remove&&e.push(t)}catch(e){a.error(e)}}}for(var o=0;o<e.length;o++)this.remove(e[o])},l.add=function(e,t,i){var n=(new Date).getTime();this._functions[e]={addedAt:n,lastRanAt:-1,interval:t,fn:i};var r=i();this._functions[e]&&(this._functions[e].lastRanAt=(new Date).getTime()),this._functions[e]&&r===this.remove?delete this._functions[e]:this._pausedDirty=!0},l.remove=function(e){var t=this;this.forEachMatchingKey(e,function(e){delete t._functions[e]})},l.forEachMatchingKey=function(e,t){for(var i in this._functions){var n=this._functions[i];this.key1IncludesKey2(e,i)&&t(i,n)}},l.latency=function(e){return null==e?this._latency:void(this._latency=e)},l.interval=function(e,t){return null==t?this._functions[e].interval:void(null==this._functions[e]?a.notice("setting interval of ",e,"to",t,"failed because",e,"is not defined"):this._functions[e].interval=t)},l.pause=function(e){this._paused[e]=!0,this._pausedDirty=!0},l.unpause=function(e){this._paused[e]=!1,this._pausedDirty=!0},l.isPaused=function(e){for(var t in this.paused){if(this._paused[t]&&this.key1IncludesKey2(t,e))return!0}return!1},l.updatePaused=function(){for(var e in this._functions){this._functions[e].paused=this.isPaused(e)}this._pausedDirty=!1},l.key1IncludesKey2=function(e,t){return"function"==typeof t.indexOf&&0===t.indexOf(e)&&(t.length===e.length||"."===t.charAt(e.length))},l.blur=function(){this._blurred||(this._blurred=!0,this._savedLatency=this._latency,this._latency=this._blurLatency)},l.focus=function(){this._blurred&&(this._blurred=!1,this._latency=this._savedLatency,this.resync())},null==s.default.eventLoop&&(s.default.eventLoop=new u({latency:100,blurLatency:100}));var c=s.default.eventLoop;e.exports={EventLoop:u,globalEventLoop:c}},function(e,t,i){function n(){}var r=i(30),o=Object.prototype;n.prototype=r?r(null):o,e.exports=n},function(e,t,i){function n(e,t){return e&&r(e,t,o)}var r=i(153),o=i(24);e.exports=n},function(e,t,i){function n(e,t,i,n,g,y){var v=l(e),b=l(t),A=f,w=f;v||(A=u(e),A==p?A=m:A!=m&&(v=d(e))),b||(w=u(t),w==p?w=m:w!=m&&(b=d(t)));var E=A==m&&!c(e),k=w==m&&!c(t),C=A==w;if(C&&!v&&!E)return s(e,t,A,i,n,g);if(!(g&h)){var T=E&&_.call(e,"__wrapped__"),x=k&&_.call(t,"__wrapped__");if(T||x)return i(T?e.value():e,x?t.value():t,n,g,y)}return!!C&&(y||(y=new r),(v?o:a)(e,t,i,n,g,y))}var r=i(57),o=i(126),s=i(127),a=i(128),u=i(56),l=i(3),c=i(43),d=i(97),h=2,p="[object Arguments]",f="[object Array]",m="[object Object]",g=Object.prototype,_=g.hasOwnProperty;e.exports=n},function(e,t){function i(e,t){for(var i=-1,n=Array(e);++i<e;)n[i]=t(i);return n}e.exports=i},function(e,t,i){function n(e,t){return r(t,function(t){return[t,e[t]]})}var r=i(88);e.exports=n},function(e,t){function i(e){return e&&e.Object===Object?e:null}e.exports=i},function(e,t,i){function n(e,t,i,n,a,u){var l=-1,c=a&s,d=a&o,h=e.length,p=t.length;if(h!=p&&!(c&&p>h))return!1;var f=u.get(e);if(f)return f==t;var m=!0;for(u.set(e,t);++l<h;){var g=e[l],_=t[l];if(n)var y=c?n(_,g,l,t,e,u):n(g,_,l,e,t,u);if(void 0!==y){if(y)continue;m=!1;break}if(d){if(!r(t,function(e){return g===e||i(g,e,n,a,u)})){m=!1;break}}else if(g!==_&&!i(g,_,n,a,u)){m=!1;break}}return u.delete(e),m}var r=i(114),o=1,s=2;e.exports=n},function(e,t,i){function n(e,t,i,n,b,w){switch(i){case v:return!(e.byteLength!=t.byteLength||!n(new o(e),new o(t)));case c:case d:return+e==+t;case h:return e.name==t.name&&e.message==t.message;case f:return e!=+e?t!=+t:e==+t;case m:case _:return e==t+"";case p:var E=s;case g:var k=w&l;return E||(E=a),(k||e.size==t.size)&&n(E(e),E(t),b,w|u);case y:return!!r&&A.call(e)==A.call(t)}return!1}var r=i(48),o=i(98),s=i(86),a=i(58),u=1,l=2,c="[object Boolean]",d="[object Date]",h="[object Error]",p="[object Map]",f="[object Number]",m="[object RegExp]",g="[object Set]",_="[object String]",y="[object Symbol]",v="[object ArrayBuffer]",b=r?r.prototype:void 0,A=r?b.valueOf:void 0;e.exports=n},function(e,t,i){function n(e,t,i,n,a,u){var l=a&s,c=o(e),d=c.length;if(d!=o(t).length&&!l)return!1;for(var h=d;h--;){var p=c[h];if(!(l?p in t:r(t,p)))return!1}var f=u.get(e);if(f)return f==t;var m=!0;u.set(e,t);for(var g=l;++h<d;){p=c[h];var _=e[p],y=t[p];if(n)var v=l?n(y,_,p,t,e,u):n(_,y,p,e,t,u);if(!(void 0===v?_===y||i(_,y,n,a,u):v)){m=!1;break}g||(g="constructor"==p)}if(m&&!g){var b=e.constructor,A=t.constructor;b!=A&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof A&&A instanceof A)&&(m=!1)}return u.delete(e),m}var r=i(61),o=i(24),s=2;e.exports=n},function(e,t,i){var n=i(71),r=n("length");e.exports=r},function(e,t,i){function n(e,t){return r(e,t)&&delete e[t]}var r=i(69);e.exports=n},function(e,t,i){function n(e,t){if(r){var i=e[t];return i===o?void 0:i}return a.call(e,t)?e[t]:void 0}var r=i(30),o="__lodash_hash_undefined__",s=Object.prototype,a=s.hasOwnProperty;e.exports=n},function(e,t,i){function n(e,t,i){e[t]=r&&void 0===i?o:i}var r=i(30),o="__lodash_hash_undefined__";e.exports=n},function(e,t,i){function n(e){return e===e&&!r(e)}var r=i(13);e.exports=n},function(e,t,i){function n(){this.__data__={hash:new r,map:o?new o:[],string:new r}}var r=i(120),o=i(17);e.exports=n},function(e,t,i){function n(e){var t=this.__data__;return a(e)?s("string"==typeof e?t.string:t.hash,e):r?t.map.delete(e):o(t.map,e)}var r=i(17),o=i(65),s=i(130),a=i(21);e.exports=n},function(e,t,i){function n(e){var t=this.__data__;return a(e)?s("string"==typeof e?t.string:t.hash,e):r?t.map.get(e):o(t.map,e)}var r=i(17),o=i(66),s=i(131),a=i(21);e.exports=n},function(e,t,i){function n(e){var t=this.__data__;return a(e)?s("string"==typeof e?t.string:t.hash,e):r?t.map.has(e):o(t.map,e)}var r=i(17),o=i(67),s=i(69),a=i(21);e.exports=n},function(e,t,i){function n(e,t){var i=this.__data__;return a(e)?s("string"==typeof e?i.string:i.hash,e,t):r?i.map.set(e,t):o(i.map,e,t),this}var r=i(17),o=i(68),s=i(132),a=i(21);e.exports=n},function(e,t){function i(){this.__data__={array:[],map:null}}e.exports=i},function(e,t,i){function n(e){var t=this.__data__,i=t.array;return i?r(i,e):t.map.delete(e)}var r=i(65);e.exports=n},function(e,t,i){function n(e){var t=this.__data__,i=t.array;return i?r(i,e):t.map.get(e)}var r=i(66);e.exports=n},function(e,t,i){function n(e){var t=this.__data__,i=t.array;return i?r(i,e):t.map.has(e)}var r=i(67);e.exports=n},function(e,t,i){function n(e,t){var i=this.__data__,n=i.array;n&&(n.length<s-1?o(n,e,t):(i.array=null,i.map=new r(n)));var a=i.map;return a&&a.set(e,t),this}var r=i(82),o=i(68),s=200;e.exports=n},function(e,t,i){(function(e,n){function r(e,t){this._id=e,this._clearFn=t}var o=i(290).nextTick,s=Function.prototype.apply,a=Array.prototype.slice,u={},l=0;t.setTimeout=function(){return new r(s.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new r(s.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},t.setImmediate="function"==typeof e?e:function(e){var i=l++,n=!(arguments.length<2)&&a.call(arguments,1);return u[i]=!0,o(function(){u[i]&&(n?e.apply(null,n):e.call(null),t.clearImmediate(i))}),i},t.clearImmediate="function"==typeof n?n:function(e){delete u[e]}}).call(t,i(144).setImmediate,i(144).clearImmediate)},function(e,t){function i(e){return e}e.exports=i},function(e,t,i){"use strict";var n=i(4),r=n.wlog.getPrefixedFunctions("bindify"),o=function(e,t){return this._bindings||(this._bindings={}),this._bindings[e]||(this._bindings[e]=[]),this._bindings[e].push(t),this},s=function(e,t){if(!this._bindings)return this;if(!this._bindings[e])return this;for(var i=[],n=0;n<this._bindings[e].length;n++){var r=this._bindings[e][n];r!==t&&i.push(r)}return this._bindings[e]=i,this},a=function(e,t){this.unbind(e,t),this.bind(e,t)},u=function(e){if(!this._bindings)return this;if(!this._bindings[e])return this;for(var t=Array.prototype.slice.call(arguments,1),i=[],n=this._bindings[e],o=0;o<n.length;o++){var s=n[o];try{s.apply(this,t)===this.unbind&&i.push({event:e,fn:s})}catch(e){r.error(e)}}for(var o=0;o<i.length;o++){var a=i[o];this.unbind(a.event,a.fn)}return this},l=function(e,t){null==e._namedBindings&&(e._namedBindings={}),null==e._namedBindings[t]&&(e._namedBindings[t]={})},c=function(e,t,i){return l(e,t),e._namedBindings[t][i]},d=function(e,t,i,n,r){l(e,t),e._namedBindings[t][i]={event:n,fn:r}},h=function(e,t,i,n){return r.debug("bindNamed",e,t,i),this.unbindNamed(e,t),d(this,e,t,i,n),this.bind(i,n),this},p=function(e,t){r.debug("unbindNamed",e,t),l(this,e);var i=c(this,e,t);if(i){var n=i.event,o=i.fn;this.unbind(n,o)}var s=this._namedBindings;return delete s[e][t],m(s[e])&&delete s[e],this},f=function(e){r.debug("unbindAllInNamespace",e);var t=this._namedBindings[e];if(null==t)return this;for(var i in t)t.hasOwnProperty(i)&&this.unbindNamed(e,i)},m=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},g=function(e){return e.bind=o,e.unbind=s,e.rebind=a,e.trigger=u,e.bindNamed=h,e.unbindNamed=p,e.unbindAllInNamespace=f,e},_=function(){};g(_.prototype),e.exports={bindify:g,bind:o,unbind:s,rebind:a,trigger:u,Bindings:_,bindNamed:h,unbindNamed:p,unbindAllInNamespace:f}},function(e,t,i){function n(e,t,i){var n=e[t];s.call(e,t)&&r(n,i)&&(void 0!==i||t in e)||(e[t]=i)}var r=i(41),o=Object.prototype,s=o.hasOwnProperty;e.exports=n},function(e,t,i){function n(e,t){return 1==t.length?e:o(e,r(t,0,-1))}var r=i(164),o=i(79);e.exports=n},function(e,t){function i(e){var t=e?e.length:0;return t?e[t-1]:void 0}e.exports=i},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},o=i(9),s=i(34),a=i(15),u=i(78),l=i(4),c=i(33),d=n(c),h=i(96),p=i(55),f=i(62),m=n(f),g=(0,a.cachedDetect)(),_=l.wlog.getPrefixedFunctions("ajax"),y={type:"GET",contentType:"",headers:void 0,data:void 0,dataType:void 0,timeout:0,success:void 0,error:void 0,complete:void 0},v=function(e,t){return t=(0,o.merge)({},t,{type:"GET",data:void 0}),w(e,t)},b=function(e,t){return t=(0,o.merge)({},t,{type:"HEAD",data:void 0}),w(e,t)},A=function(e,t){var i={contentType:"application/x-www-form-urlencoded"},n={type:"POST"};return t=(0,o.merge)(i,t,n),w(e,t)},w=function(e,t){_.info("ajax",e,t);var i=(0,o.merge)({},y,t),n=new s.Url(e);n.protocol=n.protocol||(0,s.proto)();var a=!!(g.browser.msie&&g.browser.version<11),l=(0,s.proto)()!==n.protocol;if(_.info("noHttpToHttpsSupport",a,"isHttpToHttps",l),i.fallbackToJsonp&&l&&a){if(_.info("fallbackToJsonp"),i.type&&!/get/i.test(i.type))return void((0,o.isFunction)(i.error)&&i.error.call(null,null,"error","This browser does not support POST requests from an http to an https domain. To use this feature, please make sure this page is loaded over https."));!function(){var e=n.params;i.data&&(0,o.isObject)(i.data)&&(e=(0,o.merge)(e,i.data)),i.jsonpCallback&&(e.callback=i.jsonpCallback),n.params={};var t=(0,u.findScriptInDomBySrc)(n.absolute(),{ignoreProtocol:!0,testStartsWith:!0});t&&(_.info("found existing script, removing",n.absolute()),t.onload=t.onreadystatechange=t.onerror=null,t.parentNode&&t.parentNode.removeChild(t));var r=(0,d.default)("ajax-jsonp.");(0,h.jsonp)(n.absolute(),e,function(e){if((0,p.clearTimeouts)(r),"json"===i.dataType&&"string"==typeof e)try{var t=m.default.parse(e);i.success(t,"OK",e),i.complete(null,"OK")}catch(t){i.error(null,"parseerror",e),i.complete(null,e)}else i.success(e,"OK")}),(0,p.doTimeout)(r,function(){i.error(null,"timeout"),_.warn("request timed out:",n.absolute(),e)},6e4)}()}var c=n.absolute(),f=k(c);if(!f)return(0,o.isFunction)(i.error)&&i.error.call(null,f,"error","Could not create XMLHttpRequest"),void((0,o.isFunction)(i.complete)&&i.complete.call(null,f,"error"));var v=null!=window.XDomainRequest&&f instanceof window.XDomainRequest,b=!1,A=!1,w=function(e,t,n){b||(0,o.isFunction)(i.error)&&i.error.call(null,e,t,n),b=!0},E=function(e,t,n){(0,o.isFunction)(i.success)&&(b||i.success.call(null,e,t,n)),b=!0},C=function(e,t){(0,o.isFunction)(i.complete)&&(A||i.complete.call(null,e,t)),e.onerror=e.ontimeout=e[v?"onload":"onreadystatechange"]=null,A=!0};_.info("xhr.open",i.type,c),f.open(i.type,c,!0);var T=function(){if(null!=f.status&&(f.status>=200&&f.status<300||304==f.status))if("json"==i.dataType&&"object"!==r(f.response))try{var e=m.default.parse(f.responseText);_.info("success",f.statusText,e),E(e,f.statusText,f)}catch(e){w(f,"parseerror",e),_.warn("parseerror"),_.warn(e)}else E(f.response||f.responseText,f.statusText,f),_.info("success",f.statusText,f.response||f.responseText);else w(f,"error",f.statusText),_.warn("error",f.statusText);C(f,f.statusText),_.info("complete",f.statusText)},x=function(e,t){w(f,e,t),C(f,e)};if(i.timeout&&(f.timeout=i.timeout),null!=i.dataType&&(f.responseType=i.dataType),(0,o.isFunction)(f.setRequestHeader)&&(i.contentType&&f.setRequestHeader("Content-Type",i.contentType),i.headers))for(var S in i.headers)f.setRequestHeader(S,i.headers[S]);if(i.withCredentials&&(f.withCredentials=!0),v){if(_.info("isXDomainObject"),null!=i.headers)return x("error","custom headers disallowed for XDomainRequest");f.onload=function(){_.info("XDomainObject onload"),f.status=200,f.statusText="OK",T()},f.onerror=function(){return x("error","error")},f.ontimeout=function(){return x("timeout","timeout")}}else f.onreadystatechange=function(){_.info("xhr onreadystatechange",f.readyState),4==f.readyState&&T()},f.onerror=function(){return x("error","error")},f.ontimeout=function(){return x("timeout","timeout")};return _.info("xhr.send",i.data),f.send(i.data),f},E=[function(){var e=void 0,t=void 0;return function(i){if(null!=window.XDomainRequest){null==e&&(e=window.location.href),null==t&&(t=new s.Url(e.toLowerCase()));var n=new s.Url(i.toLowerCase()),r=!1;return r||(r=t.protocol!=n.protocol),r||(r=t.host!=n.host),r?new window.XDomainRequest:null}}}(),function(){return new XMLHttpRequest},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],k=function(e){for(var t=void 0,i=0;i<E.length;i++){var n=E[i];try{t=n(e)}catch(e){continue}if(t)break}return t};e.exports={AJAX_DEFAULTS:y,ajax:w,ajaxGet:v,ajaxHead:b,ajaxPost:A}},function(e,t){var i,n=[].slice;i=function(){function e(){return this._queue=[],this._green=!1,this._lock=!1,this.allInOne=function(e){return function(){return e._allInOne.apply(e,arguments)}}(this),this.defineMethodsOn(this.allInOne),this.allInOne}return e.prototype.defineMethodsOn=function(e){var t,i,n,r;t={},n=[];for(i in this)r=this[i],n.push(function(i){return function(i,n,r){return"[object Function]"===t.toString.call(n)?e[i]=function(){return r[i].apply(r,arguments)}:void 0}}()(i,r,this));return n},e.prototype.flush=function(){var e,t;if(e=1<=arguments.length?n.call(arguments,0):[],!this._green)return this;for(this._lock=!0;this._queue.length>0&&(t=this._queue.shift(),e.length||!this.goArgs?this.tryAndReport(function(){return t.apply(null,e)}):this.tryAndReport(function(e){return function(){return t.apply(null,e.goArgs)}}(this)),!this._block&&this._green););return this._lock=!1,this},e.prototype._debug=function(){return"undefined"!=typeof console&&null!==console?console.log.apply(console,arguments):void 0},e.prototype.synchronize=function(){var e,t,i,r;for(t=1<=arguments.length?n.call(arguments,0):[],i=0,r=t.length;r>i;i++)e=t[i],this.synchronizeFn(e);return this},e.prototype.synchronizeFn=function(e){var t,i,n;return i=null,t=function(e){return function(){return clearTimeout(i),e._block=!1,e.go()}}(this),n=function(i){return function(){return i._block=!0,i.stop(),e(t)}}(this),i=setTimeout(function(i){return function(){return i._debug("StopGo#synchronize timed out",e),t()}}(this),5e3),this.runFn(n),this},e.prototype.tryAndReport=function(e){var t;try{return e()}catch(e){return t=e,t.stack?("undefined"!=typeof console&&null!==console&&console.log(t.message),"undefined"!=typeof console&&null!==console?console.log(t.stack):void 0):"undefined"!=typeof console&&null!==console?console.log(t):void 0}},e.prototype.clearSynchronized=function(){return this.setQueue([]),this._block=!1,this._green=!0},e.prototype.filter=function(e){var t;return this._queue=function(){var i,n,r,o;for(r=this._queue,o=[],i=0,n=r.length;n>i;i++)t=r[i],e(t)&&o.push(t);return o}.call(this),this},e.prototype.push=function(e){return this._queue.push(e),this},e.prototype.go=function(){var e;return e=1<=arguments.length?n.call(arguments,0):[],this._green=!0,this.goArgs=e,this.flush.apply(this,e),this},e.prototype.stop=function(){return this._green=!1,this},e.prototype.run=function(){var e,t,i,r;for(t=1<=arguments.length?n.call(arguments,0):[],i=0,r=t.length;r>i;i++)e=t[i],this.runFn(e);return this},e.prototype.then=function(){return this.run.apply(this,arguments)},e.prototype.runFn=function(e){return this._green&&!this._block?this._lock?this.tryAndReport(e):(this.push(e),this.flush()):this.push(e),this},e.prototype.remove=function(){var e,t,i,r;for(t=1<=arguments.length?n.call(arguments,0):[],i=0,r=t.length;r>i;i++)e=t[i],this.removeFn(e);return this},e.prototype.removeFn=function(e){return this.filter(function(t){return e!==t}),this},e.prototype.setQueue=function(e){return this._queue=e,this},e.prototype.getQueue=function(){return this._queue},e.prototype._allInOne=function(){var e,t;return e=arguments[0],t=2<=arguments.length?n.call(arguments,1):[],!0===e?this.go.apply(this,t):!1===e?this.stop():null!=e?e instanceof Array?this.run.apply(this,e):"string"==typeof e?this[e].apply(this,t):this.run.apply(this,arguments):this._green},e}(),i.when=function(){var e,t,r,o,s,a,u,l;for(l=1<=arguments.length?n.call(arguments,0):[],a=new i,r=function(){return a.go.apply(a,arguments)},s=l.reverse(),e=function(e,t){return r=function(){return t(function(){return e.apply(null,arguments)})}},t=0,o=s.length;o>t;t++)u=s[t],e(r,u);return r(),a},e.exports=i},function(e,t){function i(e){return function(t,i,n){for(var r=-1,o=Object(t),s=n(t),a=s.length;a--;){var u=s[e?a:++r];if(!1===i(o[u],u,o))break}return t}}e.exports=i},function(e,t,i){var n=i(152),r=n();e.exports=r},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(470),o=n(r),s=i(514),a=n(s),u=i(488),l=n(u),c=i(583),d=n(c),h=i(469),p=n(h),f={closeAllMenus:function(){return function(e){e(a.default.actions.default.setIsMenuOpen(!1)),e(o.default.actions.default.setIsMenuOpen(!1)),e(o.default.actions.default.setIsEmbedCodeCopierOpen(!1)),e(l.default.actions.default.setIsMenuOpen(!1)),e(d.default.actions.default.setIsMenuOpen(!1)),e(p.default.actions.setIsMenuOpen(!1))}}};t.default=f},function(e,t,i){function n(e){var t=[];return r(e).replace(o,function(e,i,n,r){t.push(n?r.replace(s,"$1"):i||e)}),t}var r=i(106),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]/g,s=/\\(\\)?/g;e.exports=n},,function(e,t,i){function n(e,t,i){if(null==e)return!1;var n=i(e,t);n||u(t)||(t=r(t),null!=(e=h(e,t))&&(t=d(t),n=i(e,t)));var p=e?e.length:void 0;return n||!!p&&l(p)&&a(t,p)&&(s(e)||c(e)||o(e))}var r=i(73),o=i(46),s=i(3),a=i(36),u=i(44),l=i(27),c=i(39),d=i(149),h=i(148);e.exports=n},function(e,t,i){function n(e,t,i){if(!a(i))return!1;var n=typeof t;return!!("number"==n?o(i)&&s(t,i.length):"string"==n&&t in i)&&r(i[t],e)}var r=i(41),o=i(23),s=i(36),a=i(13);e.exports=n},function(e,t,i){function n(e,t,i){if(t!==t)return r(e,i);for(var n=i-1,o=e.length;++n<o;)if(e[n]===t)return n;return-1}var r=i(220);e.exports=n},function(e,t){function i(e,t){return t in Object(e)}e.exports=i},function(e,t,i){function n(e){var t=o(e);if(1==t.length&&t[0][2]){var i=t[0][0],n=t[0][1];return function(e){return null!=e&&(e[i]===n&&(void 0!==n||i in Object(e)))}}return function(i){return i===e||r(i,e,t)}}var r=i(92),o=i(93);e.exports=n},function(e,t,i){function n(e,t){return function(i){var n=o(i,e);return void 0===n&&n===t?s(i,e):r(t,n,void 0,a|u)}}var r=i(54),o=i(79),s=i(165),a=1,u=2;e.exports=n},function(e,t,i){function n(e){return function(t){return r(t,e)}}var r=i(81);e.exports=n},function(e,t){function i(e,t,i){var n=-1,r=e.length;0>t&&(t=-t>r?0:r+t),i=i>r?r:i,0>i&&(i+=r),r=t>i?0:i-t>>>0,t>>>=0;for(var o=Array(r);++n<r;)o[n]=e[n+t];return o}e.exports=i},function(e,t,i){function n(e,t){return o(e,t,r)}var r=i(160),o=i(157);e.exports=n},function(e,t,i){function n(e){return s(e)?r(e):o(e)}var r=i(71),o=i(163),s=i(44);e.exports=n},,,,,,,,,,function(e,t,i){function n(e){return o(function(t,i){var n=-1,o=i.length,s=o>1?i[o-1]:void 0,a=o>2?i[2]:void 0;for(s="function"==typeof s?(o--,s):void 0,a&&r(i[0],i[1],a)&&(s=3>o?void 0:s,o=1),t=Object(t);++n<o;){var u=i[n];u&&e(t,u,n,s)}return t})}var r=i(158),o=i(91);e.exports=n},function(e,t,i){function n(e,t,i,n){i||(i={});for(var o=-1,s=t.length;++o<s;){var a=t[o],u=n?n(i[a],e[a],a,i,e):e[a];r(i,a,u)}return i}var r=i(147);e.exports=n},function(e,t){function i(){}e.exports=i},function(e,t){function i(e,t){for(var i=-1,n=e.length,r=-1,o=[];++i<n;){var s=e[i];t(s,i,e)&&(o[++r]=s)}return o}e.exports=i},function(e,t,i){function n(e,t){var i=[];return r(e,function(e,n,r){t(e,n,r)&&i.push(e)}),i}var r=i(104);e.exports=n},function(e,t,i){function n(e,t){return function(i,n){if(null==i)return i;if(!r(i))return e(i,n);for(var o=i.length,s=t?o:-1,a=Object(i);(t?s--:++s<o)&&!1!==n(a[s],s,a););return i}}var r=i(23);e.exports=n},function(e,t,i){"use strict";var n=i(14),r=["beforeplay","ended","loadeddata","loadedmetadata","loadstart","pause","playing","progress","ratechange","seeked","volumechange","timeupdate","webkitbeginfullscreen","webkitendfullscreen","webkitplaybacktargetavailabilitychanged"],o=function(e){for(var t=0;t<r.length;t++){var i=r[t];!function(t,i){var r="_marshalEvent_"+i;e[r]=e[r]||function(t){null==e.state&&(e.state={}),e.state.eventContext=t,e.trigger(i,t),e.state.eventContext=null},(0,n.elemBind)(t,i,e[r])}(e.video,i)}},s=function(e){return!(!e.state||!e.state.eventContext)},a=function(e){for(var t=0;t<r.length;t++){var i=r[t],o="_marshalEvent_"+i;(0,n.elemUnbind)(e.video,i,e[o])}};e.exports={setup:o,isInVideoEventContext:s,teardown:a}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=i(331),o=n(r),s=i(31),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(s),u=i(10),l=n(u),c=i(9),d=n(c),h=i(184),p="vulcan",f="html5",m="flash",g=[p,f,"simplehtml5",m,"external","notplayable","passwordprotected"],_=void 0,y=function(){if(_)return _;var e=i(15),t=e.cachedDetect,n=i(4),r=n.wlog;return r=r.getPrefixedFunctions("judy"),_={location:window.location,logger:r,pageUrl:location.href,detect:d.default.clone(t()),userAgent:navigator.userAgent}},v=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return d.default.assign({},y(),e)},b=function(e,t,i){var n=e.logger,r=t.assets,o=i.force;n.info("choosePlayer input",t.hashedId);var s=S(e,t,i);return o&&!w(e,o)&&(n.error('Invalid force option: "'+o+'", ignoring'),o=null),s&&"auto"!==s&&!w(e,s)&&(n.error('Invalid playerPreference option: "'+s+'", ignoring'),s="auto"),n.info("playerPreference is",s),o?(n.info('"force" used, return',o),o):P(e,i)?(n.info("return","passwordprotected"),"passwordprotected"):I(e,t.assets)?(n.info("return","notplayable"),"notplayable"):"auto"!==s&&E(e,s,r)?(n.info('"playerPreference" used, return',s),s):(n.info("choosing player with no preference"),A(e,t,i))},A=function(e,t,i){var n=e.location,r=e.detect,o=e.logger,s=(t.spherical||i.spherical)&&!i.overrideSpherical,a=t.assets;return r.oldandroid?(o.info("oldandroid"),E(e,m,a)&&"https:"===n.protocol?(o.info("flash on old android"),m):(o.info("external on old android"),"external")):r.ios.version>0||r.android?E(e,p,a)&&(s||i.playsinline)?(o.info("vulcan on mobile"),p):(o.info("html5 on mobile"),f):E(e,p,a)?(o.info("default, ret",p),p):E(e,m,a)?(o.info("default, ret",m),m):E(e,f,a)?(o.info("default, ret",f),f):M(e)?(o.info("no fallback from flash, return",m),m):(o.info("nothing left, use","external"),"external")},w=function(e,t){return(0,o.default)(g,t)>=0},E=function(e,t,i){return T(e,t)&&x(e,t,i)},k=function(e,t){for(var i=[],n=C(e),r=0;r<n.length;r++){var o=n[r];E(e,o,t)&&i.push(o)}return i},C=function(e){var t=e.detect,i=["notplayable","passwordprotected","external"];return t.vulcanSupport?i.push(p):(t.iphone||t.ipad||t.android)&&i.push(p),t.video.h264&&i.push(f),t.flash.version>=9&&i.push(m),i},T=function(e,t){return!!w(e,t)&&(0,o.default)(C(e),t)>=0},x=function(e,t,i){if(!w(e,t))return!1;if("notplayable"===t||"passwordprotected"===t)return!0;if(t===p)return a.readyPublicMp4s(i).length>0||a.readyPublicM3u8s(i).length>0;if(t===f)return a.readyPublicMp4s(i).length>0;if(t===m)return a.readyPublicFlvs(i).length>0||a.readyPublicMp4s(i).length>0;if("external"===t)return a.readyPublicMp4s(i).length>0;throw new Error("Unhandled player type '"+t+"'")},S=function(e,t,i){var n=i.playerPreference||i.platformPreference;return n&&"auto"!==n?n===f?O(e)?f:p:"simplehtml5"===n?f:n:"auto"},O=function(){var e=arguments.length<=0||void 0===arguments[0]?context:arguments[0],t=e.detect;return t.iphone||t.ipad||t.android},P=function(e,t){var i=d.default.get(t,"plugin.passwordProtectedVideo");return null!=i&&!1!==i.on},I=function(e,t){return 0===t.length||1===t.length&&"original"===t[0].type||0==a.readyPublicMp4sAndFlvs(t).length||a.nonfailedPublicOver400(t).length>0&&0===a.readyPublicOver400(t).length},M=function(){var e=arguments.length<=0||void 0===arguments[0]?context:arguments[0],t=e.detect;return t.browser.msie&&(t.browser.version<9||t.browser.quirks)||t.browser.mozilla},D=function(e){var t=e.detect,i=e.userAgent,n=e.logger,r=t.browser.msie&&t.browser.version<11,o=/phantomjs/i.test(i);j()&&(o||r||n.error("The XMLHttpRequest constructor has been tampered with. Because this affects CORS/Range XHR requests, HLS playback has been disabled. To enable HLS playback and other important features, please remove code that changes the definition of window.XMLHttpRequest.")),N()&&(!t.mediaSource||o||r||n.error("window.URL.createObjectURL has been tampered with. Because this affects use of Media Source Extensions, HLS playback has been disabled. window.URL is a browser API that should not be clobbered. Its current value is:",window.URL))},R=function(e,t,i){var n=e.detect;return(n.mediaSource||n.nativeHls)&&(!n.chrome||parseInt(n.chrome.version)>50)&&(t.hls_enabled||H(e,i))&&!1!==H(e,i)&&B(e,t.assets)&&(!j(e)&&!N(e)||H(e,i))},B=function(e,t){var i=a.filter(t,{container:"m3u8",type:"hls_video",status:a.READY,sortBy:"width desc",metadata:function(e){return e&&e.max_bitrate},display_name:function(e){return"Audio"!=e}}),n=a.filter(t,{container:"mp4",status:a.READY,sortBy:"width desc"});return i.length>0&&(0===n.length||i[0].width>=n[0].width)},L=/\s*function\s+XMLHttpRequest\(\)\s*{\s*\[native code\]\s*}\s*/m,F=/\[object XMLHttpRequestConstructor\]/m,j=function(e){if(XMLHttpRequest&&XMLHttpRequest.prototype&&XMLHttpRequest.prototype.constructor){var t=XMLHttpRequest.prototype.constructor.toString();return!(L.test(t)||F.test(t))}return!0},N=function(e){return"function"!=typeof(window.URL&&window.URL.createObjectURL)},H=function(){var e=arguments.length<=0||void 0===arguments[0]?context:arguments[0],t=e.pageUrl,i=arguments[1],n=U(t);if(null!=n)return n;var r=(0,h.setOrGet)("forceHls")
;return null!=r?r:i.hls},U=function(e){var t=e&&e.match&&e.match(/[\&\?]whls=([^\&]+)/),i=t&&t[1];return null!=i?d.default.cast(i):null},V={sphericalVideo:{on:!0,initBeforeHasData:!1,async:!1},notPlayableVideo:{on:!0,initBeforeHasData:!0,async:!1,loadWeight:-1},vulcanVideo:{on:!0,initBeforeHasData:!1,async:!1,loadWeight:-1},hlsVideo:{on:!0,initBeforeHasData:!1,async:!1,loadWeight:0},nativeHlsVideo:{on:!0,initBeforeHasData:!1,async:!1,loadWeight:0},passwordProtectedVideo:{on:!0,initBeforeHasData:!0,async:!1,loadWeight:-1},encodingProgress:{on:!0,initBeforeHasData:!1,async:!0,loadWeight:100}},W=function(e,t){var i={};return i[t]=V[t],i},G=function(e,t,i,n){var r=(e.detect,e.logger),o={};if(r.info("playerPlugins input",t,i.hashedId,i,n),"notplayable"===t)d.default.merge(o,W(0,"notPlayableVideo"));else if("passwordprotected"===t)d.default.merge(o,W(0,"passwordProtectedVideo"));else if(t===p){d.default.merge(o,W(0,"vulcanVideo")),!i.spherical&&!n.spherical||n.overrideSpherical||d.default.merge(o,W(0,"sphericalVideo"));for(var s=z(e,i,n),a=0;a<s.length;a++)d.default.merge(o,W(0,s[a]))}var u=[];for(var l in o)u.push(l);return r.info.apply(r,["playerPlugins output"].concat(u,[o])),o},z=function e(t,i){var n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],r=t.detect,o=t.logger,s=[];o.info("enginesToLoad");var a=R(t,i,n);if(a&&r.nativeHls?(o.info("nativeHlsVideo"),s.push("nativeHlsVideo")):a?(o.info("hlsVideo"),s.push("hlsVideo")):(o.info("manualQualityVideo"),s.push("manualQualityVideo")),i.secondaryMediaData){o.info("twoStrokeVideo"),s.push("twoStrokeVideo");var u=d.default.except(n,["twoStroke"]),l=i.secondaryMediaData,c=e(t,l,u);s=s.concat(c)}else n.secondaryVideoUrl&&(o.info("secondaryVideoUrl","twoStrokeVideo"),s.push("twoStrokeVideo"));return s=d.default.uniq(s)},Q=function(e,t){var i=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],n=e.detect,r=e.logger;r.info("bestUsableEngineClass");var o=R(e,t,i);return t.secondaryMediaData&&l.default.TwoStrokeVideo?(r.info("twoStrokeVideo"),l.default.TwoStrokeVideo):i.secondaryVideoUrl&&l.default.TwoStrokeVideo?(r.info("twoStrokeVideo"),l.default.TwoStrokeVideo):o&&n.nativeHls&&l.default.NativeHlsVideo?(r.info("nativeHlsVideo"),l.default.NativeHlsVideo):o&&l.default.HlsVideo?(r.info("hlsVideo"),l.default.HlsVideo):(r.info("manualQualityVideo"),l.default.ManualQualityVideo)},Y=function(e,t,i){return{bestPlayer:A(e,t,i),supportedPlayers:C(e),usablePlayers:k(e,t.assets),playerPreferenceFromInput:S(e,t,i)}};e.exports={getDefaultContext:y,buildContext:v,choosePlayer:b,bestPlayer:A,isValidPlayer:w,canUsePlayer:E,usablePlayers:k,supportedPlayers:C,isSupportedPlayer:T,hasAssetsForPlayer:x,determinePlayerPreferenceFromInput:S,isMobile:O,isPasswordProtected:P,isNotPlayable:I,noFallbackFromFlash:M,logWarnings:D,shouldServeHls:R,hasDesktopHlsAssets:B,xhrHasBeenTamperedWith:j,urlHasBeenTamperedWith:N,hlsOverrideValue:H,hlsQueryParamValue:U,PLUGIN_CONFIGS:V,playerPlugins:G,enginesToLoad:z,bestUsableEngineClass:Q,report:Y}},function(e,t,i){"use strict";var n=i(15),r=i(9),o=i(4),s=(0,n.cachedDetect)(),a=i(62),u=null,l=function(){if(s.localstorage&&null==u&&(u={},localStorage.wistia))try{u=a.parse(localStorage.wistia)}catch(e){o.wlog.notice(e)}},c=function(){u={}},d=function(e,t){var i=!(arguments.length<=2||void 0===arguments[2])&&arguments[2];if(s.localstorage){if(null==u&&l(),null!=t){i?(0,r.unset)(u,e):(0,r.set)(u,e,t);try{localStorage.wistia=a.stringify(u)}catch(e){o.wlog.notice(e)}return t}return null!=e?(0,r.get)(u,e):u}},h=function(e){return d(e,"nada",!0)},p=function(){if(s.localstorage){u={};try{localStorage.removeItem("wistia")}catch(e){o.wlog.error(e)}}};e.exports={init:l,uncache:c,setOrGet:d,removeLocalStorage:h,dumpLocalStorage:p}},function(e,t){function i(e,t){var i=-1,n=e.length;for(t||(t=Array(n));++i<n;)t[i]=e[i];return t}e.exports=i},function(e,t,i){var n,r,o,s,a,u,l,c,d;d=i(246),n=null,u=function(){var e;return null!=n?n:(e=document.createElement("div"),e.style.paddingLeft=e.style.width="1px",document.body.appendChild(e),n=2===e.offsetWidth,document.body.removeChild(e),n)},l=function(e){var t,i,n,r,o,s,a,l;return t=document.body,l=document.defaultView,o=document.documentElement,i=e.getBoundingClientRect(),r=o.clientTop||t.clientTop||0,n=o.clientLeft||t.clientLeft||0,a=(null!=l?l.pageYOffset:void 0)||u()&&o.scrollTop||t.scrollTop,s=(null!=l?l.pageXOffset:void 0)||u()&&o.scrollLeft||t.scrollLeft,{top:i.top+a-r,left:i.left+s-n}},c=function(e,t){var i,n,r;return i=l(e),n=t.clientX-i.left,r=t.clientY-i.top,{top:r,left:n}},r=function(e){var t,i;for(t=e,i=[];t=t.parentNode;)i.push(t);return i},o=function(e,t){var i,n,o,a,u;for(u=[],a=r(e),n=0,o=a.length;o>n;n++)i=a[n],s(i,t)&&u.push(i);return u},s=function(e,t){var i,n;return!!(i=null!=e&&"function"==typeof e.getAttribute?e.getAttribute("class"):void 0)&&(n=!1,d.eachIndexOf(i,t,function(e){var r,o,s;return r=0===e||" "===i.charAt(e-1),s=e+t.length===i.length,o=" "===i.charAt(e+t.length),r&&(s||o)?(n=!0,d.breakIdentifier):void 0}),n)},a=function(e){for(;e=e.parentNode;)if(e===document)return!0;return!1},e.exports={offset:l,relativeMousePosition:c,hasClass:s,inDom:a,ancestors:r,ancestorsWithClass:o}},function(e,t){"use strict";function i(){for(var e=arguments.length,t=Array(e),i=0;e>i;i++)t[i]=arguments[i];return function(){if(0===t.length)return arguments.length<=0?void 0:arguments[0];var e=t[t.length-1];return t.slice(0,-1).reduceRight(function(e,t){return t(e)},e.apply(void 0,arguments))}}t.__esModule=!0,t.default=i},function(e,t,i){"use strict";function n(e,t,i){function r(){f===p&&(f=p.slice())}function a(){return h}function u(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return r(),f.push(e),function(){if(t){t=!1,r();var i=f.indexOf(e);f.splice(i,1)}}}function l(e){if(!(0,o.default)(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(m)throw new Error("Reducers may not dispatch actions.");try{m=!0,h=d(h,e)}finally{m=!1}for(var t=p=f,i=0;i<t.length;i++)t[i]();return e}function c(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");d=e,l({type:s.INIT})}if("function"==typeof t&&void 0===i&&(i=t,t=void 0),void 0!==i){if("function"!=typeof i)throw new Error("Expected the enhancer to be a function.");return i(n)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var d=e,h=t,p=[],f=p,m=!1;return l({type:s.INIT}),{dispatch:l,subscribe:u,getState:a,replaceReducer:c}}t.__esModule=!0,t.ActionTypes=void 0,t.default=n;var r=i(94),o=function(e){return e&&e.__esModule?e:{default:e}}(r),s=t.ActionTypes={INIT:"@@redux/INIT"}},function(e,t){"use strict";function i(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(e){}}t.__esModule=!0,t.default=i},,function(e,t,i){"use strict";function n(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},u=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=i(12),c=(i(20),function(e,t){return function(i){function c(){r(this,c);var e=o(this,Object.getPrototypeOf(c).call(this));return e.state={propJustChanged:!1},e}return s(c,i),u(c,[{key:"componentWillUpdate",value:function(e){var i=this.props[t],n=e[t],r=n&&!i&&!this.state.propJustChanged;this.setState({propJustChanged:r})}},{key:"propName",value:function(){return t+"JustChanged"}},{key:"render",value:function(){var t=n({},this.propName(),this.state.propJustChanged);return(0,l.h)(e,a({},this.props,t))}}]),c}(l.Component)});t.default=c},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),u=i(12),l=(i(20),function(e,t){return function(i){function l(e){n(this,l);var t=r(this,Object.getPrototypeOf(l).call(this,e));return t.state={isOpen:!1,isTransitioned:!1},t.updateTransitionState(e,{}),t}return o(l,i),a(l,[{key:"componentWillUpdate",value:function(e){this.updateTransitionState(e,this.props)}},{key:"updateTransitionState",value:function(e,i){var n=i[t],r=e[t];n!=r&&(r?this.transitionOpen():this.transitionClosed())}},{key:"transitionClosed",value:function(){var e=this.setState.bind(this);e({isTransitioned:!1}),clearTimeout(this.timeout),this.timeout=setTimeout(function(){e({isOpen:!1})},200)}},{key:"transitionOpen",value:function(){var e=this.setState.bind(this);e({isOpen:!0}),clearTimeout(this.timeout),this.timeout=setTimeout(function(){e({isTransitioned:!0})},10)}},{key:"render",value:function(){return(0,u.h)(e,s({},this.props,this.state))}}]),l}(u.Component)});t.default=l},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e.settings};t.default={getIsMenuOpen:function(e){return i(e).isMenuOpen},getIsVisible:function(e){return i(e).isVisible},getIsVideoQualityOpen:function(e){return i(e).videoQuality.isOpen},getVideoQualityValue:function(e){return i(e).videoQuality.value},getSelectedVideoQualityValue:function(e){return i(e).selectedVideoQuality.value},getIsPlaybackRateOpen:function(e){return i(e).playbackRate.isOpen},getPlaybackRateValue:function(e){return i(e).playbackRate.value},getVideoQualityOptions:function(e){return i(e).videoQualityOptions},getPlaybackRateOptions:function(e){return i(e).playbackRateOptions}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e.shareMenu};t.default={getIsVisible:function(e){return i(e).isVisible},getIsMenuOpen:function(e){return i(e).isMenuOpen},getIsEmbedCodeCopierOpen:function(e){return i(e).isEmbedCodeCopierOpen},activeChannels:function(e){return i(e).activeChannels},channelData:function(e,t){return i(e).channels[t]},pageUrl:function(e){return i(e).pageUrl},pageTitle:function(e){return i(e).pageTitle},ignoreQueryParams:function(e){return i(e).ignoreQueryParams},tweetText:function(e){return i(e).tweetText},videoName:function(e){return i(e).videoName},overrideUrl:function(e){return i(e).overrideUrl},downloadAsset:function(e){return i(e).assets[i(e).downloadType]},includeLinkback:function(e){return i(e).includeLinkback},getConversionOpportunityKey:function(e){return i(e).conversionOpportunityKey},getConversionOpportunity:function(e){return i(e).conversionOpportunity}}},,,,,,,,,,,,,,,,,,,,,function(e,t){function i(e,t,i,n){var r=-1,o=e.length;for(n&&o&&(i=e[++r]);++r<o;)i=t(i,e[r],r,e);return i}e.exports=i},function(e,t,i){function n(e){return r(e)?o(e):{}}var r=i(13),o=Object.create;e.exports=n},,,,function(e,t){function i(e,t,i){for(var n=e.length,r=t+(i?0:-1);i?r--:++r<n;){var o=e[r];if(o!==o)return r}return-1}e.exports=i},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=(i(14),i(146)),a=i(9),u=n(a),l=i(31),c=(n(l),i(33)),d=n(c),h=i(116),p=n(h),f=i(319),m=n(f),g=i(324),_=n(g),y=i(323),v=n(y),b=i(326),A=n(b),w=i(325),E=n(w),k=i(182),C=(n(k),i(117)),T=n(C),x=i(225),S=n(x),O=i(227),P=n(O),I=i(322),M=n(I),D=i(321),R=n(D),B=i(226),L=n(B),F=i(223),j=n(F),N=function(){function e(t,i){var n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];r(this,e),this.uuid=(0,d.default)("wistia_simple_video_"),this.root=t,this.state={},L.default.setupProperties(this,i,n),L.default.injectVideo(this),S.default.fixWebkitControlsBug(this),L.default.setupBindingsAndLoops(this),M.default.fit(this)}return o(e,[{key:"activeBufferRange",value:function(){return m.default.activeBufferRange(this)}},{key:"anyBuffered",value:function(){return m.default.anyBuffered(this)}},{key:"canPlay",value:function(){return E.default.canPlay(this)}},{key:"cancelFullscreen",value:function(){return E.default.cancelFullscreen(this)}},{key:"changeStream",value:function(e){return A.default.changeStream(this,e)}},{key:"changeStreamWithoutLoad",value:function(e){return A.default.changeStreamWithoutLoad(this,e)}},{key:"changeVideo",value:function(e,t){return A.default.changeVideo(this,e,t)}},{key:"currentAsset",value:function(){return this._currentAsset}},{key:"defaultAsset",value:function(){return this.selectableAssets()[0]}},{key:"destroy",value:function(){this.state={},L.default.killBindingsAndStopLoops(this),this._bindings={}}},{key:"diagnosticData",value:function(){return R.default.getDiagnosticData(this)}},{key:"fit",value:function(){return M.default.fit(this)}},{key:"getCurrentTime",value:function(){return E.default.getCurrentTime(this)}},{key:"getDuration",value:function(){return E.default.getDuration(this)}},{key:"getPlaybackMode",value:function(){return P.default.getPlaybackMode(this)}},{key:"getPlaybackRate",value:function(){return E.default.getPlaybackRate(this)}},{key:"getPreload",value:function(){return E.default.getPreload(this)}},{key:"getState",value:function(){return E.default.getState(this)}},{key:"getTrim",value:function(){return T.default.getTrim(this)}},{key:"getVolume",value:function(){return E.default.getVolume(this)}},{key:"isChangingVideo",value:function(){return A.default.isChangingVideo(this)}},{key:"isInFullscreen",value:function(){return E.default.isInFullscreen(this)}},{key:"isSeeking",value:function(){return _.default.isSeeking(this)}},{key:"isSourceOfBrowserEvent",value:function(e){return E.default.isSourceOfBrowserEvent(this,e)}},{key:"lastBufferedTime",value:function(e){return m.default.lastBufferedTime(this,e)}},{key:"onEnterFullscreen",value:function(){return E.default.onEnterFullscreen(this)}},{key:"onHeightChange",value:function(e){return M.default.onHeightChange(this,e)}},{key:"onLeaveFullscreen",value:function(){return E.default.onLeaveFullscreen(this)}},{key:"onReady",value:function(){return v.default.onReady(this)}},{key:"onWidthChange",value:function(e){return M.default.onWidthChange(this,e)}},{key:"pause",value:function(){return E.default.pause(this)}},{key:"play",value:function(){return E.default.play(this)}},{key:"requestFullscreen",value:function(){return E.default.requestFullscreen(this)}},{key:"reset",value:function(){this.state={}}},{key:"seek",value:function(e){return _.default.seek(this,e)}},{key:"seekOnPlay",value:function(e){return _.default.seekOnPlay(this,e)}},{key:"selectedAsset",value:function(){return this._currentAsset}},{key:"selectableAssets",value:function(){return this.allAssets}},{key:"sequentialBufferedRange",value:function(){return m.default.sequentialBufferedRange(this)}},{key:"setAttributes",value:function(e){u.default.assign(this.attributes,e)}},{key:"setCurrentTime",value:function(e){return E.default.setCurrentTime(this,e)}},{key:"setPlaybackRate",value:function(e){return E.default.setPlaybackRate(this,e)}},{key:"setTrim",value:function(e){return T.default.setTrim(this,e)}},{key:"setVolume",value:function(e){return E.default.setVolume(this,e)}},{key:"showFirstFrame",value:function(){return _.default.seek(this,.01)}},{key:"stopStreaming",value:function(){return A.default.stopStreaming(this)}},{key:"timeBeforeEndOfBuffer",value:function(e){return m.default.timeBeforeEndOfBuffer(this,e)}},{key:"totalBuffered",value:function(){return m.default.totalBuffered(this)}},{key:"totalPlayed",value:function(){return p.default.sumTimeRanges(this.video.played)}},{key:"videoElem",value:function(){return E.default.videoElem(this)}}]),e}();(0,s.bindify)(N.prototype),N.delegatePublicMethods=j.default.delegatePublicMethods,N.PUBLIC_METHODS=j.default.PUBLIC_METHODS,N.mediaDataWithAssets=function(e,t){var i=u.default.clone(e);return i.assets=u.default.clone(t),i},e.exports=N},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e.chapters},n=(t.getBranch=function(e){return i(e)},t.getIsVisible=function(e){return i(e).isVisible},t.getIsVisibleOnLoad=function(e){return i(e).isVisibleOnLoad},t.getIsMenuOpen=function(e){return i(e).isMenuOpen},t.getChapters=function(e){return i(e).chapters},t.getLastChapterActivated=function(e){return i(e).lastChapterActivated},t.getChapterById=function(e,t){return i(e).chapters.filter(function(e){return e.id==t})[0]});t.getCurrentlyHoveredChapterId=function(e){return i(e).currentlyHoveredChapter},t.getCurrentlyHoveredChapter=function(e){var t=i(e).currentlyHoveredChapter;return n(e,t)},t.getChapterTitleLeftOffset=function(e){return i(e).chapterTitleLeftOffset},t.getMenuWidth=function(e){return i(e).menuWidth},t.getHasControlBeenClicked=function(e){return i(e).hasControlBeenClicked}},function(e,t){"use strict";var i=["activeBufferRange","anyBuffered","bind","bindNamed","bufferInfo","canPlay","cancelFullscreen","changeStream","changeStreamWithoutLoad","changeVideo","currentAsset","defaultAsset","destroy","diagnosticData","fit","getCurrentTime","getDuration","getPlaybackMode","getPlaybackRate","getPreload","getState","getTrim","getVolume","isChangingVideo","isInFullscreen","isSeeking","isSourceOfBrowserEvent","lastBufferedTime","onEnterFullscreen","onHeightChange","onLeaveFullscreen","onReady","onWidthChange","pause","play","requestFullscreen","reset","seek","seekOnPlay","selectedAsset","selectableAssets","sequentialBufferedRange","setAttributes","setCurrentTime","setPlaybackRate","setTrim","setVolume","showFirstFrame","stopStreaming","timeBeforeEndOfBuffer","totalBuffered","totalPlayed","trigger","unbind","unbindNamed","unbindAllInNamespace","videoElem"],n=function(e,t,i){for(var n=0;n<e.length;n++){var r=e[n];t[r]||function(e){t[e]=function(){var t=i.call(this);return t?t[e].apply(t,arguments):null}}(r)}},r=function(e,t){n(i,e,t)};e.exports={PUBLIC_METHODS:i,delegateMethods:n,delegatePublicMethods:r}},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=i(12),u=i(20),l=i(107),c=function(e){return function(t){function i(){return n(this,i),r(this,Object.getPrototypeOf(i).apply(this,arguments))}return o(i,t),s(i,[{key:"render",value:function(){var t=this.props.instanceId,i=(0,l.getStoreForPlayerInstance)(t);return(0,a.h)(u.Provider,{store:i},(0,a.h)(e,this.props))}}]),i}(a.Component)};t.default=c},function(e,t,i){"use strict";var n=i(15),r=i(4),o=(0,n.cachedDetect)(),s=r.wlog.getPrefixedFunctions("SimpleVideo"),a=function(e){var t=e.video;if(o.browser.webkit){s.info("fixWebkitControlsBug");var i=t.getAttribute("controls");t.setAttribute("controls","controls"),t.removeAttribute("controls"),null!=i&&t.setAttribute("controls",i)}};e.exports={fixWebkitControlsBug:a}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=i(14),o=i(116),s=n(o),a=i(320),u=n(a),l=i(327),c=n(l),d=i(117),h=n(d),p=i(225),f=(n(p),i(182)),m=n(f),g=function(e,t,i){var n=t.assets;0===n.length&&(n=[{}]),e.mediaData=t,e.allAssets=n,e.attributes=i},_=function(e){e._currentAsset=e.defaultAsset(),e.video=s.default.createElement(e.uuid,e._currentAsset,e.attributes),(0,r.elemAppend)(e.root,e.video)},y=function(e){c.default.setup(e),h.default.enforceTrimming(e),m.default.setup(e),u.default.setup(e)},v=function(e){m.default.teardown(e),h.default.teardown(e),u.default.teardown(e),c.default.teardown(e)};e.exports={setupProperties:g,setupBindingsAndLoops:y,injectVideo:_,killBindingsAndStopLoops:v}},function(e,t,i){"use strict";var n=i(4),r=n.wlog.getPrefixedFunctions("SimpleVideo"),o=function(e){var t=e.video;try{return e.state.hasPlayed?e.state.fakeEnded||t.ended?"ended":t.paused?"paused":"playing":"beforeplay"}catch(e){return r.warn(e),"unknown"}};e.exports={getPlaybackMode:o,BEFORE_PLAY:"beforeplay",ENDED:"ended",PAUSED:"paused",PLAYING:"playing",UNKNOWN:"unknown"}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(482),r=function(e){return e&&e.__esModule?e:{default:e}}(n),o={setIsVisible:function(e){return{type:r.default.setIsVisible,payload:e}},setIsVisibleOnLoad:function(e){return{type:r.default.setIsVisibleOnLoad,payload:e}},setIsMenuOpen:function(e){return{type:r.default.setIsMenuOpen,payload:e}},addChapter:function(e){return{type:r.default.addChapter,payload:e}},removeChapter:function(e){return{type:r.default.removeChapter,payload:e}},setChapters:function(e){return{type:r.default.setChapters,payload:e}},setLastChapterActivated:function(e){return{type:r.default.setLastChapterActivated,payload:e}},setCurrentlyHoveredChapter:function(e){return{type:r.default.setCurrentlyHoveredChapter,payload:e}},setChapterTitleLeftOffset:function(e){return{type:r.default.setChapterTitleLeftOffset,payload:e}},setMenuWidth:function(e){return{type:r.default.setMenuWidth,payload:e}},setHasControlBeenClicked:function(e){return{type:r.default.setHasControlBeenClicked,payload:e}}};t.default=o},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(484),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={setIsMenuOpen:function(e){return{type:r.default.setIsMenuOpen,payload:e}},setIsVisible:function(e){return{type:r.default.setIsVisible,payload:e}},setIsOpenFor:function(e,t){return{type:r.default.setIsOpenFor,payload:{key:e,isOpen:t}}},setValueFor:function(e,t){return{type:r.default.setValueFor,payload:{key:e,value:t}}},setVideoQualityOptions:function(e){return{type:r.default.setVideoQualityOptions,payload:e}}}},function(e,t,i){function n(e){var t=-1,i=e?e.length:0;for(this.__data__=new r;++t<i;)this.push(e[t])}var r=i(82),o=i(235);n.prototype.push=o,e.exports=n},function(e,t,i){function n(e,t){return!!e.length&&r(e,t,0)>-1}var r=i(159);e.exports=n},function(e,t){function i(e,t,i){for(var n=-1,r=e.length;++n<r;)if(i(t,e[n]))return!0;return!1}e.exports=i},function(e,t,i){function n(e,t,i){var n=-1,d=o,h=e.length,p=!0,f=[],m=f;if(i)p=!1,d=s;else if(h>=c){var g=t?null:u(e);if(g)return l(g);p=!1,d=a,m=new r}else m=t?[]:f;e:for(;++n<h;){var _=e[n],y=t?t(_):_;if(p&&y===y){for(var v=m.length;v--;)if(m[v]===y)continue e;t&&m.push(y),f.push(_)}else d(m,y,i)||(m!==f&&m.push(y),f.push(_))}return f}var r=i(230),o=i(231),s=i(232),a=i(234),u=i(236),l=i(58),c=200;e.exports=n},function(e,t,i){function n(e,t){var i=e.__data__;if(r(t)){var n=i.__data__;return("string"==typeof t?n.string:n.hash)[t]===o}return i.has(t)}var r=i(21),o="__lodash_hash_undefined__";e.exports=n},function(e,t,i){function n(e){var t=this.__data__;if(r(e)){var i=t.__data__;("string"==typeof e?i.string:i.hash)[e]=o}else t.set(e,o)}var r=i(21),o="__lodash_hash_undefined__";e.exports=n},function(e,t,i){var n=i(83),r=i(178),o=n&&2===new n([1,2]).size?function(e){return new n(e)}:r;e.exports=o},function(e,t,i){function n(e){return e&&e.length?r(e):[]}var r=i(233);e.exports=n},function(e,t){"use strict";var i=function(e){return function(t,i,n){if(s(e,t),r(e,t,i))return o(e,t,i);var u=n();return a(e,t,i,u),u}},n=function(e){return function(t){return null==t[e]&&(t[e]={}),t[e]}},r=function(e,t,i){return null!=o(e,t,i)},o=function(e,t,i){return s(e,t),t[e][i]},s=function(e,t){null==t[e]&&(t[e]={})},a=function(e,t,i,n){s(e,t),t[e][i]=n},u=function(e,t,i){s(e,t),delete t[e][i]},l=function(e,t){t[e]={}};e.exports={makeCacheable:i,uncacheNamespace:l,uncache:u,makeNamespace:n}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=i(10),o=n(r),s=i(55),a=i(4),u=i(9),l=n(u),c=i(62),d=n(c),h=i(14),p=i(34),f=i(25),m=i(150),g=o.default;null==g._metricsCache&&(g._metricsCache={});var _=g._metricsCache,y=function(e,t,i){var n=arguments.length<=3||void 0===arguments[3]?{}:arguments[3];try{null==_.toMput&&(_.toMput=[]),null==_.requestId&&(_.requestId=0);var r=l.default.merge({type:e,key:t,value:null!=i?i:null,request_id:_.requestId},n),o=d.default.stringify(r);a.wlog.debug("send metrics",o),_.toMput.push(o),(0,s.doTimeout)("metrics.debounce",function(){(0,h.pageLoaded)(function(){v.apply(void 0,_.toMput),_.toMput=[],_.requestId+=1})},500)}catch(e){a.wlog.error(e)}},v=function(){for(var e=arguments.length,t=Array(e),i=0;e>i;i++)t[i]=arguments[i];var n=(0,p.proto)()+"//"+(0,f.metricsHost)()+"/mput?topic=metrics";return(0,m.ajaxPost)(n,{data:t.join("\n")})},b=function(e){var t=arguments.length<=1||void 0===arguments[1]?1:arguments[1],i=arguments[2];return y("count",e,t,i)},A=function(e,t,i){return y("sample",e,t,i)};e.exports={send:y,msend:v,count:b,sample:A}},,,,,function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},o=i(38),s=n(o),a=i(10),u=n(a),l=i(151),c=n(l),d=i(25),h=i(4),p=i(34),f=i(96),m=i(33),g=n(m),_=i(55);null==u.default._canEditMedia&&(u.default._canEditMedia={}),null==u.default._remoteMedia&&(u.default._remoteMedia={});var y=function(e){var t=void 0;if(t=u.default._canEditMedia[e])return t;null==(t=u.default._canEditMedia[e])&&(t=u.default._canEditMedia[e]=new c.default);var i="https://"+(0,d.cdnFastWistiaComHost)()+"/media_url",n=function(e){e&&e.logged_in&&t.go(e)},r={hashed_id:encodeURIComponent(e)};return(0,f.jsonpPlus)(i,r,n,{once:!0}),t},v=function(e,t){var i=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];if(C(e)){h.wlog.info("W.remote.media",e,"from local cache");var n="remote-media."+e+"."+(0,g.default)();return(0,_.doTimeout)(n,function(){t(C(e))}),n}var o=function(){h.wlog.info("W.remote.media",e,"fetching");var n=(0,d.forceValidFastWistiaHost)(i.embedHost),r=(0,p.proto)()+"//"+n+"/embed/medias/"+e+".json",o=void 0;null!=i.password&&(o={password:i.password});var s=function(i){i.error?(h.wlog.info("W.remote.media",e,"error",i),E(e,i),t(i)):(delete i.media.unnamed_assets,w(i.media),E(e,i.media),h.wlog.info("W.remote.media",e,"responded",i.media),t(i.media))},a=function(){h.wlog.error("Timed out fetching "+r)},u={onerror:a,timeout:1e4,once:null==i.once||i.once};return{v:(0,f.jsonpPlus)(r,o,s,u)}}();return"object"===(void 0===o?"undefined":r(o))?o.v:void 0},b=[7624,130411,28809,147495,122341,128217,107313,408601,373299,118121,36705,194419,213273,318772,347673,133521,334813,334808,258329,316211,359815,39557,48095,142951,359161,126759,410559,207815,118975,413033,76681,291377,410563,344472,213403,238199,214077,415518,108645,81305,148247,105713,67485,129281,267677,334053,238205,332013,245103,26281,39559,76379,75627,211161,121113,410564,146343,390210,107317,302198,228193,36697,310058,126009,196755,364168,410553,77929,239353,370193,309760,389789,410568,127517,255905,390868,327858,73809,73197,301517,149621,334056,105935,222153,75321,134513,88465,334818,100433,153069,218369,142963,67037,142967,82707,117593,330884,114651,219395,209331,249799,109809,410569,57039,398712,155889,208909,241061,109611,288073,41247,230819,359128,364170,394729,316210,213283,312536,75631,410565,298754,152773,344468,373848,410571,102363,255911,305305,301757,410574,222019,239351,238889,261731,259557,229107,259623,259561,259687,234501,222069,228737,234127,234641,238903,259693,238905,229025,238203,258385,228007,239349,225077,222561,257143,234129,257263,229023,229111,245105,259503,222037,259505,238895,258417,410573,36699,65003,315082,291379,410578,331578,354779,410576,363083,410579,410545,226067,58007,354395,326682,36703,146337,152131,328174,117693,219329,138619,206705,112373,142969,65425,288103,90457,131933,347096,77287,315412,410582,410581,334823,371770,282139,304147,120761,87941,116301,362719,200495,79713,344473,75331,89953,73199,114265,341371,148249,407912,355435,305326,210009,39553,358496,240387,253585,39555,283619,216491],A=function(e){if(e.accountKey)return!1;for(var t=0;t<b.length;t++){var i=b[t];if(e.accountKey==="wistia-production_"+i)return!0}return!1},w=function(e){if(e.assets&&!A(e))for(var t=0;t<e.assets.length;t++){var i=e.assets[t];i.url&&(i.url=i.url.replace(/^https:\/\/embed-ssl\.wistia\.com/,"https://embedwistia-a.akamaihd.net"))}return e},E=function(e,t){return u.default._remoteMedia[e]=t},k=function(e,t){u.default._remoteMedia[e]=null,delete u.default._remoteMedia[e],window["wistiajsonp-/embed/medias/"+e+".json"]=null},C=function(e){var t=u.default._remoteMedia[e];if(t)return t;var i=s.default["wistiajsonp-/embed/medias/"+e+".json"];return null!=i&&i.media?i.media:null};e.exports={canEditMedia:y,fetchMedia:v,isEmbedSslMedia:A,convertEmbedSslToAkamai:w,cacheMedia:E,uncacheMedia:k,mediaFromCache:C}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=i(10),o=n(r),s=i(96),a=i(34),u=i(25),l=i(4),c=i(33),d=n(c),h=i(55);null==o.default._remotePlaylist&&(o.default._remotePlaylist={});var p=function(e,t){var i=void 0;(i=o.default._remotePlaylist[e])?(0,h.doTimeout)("remote-playlist."+e+"."+(0,d.default)(),function(){t(i)}):function(){var i=(0,a.proto)()+"//"+(0,u.cdnFastWistiaComHost)()+"/embed/playlists/"+e+".json",n=function(i){o.default._remotePlaylist[e]=i,t(i)},r=function(){l.wlog.error("Timed out fetching "+i)};(0,s.jsonpPlus)(i,{},n,{onerror:r,timeout:1e4})}()};e.exports={fetchPlaylist:p}},function(e,t){var i,n,r,o;i={},r=function(e,t,n){var r,o;for(r=-1,
o=[];-1!==(r=e.indexOf(t,r+1))&&n(r)!==i;)o.push(void 0);return o},n=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},o=function(e){return!0===e||"true"===e||"checked"===e||!1!==e&&"false"!==e&&"unchecked"!==e&&!!e},e.exports={eachIndexOf:r,breakIdentifier:i,capitalizeFirstLetter:n,forceBool:o}},,function(e,t){"use strict";function i(e){var t=e.dispatch,i=e.getState;return function(e){return function(n){return"function"==typeof n?n(t,i):e(n)}}}e.exports=i},function(e,t,i){function n(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=s,this.__views__=[]}var r=i(216),o=i(251),s=4294967295;n.prototype=r(o.prototype),n.prototype.constructor=n,e.exports=n},function(e,t,i){function n(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}var r=i(216),o=i(251);n.prototype=r(o.prototype),n.prototype.constructor=n,e.exports=n},function(e,t){function i(){}e.exports=i},,,,,,,function(e,t,i){function n(e,t,i,u){u||(u=[]);for(var l=-1,c=e.length;++l<c;){var d=e[l];t>0&&a(d)&&(i||s(d)||o(d))?t>1?n(d,t-1,i,u):r(u,d):i||(u[u.length]=d)}return u}var r=i(489),o=i(46),s=i(3),a=i(84);e.exports=n},,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(487),r=function(e){return e&&e.__esModule?e:{default:e}}(n),o={setIsMenuOpen:function(e){return{type:r.default.setIsMenuOpen,payload:e}},setMultipleProperties:function(e){return{type:r.default.setMultipleProperties,payload:e}},setCurrentLanguage:function(e){return{type:r.default.setCurrentLanguage,payload:e}}};t.default=o},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(313),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={setMultipleProperties:function(e){return{type:r.default.setMultipleProperties,payload:e}},setVisibility:function(e){return{type:r.default.setVisibility,payload:e}},setIsMenuOpen:function(e){return{type:r.default.setIsMenuOpen,payload:e}},setIsEmbedCodeCopierOpen:function(e){return{type:r.default.setIsEmbedCodeCopierOpen,payload:e}},setActiveChannels:function(e){return{type:r.default.setActiveChannels,payload:e}},setPageTitle:function(e){return{type:r.default.setPageTitle,payload:e}},setPageUrl:function(e){return{type:r.default.setPageUrl,payload:e}},setVideoName:function(e){return{type:r.default.setVideoName,payload:e}},setIgnoreQueryParams:function(e){return{type:r.default.setIgnoreQueryParams,payload:e}},setTweetText:function(e){return{type:r.default.setTweetText,payload:e}},setDownloadType:function(e){return{type:r.default.setDownloadType,payload:e}},setAsset:function(e,t){return{type:r.default.setAsset,payload:{quality:e,assetHash:t}}},setConversionOpportunityKey:function(e){return{type:r.default.setConversionOpportunityKey,payload:e}},setConversionOpportunity:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return{type:r.default.setConversionOpportunity,payload:e}},setCurrentTime:function(e){return{type:r.default.setCurrentTime,payload:e}}}},function(e,t){"use strict";function i(e){if(!Array.isArray(e))throw new Error("Expecting types to be an array of constants");var t={};return e.forEach(function(e){t[e]=e}),t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e.vulcan};t.default={getBranch:function(e){return i(e)},getIsKeyboardFocus:function(e){return i(e).isKeyboardFocus},getHasBranding:function(e){var t=i(e),n=t.embedOptions,r=t.mediaData;return(n.hasBranding||r.hasBranding)&&!n.isChromeless&&t.isUIReady},getHasSettingsControl:function(e){return i(e).embedOptions.settingsControl&&!i(e).embedOptions.isChromeless&&i(e).isUIReady},getHasQualityControl:function(e){return i(e).embedOptions.qualityControl},getHasPlaybackRateControl:function(e){return i(e).embedOptions.playbackRateControl},getHasBigPlayButton:function(e){var t=i(e),n=t.embedOptions;return n.bigPlayButtonControl&&!n.isChromeless&&!n.isAutoPlay&&t.isUIReady&&!t.isPlayInitiated},getHasBeenClicked:function(e){return i(e).hasBeenClicked},getHasCaptionsControl:function(e){var t=i(e);return!t.embedOptions.isChromeless&&t.isUIReady},getHashedId:function(e){return i(e).hashedId},getHost:function(e){return i(e).host},getEmbedHeight:function(e){return i(e).embedHeight},getEmbedWidth:function(e){return i(e).embedWidth},getEmbedAspectRatio:function(e){return i(e).embedAspectRatio},getVideoHeight:function(e){return i(e).videoHeight},getVideoWidth:function(e){return i(e).videoWidth},getResponsiveClassNames:function(e){var t=i(e).embedWidth,n="bp-325";return t>=450&&(n+=" bp-450"),t>=640&&(n+=" bp-640"),t>=750&&(n+=" bp-750"),n},getIsUIReady:function(e){return i(e).isUIReady},getVideoLength:function(e){return i(e).videoLength},getVideoProgress:function(e){return i(e).videoProgress},getIsPlayInitiated:function(e){return i(e).isPlayInitiated},getPlayerColor:function(e){return i(e).playerColor},getCustomerLogoImageUrl:function(e){return i(e).customerLogoImageUrl},getCustomerLogoTargetUrl:function(e){return i(e).customerLogoTargetUrl},getShowCustomerLogo:function(e){var t=i(e),n=t.mediaData,r=t.embedOptions;return n.enableCustomerLogo&&r.showCustomerLogo},getEmbedOption:function(e,t){return i(t).embedOptions[e]},getUUID:function(e){return i(e).uuid},getIsEmbeddedInCustomize:function(e){return i(e).isEmbeddedInCustomize}}},function(e,t){var i=e.exports={};i.nextTick=function(){var e="undefined"!=typeof window&&window.setImmediate,t="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(e)return function(e){return window.setImmediate(e)};if(t){var i=[];return window.addEventListener("message",function(e){var t=e.source;if((t===window||null===t)&&"process-tick"===e.data&&(e.stopPropagation(),i.length>0)){i.shift()()}},!0),function(e){i.push(e),window.postMessage("process-tick","*")}}return function(e){setTimeout(e,0)}}(),i.title="browser",i.browser=!0,i.env={},i.argv=[],i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")}},function(e,t,i){"use strict";function n(){for(var e=arguments.length,t=Array(e),i=0;e>i;i++)t[i]=arguments[i];return function(e){return function(i,n,o){var a=e(i,n,o),u=a.dispatch,l=[],c={getState:a.getState,dispatch:function(e){return u(e)}};return l=t.map(function(e){return e(c)}),u=s.default.apply(void 0,l)(a.dispatch),r({},a,{dispatch:u})}}}var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e};t.__esModule=!0,t.default=n;var o=i(187),s=function(e){return e&&e.__esModule?e:{default:e}}(o)},function(e,t){"use strict";function i(e,t){return function(){return t(e.apply(void 0,arguments))}}function n(e,t){if("function"==typeof e)return i(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(e),r={},o=0;o<n.length;o++){var s=n[o],a=e[s];"function"==typeof a&&(r[s]=i(a,t))}return r}t.__esModule=!0,t.default=n},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var i=t&&t.type;return'Reducer "'+e+'" returned undefined handling '+(i&&'"'+i.toString()+'"'||"an action")+". To ignore an action, you must explicitly return the previous state."}function o(e){Object.keys(e).forEach(function(t){var i=e[t];if(void 0===i(void 0,{type:a.ActionTypes.INIT}))throw new Error('Reducer "'+t+'" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined.');if(void 0===i(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+a.ActionTypes.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined.')})}function s(e){for(var t=Object.keys(e),i={},n=0;n<t.length;n++){var s=t[n];"function"==typeof e[s]&&(i[s]=e[s])}var a,u=Object.keys(i);try{o(i)}catch(e){a=e}return function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];if(a)throw a;for(var n=!1,o={},s=0;s<u.length;s++){var l=u[s],c=i[l],d=e[l],h=c(d,t);if(void 0===h){var p=r(l,t);throw new Error(p)}o[l]=h,n=n||h!==d}return n?o:e}}t.__esModule=!0,t.default=s;var a=i(188),u=i(94),l=(n(u),i(189));n(l)},function(e,t,i){var n,r;r=i(15).cachedDetect,n=function(){function e(t){t instanceof e?(this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a):t?this.parse(t):(this.r=this.g=this.b=0,this.a=1)}var t,i,n,o,s,a;return e.detect=r(),o=/^#?([0-9a-f]{3,4}|[0-9a-f]{6,8})$/i,a=/^rgba?\((\d{1,3}(?:\.\d+)?%?),\s*(\d{1,3}(?:\.\d+)?%?),\s*(\d{1,3}(?:\.\d+)?%?)(?:,\s*([01]?\.?\d*))?\)$/,s=/^\d+(\.\d+)*%$/,t=/([0-9a-f])/gi,function(e){return.5+e<<0},n=function(e){return s.test(e)?2.55*parseFloat(e):e},i=function(e,t,i){return 0>i&&(i+=1),i>1&&(i-=1),1/6>i?e+6*(t-e)*i:.5>i?t:2/3>i?e+(t-e)*(2/3-i)*6:e},e.prototype.parse=function(e){var i,r;return o.test(e)?(r=e.replace(/^\#/,""),(3===r.length||4===r.length)&&(r=r.replace(t,"$1$1")),this.r=parseInt(r.substr(0,2),16),this.g=parseInt(r.substr(2,2),16),this.b=parseInt(r.substr(4,2),16),8===r.length?this.a=parseInt(r.substr(6,2),16)/255:this.a=1):a.test(e)&&(i=e.match(a),this.r=parseFloat(n(i[1])),this.g=parseFloat(n(i[2])),this.b=parseFloat(n(i[3])),i[4]?this.a=parseFloat(i[4]):this.a=1),this},e.prototype.clone=function(){return new e(this)},e.prototype._hslFromRgb=function(){var e,t,i,n,r,o,s,a,u;return a=this.r/255,i=this.g/255,e=this.b/255,o=Math.max(a,i,e),s=Math.min(a,i,e),r=(o+s)/2,o,o===s&&(this._h=this._s=0),t=o-s,0===t?(this._h=0,this._s=0,this._l=100*a,this):(u=r>.5?t/(2-o-s):t/(o+s),n=o===a?(i-e)/t+(e>i?6:0):o===i?(e-a)/t+2:(a-i)/t+4,n/=6,this._h=360*n,this._s=100*u,this._l=100*r,this)},e.prototype._rgbFromHsl=function(){var e,t,n,r,o;return e=this._h/360,o=this._s/100,t=this._l/100,r=.5>t?t*(1+o):t+o-t*o,n=2*t-r,this.r=255*i(n,r,e+1/3),this.g=255*i(n,r,e),this.b=255*i(n,r,e-1/3),this},e.prototype.blendChannel=function(e,t,i){return this[e]=i*t+(1-i)*this[e],this},e.prototype.blend=function(t,i){return t=new e(t),this.blendChannel("r",t.r,i),this.blendChannel("g",t.g,i),this.blendChannel("b",t.b,i),this},e.prototype.lightenChannel=function(e,t){return this[e]+=t,this[e]<0?this[e]=0:this[e]>255&&(this[e]=255),this},e.prototype.lighten=function(e){return this.looksLikePercent(e)?this.lightness(this.lightness()+parseFloat(e)):(this.lightenChannel("r",e),this.lightenChannel("g",e),this.lightenChannel("b",e)),this},e.prototype.darken=function(e){return"string"==typeof e?this.lighten("-"+e):this.lighten(-e)},e.prototype.looksLikePercent=function(e){return/^\-?\d+(\.\d+)?%$/.test(e)},e.prototype.lightness=function(e){return this._hslFromRgb(),null!=e?(this._l=Math.max(0,Math.min(100,e)),this._rgbFromHsl(),this):this._l},e.prototype.saturation=function(e){return this._hslFromRgb(),null!=e?(this._s=Math.max(0,Math.min(100,e)),this._rgbFromHsl(),this):this._s},e.prototype.grayLevel=function(){return(.299*this.r+.587*this.g+.114*this.b)/255},e.prototype.whiteLevel=function(){return Math.min(Math.min(this.r,this.g),this.b)},e.prototype.isGrayscale=function(){return this.r===this.g&&this.g===this.b},e.prototype.distanceFrom=function(e){return Math.sqrt(Math.pow(this.r-e.r,2)+Math.pow(this.g-e.g,2)+Math.pow(this.b-e.b,2))},e.prototype.channelDominance=function(){return["r","g","b"].sort(function(e){return function(t,i){return e[i]-e[t]}}(this))},e.prototype.alpha=function(e){return null!=this.a?(this.a=e,this):this.a},e.prototype.red=function(e){return null!=e?(this.r=e,this):this.r},e.prototype.green=function(e){return null!=this.g?(this.g=e,this):this.g},e.prototype.blue=function(e){return null!=this.b?(this.b=e,this):this.b},e.prototype.toHex=function(){var e,t,i;return i=Math.round(this.r).toString(16),t=Math.round(this.g).toString(16),e=Math.round(this.b).toString(16),1===i.length&&(i="0"+i),1===t.length&&(t="0"+t),1===e.length&&(e="0"+e),""+i+t+e},e.prototype.toHexWithAlpha=function(){var e;return e=Math.round(255*this.a).toString(16),1===e.length&&(e="0"+e),""+e+this.toHex()},e.prototype.toRgb=function(){return"rgb("+Math.round(this.r)+","+Math.round(this.g)+","+Math.round(this.b)+")"},e.prototype.toRgba=function(){return"rgba("+Math.round(this.r)+","+Math.round(this.g)+","+Math.round(this.b)+","+this.a+")"},e.prototype.toRgbaOrHex=function(){return this.constructor.detect.browser.msie&&this.constructor.detect.browser.version<9?"#"+this.toHex():this.toRgba()},e.prototype.toPercent=function(){return"rgba("+this.r/255*100+"%,"+this.g/255*100+"%,"+this.b/255*100+"%,"+this.a+")"},e.prototype.toIeGradient=function(){return"progid:DXImageTransform.Microsoft.gradient(startColorStr='#"+this.toHexWithAlpha()+"', endColorStr='#"+this.toHexWithAlpha()+"')"},e.prototype.toString=function(){return this.toPercent()},e}(),e.exports=n},,,function(e,t,i){!function(e){var t;if(!e.StopGo)t=i(4).wlog,t=t.getPrefixedFunctions("StopGo"),e.StopGo=i(151),e.StopGo.prototype._debug=function(){return t.notice.apply(t,arguments)}}(Wistia)},function(e,t,i){i(303),i(304),i(301),i(299),i(302),i(297)},function(e,t,i){var n,r=[].slice;n=i(146),function(e){var t,i,o,s;if(!e.bindable){e.bindable={bind:function(t,i){return!0===("function"==typeof this.specialBind?this.specialBind.apply(this,arguments):void 0)?this:i?n.bind.call(this,t,i):e.warn(this.constructor.name,"bind","falsey value passed in as callback:",i)},unbind:function(e,t){return!0===("function"==typeof this.specialUnbind?this.specialUnbind.apply(this,arguments):void 0)?this:(t?n.unbind.call(this,e,t):this._bindings&&(this._bindings[e]=[]),this._bindings&&this._bindings[e]&&!this._bindings[e].length&&(this._bindings[e]=null,delete this._bindings[e]),this)},rebind:function(e,t){return this.unbind(e,t),this.bind(e,t)},trigger:function(){var e,t,i,o;return t=arguments[0],e=2<=arguments.length?r.call(arguments,1):[],(i=n.trigger).call.apply(i,[this,t].concat(r.call(e))),(o=n.trigger).call.apply(o,[this,"all"].concat(r.call([t].concat(e)))),this},bindNamed:function(){return n.bindNamed.apply(this,arguments)},unbindNamed:function(){return n.unbindNamed.apply(this,arguments)},unbindAllInNamespace:function(){return n.unbindAllInNamespace.apply(this,arguments)}},i=e.bindable,o=[];for(t in i)s=i[t],e[t]?o.push(void 0):o.push(e[t]=s)}}(Wistia)},function(e,t,i){var n=[].slice;!function(e){var t,r,o,s,a,u,l,c,d,h;if(t="2015-02-17",r=e.Wistia,a=function(){var i;return i={},i.wistia=t,i._initializers={},i._destructors={},i.extend=function(){var e,t,r;return e=arguments[0],t=2<=arguments.length?n.call(arguments,1):[],t.length||(t=[e],e=i),(r=i.obj).merge.apply(r,[e].concat(n.call(t))),e},i.proto=function(t){return null==t&&(t=e.location.href),i.url.proto(t)},i.mixin=function(e,t){var i,n,r;n=[];for(i in t)r=t[i],t.hasOwnProperty(i)&&n.push(e[i]=r);return n},i.data=function(e,t){return i.obj.isArray(e)||(e=e.split(".")),null!=t&&i.obj.set(i,["_data"].concat(e),t),i.obj.get(i,["_data"].concat(e))},i.removeData=function(e){return i.obj.isArray(e)||(e=e.split(".")),i.obj.unset(i,["_data"].concat(e))},i.async=function(e,t){var n;return n=new i.StopGo,n.run(t),i.timeout(e,n.go,0),n},i.asyncChain=function(e,t,n){var r,o,s,a,u,l,c;for(null==n&&(n=1),c=[],o=function(e){var t;return t=function(){var t;try{return e()}catch(e){return t=e,i.error(t)}},c.push((new i.StopGo).run(t))},s=0,u=t.length;u>s;s++)r=t[s],o(r);return a=c[c.length-1],i._drainStopGosAsync(e,c),l=new i.StopGo,a.then(function(){return i.timeout(e+".last",function(){return l.go()},0)}),l},i.chain=function(e){var t,n,r,o,s;for(s=new i.StopGo,r=0,o=e.length;o>r;r++){n=e[r];try{n()}catch(e){t=e,i.error(t)}}return s.go(),s},i._drainStopGosAsync=function(e,t,n){var r;return null==n&&(n=0),t.length<1?void 0:(r=t.shift(),r.run(function(){return i._drainStopGosAsync(e,t,n+1)}),i.timeout(e+"."+n,function(){return r.go()},0),r)},i.uniqId=function(t,i){var n,r;return null==t&&(t=""),null==i&&(i=""),n=(new Date).getTime(),e.performance&&"function"==typeof e.performance.now&&(n+=e.performance.now()),r="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx-xxxxxxxxx-xxxxxxxxxxxx-xxxx".replace(/[xy]/g,function(e){var t,i;return t=(n+16*Math.random())%16|0,n=Math.floor(n/16),i="x"===e?t:3&t|8,i.toString(16)}),t+r+i},i.css=function(){var e,t,n;return 2===arguments.length?(n=arguments[0]||document.body||document.head,e=arguments[1]):(n=document.body||document.head,e=arguments[0]),/\{/.test(e)&&/\}/.test(e)?i.util.addInlineCss(n,e):(t=document.createElement("link"),t.setAttribute("rel","stylesheet"),t.setAttribute("href",e),i.elem.append(n,t),t)},i.script=function(){var e,t;return t=1<=arguments.length?n.call(arguments,0):[],(e=i.remote).scripts.apply(e,t)},i},s=function(){return null!=e.Wistia&&null!=e.Wistia.wistia},s()||(e.Wistia=a()),Wistia.timeout||(c=i(55),u=c.doTimeout,o=c.clearTimeouts,Wistia.seqId=i(33),Wistia.timeout=u,Wistia.clearTimeouts=o),null!=r&&null==r.wistia){d=[];for(l in r)h=r[l],d.push(Wistia[l]=h)}}(window)},function(e,t,i){!function(e){var t,n,r;n=e,n.elem||(n.Elem=t=i(14),n.elem=r={},r.html=t.elemHtml,r.fromObject=t.elemFromObject,r.toObject=t.elemToObject,r.clone=t.elemClone,r.append=t.elemAppend,r.prepend=t.elemPrepend,r.before=t.elemBefore,r.after=t.elemAfter,r.remove=t.elemRemove,r.removeClass=t.elemRemoveClass,r.addClass=t.elemAddClass,r.hasClass=t.elemHasClass,r.classes=t.elemClasses,r.style=t.elemStyle,r.vendoredProperties=t.vendoredProperties,r.vendoredProperty=t.vendoredProperty,r.vendorPrefixes=t.vendorPrefixes,r.propsWithVendorPrefixes=t.propsWithVendorPrefixes,r.width=t.elemWidth,r.height=t.elemHeight,r.isBoxModel=t.isBoxModel,r.offset=t.elemOffset,r.containsOffset=t.elemContainsOffset,r.scrollOffset=t.elemScrollOffset,r.isHidden=t.elemIsHidden,r.inDom=t.elemInDom,r.isDescendantOf=t.elemIsDescendantOf,r.ancestorHasClass=t.elemAncestorHasClass,r.ancestors=t.elemAncestors,r.isInside=t.elemIsInside,r.animate=t.elemAnimate,r.bind=t.elemBind,r.unbind=t.elemUnbind,r.unbindAll=t.elemUnbindAll,r.unbindAllInside=t.elemUnbindAllInside,r._bindKey=t.elemBindKey,r.rebind=t.elemRebind,r.bindOnce=t.elemBindOnce,r.trigger=t.elemTrigger,r.fullscreenElement=t.fullscreenElement,r.requestFullscreen=t.elemRequestFullscreen,r.cancelFullscreen=t.elemCancelFullscreen,r.stripEventAttributes=t.elemStripEventAttributes,r.mutationObserver=t.elemMutationObserver,r.domDistance=t.elemDomDistance,r.allBetween=t.elemAllBetween)}(Wistia)},function(e,t,i){var n;n=i(9),function(e){var t,i;e.hasState={updateState:function(e){var i,r,o,s,a;for(this.state||(this.state={}),i=t(this.state,e),a=n.clone(this.state),n.merge(a,e),this.state=a,r=0,o=i.length;o>r;r++)s=i[r],this.trigger("property:updated:"+s);return 0!==i.length?this.trigger("property:updated:all"):void 0},getState:function(e){var t;return t=n.clone(this.state),e?t[e]:stateCone}},t=function(e,t){var n,r,o;n=[];for(r in t)o=t[r],i(o,e[r])&&n.push(r);return n},i=function(t,i){return e.obj.isObject(t)?!e.obj.equalsDeep(t,i):t!==i},e.mixin(e.hasState,e.bindable)}(Wistia)},function(e,t,i){!function(e){e.obj||(e.obj=i(9))}(Wistia)},function(e,t,i){!function(e){var t,n,r,o,s,a,u,l;if(!e.util)s=i(40),l=s.unescapeHtml,a=s.snakeCase,n=s.camelCase,r=s.notSetOrTrue,o=s.poll,u=s.throttle,t=i(14),e.util={bindEvent:function(){var t;return(t=e.elem).bind.apply(t,arguments)},unbindEvent:function(){var t;return(t=e.elem).unbind.apply(t,arguments)},elemHeight:function(t){return e.elem.height(t)},elemWidth:function(t){return e.elem.width(t)},elemInDom:function(t){return e.elem.inDom(t)},winHeight:function(){return e.elem.height(window)},winWidth:function(){return e.elem.width(window)},docHeight:function(){return e.elem.height(document)},docWidth:function(){return e.elem.width(document)},unescapeHtml:l,addInlineCss:t.addInlineCss,cssTags:t.getCssTags,execCssTags:t.execCssTags,removeCssTags:t.removeCssTags,scriptTags:t.getScriptTags,execScriptTags:t.execScriptTags,removeScriptTags:t.removeScriptTags,scrollTop:function(e){var t,i,n,r;return null!=e?(null!=(t=document.body)&&(t.scrollTop=e),null!=(i=document.documentElement)?i.scrollTop=e:void 0):("undefined"!=typeof document&&null!==document&&null!=(n=document.documentElement)?n.scrollTop:void 0)||("undefined"!=typeof document&&null!==document&&null!=(r=document.body)?r.scrollTop:void 0)||0},scrollLeft:function(e){var t,i,n,r;return null!=e?(null!=(t=document.body)&&(t.scrollLeft=e),null!=(i=document.documentElement)?i.scrollLeft=e:void 0):("undefined"!=typeof document&&null!==document&&null!=(n=document.documentElement)?n.scrollLeft:void 0)||("undefined"!=typeof document&&null!==document&&null!=(r=document.body)?r.scrollLeft:void 0)||0},applyTransform:function(e,t){var i,n,r,o,s;for(n=["msTransform","mozTransform","webkitTransform","transform"],s=[],r=0,o=n.length;o>r;r++)i=n[r],s.push(e.style[i]=t);return s},applyTransformOrigin:function(e,t){var i,n,r,o,s;for(n=["msTransformOrigin","mozTransformOrigin","webkitTransformOrigin","transformOrigin"],s=[],r=0,o=n.length;o>r;r++)i=n[r],s.push(e.style[i]=t);return s},vendoredCss:function(e){return function(t){var i,n;return n=["-webkit-","-moz-","-o-","-ms-",""],function(){var r,o,s;for(s=[],r=0,o=n.length;o>r;r++)i=n[r],s.push(""+i+e+": "+t+";");return s}().join("\n")}},transitionCss:function(){var t,i,n;return arguments[0]instanceof Array?(i=arguments,n=function(){var e,n,r;for(r=[],e=0,n=i.length;n>e;e++)t=i[e],r.push(t[0]+" "+t[1]+" linear "+(t[2]||"0s"));return r}().join(",")):(t=arguments,n=t[0]+" "+t[1]+" linear "+(t[2]||"0s")),e.util.vendoredCss("transition")(n)},transformCss:function(t){return e.util.vendoredCss("transform")(t)},niceDuration:function(e){var t,i;return t=i=0,e>0&&(t+=Math.floor(e/60),e%=60),i=Math.round(e),60===i&&(t+=1,i=0),t+":"+this.padNumber(i,2)},padNumber:function(e,t){var i;for(null==t&&(t=0),i=""+e;i.length<t;)i="0"+i;return i},localDate:function(e){var t,i;return null==e&&(e=new Date),i=-e.getTimezoneOffset(),t=i>=0?"+":"-",e.getFullYear()+"-"+this.padNumber(e.getMonth()+1,2)+"-"+this.padNumber(e.getDate(),2)+"T"+this.padNumber(e.getHours(),2)+":"+this.padNumber(e.getMinutes(),2)+":"+this.padNumber(e.getSeconds(),2)+t+this.padNumber(Math.abs(Math.floor(i/60)),2)+":"+this.padNumber(Math.abs(Math.floor(i%60)),2)},requestAnimationFrame:function(e){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){return setTimeout(e,1e3/60)})(e)},notSetOrTrue:r,indexOf:function(e,t){var i,n,r;for(i=n=0,r=e.length;r>=0?r>=n:n>=r;i=r>=0?++n:--n)if("function"==typeof t){if(t(e[i]))return i}else if(e[i]===t&&e[i]===t)return i;return-1},insertIntoArray:function(t,i,n){var r;return null==n&&(n={}),n.after?(r=e.util.indexOf(t,n.detect||n.after),r>=0?t.splice(r+1,0,i):"undefined"!=typeof console&&null!==console?console.log(n.after+" not found when trying to add "+i+" to array"):void 0):n.before?(r=e.util.indexOf(t,n.detect||n.before),r>=0?t.splice(r,0,i):"undefined"!=typeof console&&null!==console?console.log(n.before+" not found when trying to add "+i+" to array"):void 0):null!=n.index?t.splice(n.index,0,i):t.push(i)},throttle:u,toArray:function(e,t){if(null==t&&(t=/\s+/),e instanceof Array)return e;if("string"==typeof e)return e.split(t);throw new Error("Don't know how to convert "+e+" into an array.")},poll:o,aps:function(e){var t,i,n,r;for(r=[],i=0,n=e.length;n>i;i++)t=e[i],r.push(t);return r},pageLoaded:t.pageLoaded,isDocReady:t.isDocReady,onDocReady:function(){var t,i,n,r,o,s,a,u;return arguments.length>1?(a=arguments[0],i=arguments[1]):(a=1e4,i=arguments[0]),e.util.isDocReady()?i():top===self&&document.documentElement.doScroll?(s=function(){try{return document.documentElement.doScroll("left"),!0}catch(e){return e,!1}},e.util.poll(s,i,50,a,i)):(o=function(t){return e.util.isDocReady()?(clearTimeout(r),u(),i()):void 0},t=function(){return e.elem.bind(document,"DOMContentLoaded",o),e.elem.bind(document,"readystatechange",o),e.elem.bind(window,"load",o)},u=function(){return e.elem.unbind(document,"DOMContentLoaded",o),e.elem.unbind(document,"readystatechange",o),e.elem.unbind(window,"load",o)},n=function(){return u(),i()},r=setTimeout(n,a),t())},camelCase:n,snakeCase:a,breakIdentifier:{},eachIndexOf:function(t,i,n){var r,o;for(r=-1,o=[];-1!==(r=t.indexOf(i,r+1))&&n(r)!==e.util.breakIdentifier;)o.push(void 0);return o},removeFromArray:function(e,t){var i;return i=e.indexOf(t),e.splice(i,1)},assetSizeShorthandToNumeric:function(e){return"4k"===e?2160:parseInt(e,10)},numericAssetSizeSnapped:function(e,t){var i,n;return i=e/t,n=e*t+1,n>=3840/i*3840?2160:n>=2560/i*2560?1440:n>=1920/i*1920?1080:n>=1280/i*1280?720:n>=960/i*960?540:n>=640/i*640?360:t},parentFramesLength:function(){var t;try{return parent.frames.length}catch(i){return t=i,e.warn(t),1}},injectWistiaOverpassFontFace:function(){return e._wistiaFontFaceStyle?void 0:e._wistiaFontFaceStyle=e.css(this.wistiaOverpassFontFaceDefinition())},removeWistiaOverpassFontFace:function(){return e.elem.remove(e._wistiaFontFaceStyle),e._wistiaFontFaceStyle=null},wistiaOverpassFontFaceDefinition:function(){return"@font-face {\nfont-family: 'WistiaPlayerOverpass';\nsrc: url(data:application/x-font-ttf;charset=utf-8;base64,"+this.overpassBase64()+");\n}"},overpassBase64:function(){
return"AAEAAAARAQAABAAQRFNJRwAAAAEAAD8gAAAACEdQT1Phut9TAAAqPAAAFNZHU1VCAAEAAAAAPxQAAAAKT1MvMl1tVn0AACJIAAAAYGNtYXDlAIozAAAiqAAAAYpjdnQgAAAAAAAAJcAAAAAEZnBnbUM+8IgAACQ0AAABCWdhc3AAGgAjAAAqLAAAABBnbHlmipfKngAAARwAAB6QaGVhZILshugAACCEAAAANmhoZWEG2ALDAAAiJAAAACRobXR4uxUW0AAAILwAAAFobG9jYWHRWWgAAB/MAAAAtm1heHAAYQBgAAAfrAAAACBuYW1lGpIbcAAAJcQAAAOPcG9zdAkqCRUAAClUAAAA1nByZXBoUamTAAAlQAAAAH8AAgBI//IAxgLIAAUAEQAAEzUjFRMzFjY1NCYjIgYVFBYzrUgeCxMlJRoaJSUaAe/Z2f7SzyYZGSYmGRkmAAAAAAIAPAGxAUUCvAADAAcAABMTIxMzEyMTgRJXEOcSWBEBsQEL/vUBC/71AAAAAgA5AAACdAK8ABsAHwAANzMHMzczNyM3MzcjNyMHIzcjByMHMwcjBzMHMxMHIzf4jh9EH3QKdRx7CnweRB6OHUQecgpzG3gMex9E0hyOHMzMzD+yPcLCwsI9sj/MAb2ysgAAAAEAQf+eAgcDFQA0AAAAJic1IxUGBwYGFRQXFhYXFhcWFRQGIyImJwcWFhcVMzU2NzY1NCcmJicmJyY1NDYzMhYXNwHYUjxHTzIWGEIbQy1JJDBNRjtYFUIUZkhHVjM0QRtDK08gMUQ+M0QOQQKDOghQTwcvFjceUDUWIhEcISs7PkE2Lxg1TQlZWAgxNFNaPBkkER8YJTAtNCYeFgAAAAAFADv/9AM9AsgAEgAWACQANwBFAAAANzY2NTQnJiMiBwYGFRQXFhYzAQEzAQAmNTQ3NjMyFhUUBwYjADc2NjU0JyYjIgcGBhUUFxYWMyYmNTQ3NjMyFhUUBwYjASgrEREjKlBOLBIRJBM9KQGv/iJIAd792y4WGC4tLxYaLAIYKxERIypQTiwSESQTPSkuLhYYLi0vFhosAWQ8GT4fRzI5PRk+HkcxGx8BZP0sAtT+1kE3NSAjQTc0ICT+VjwZPh9HMjk9GT4eRzEbHzpBNzUgI0E3NCAkAAADAC//9AJ5AsgAJQAwADoAACU2NyMGByc2NjU0JyYmIyIHBgYVFBcWFwYHBhUUFhcWMzI2NxczADYzMhYVFAcmJjUCJjU0NjcXBgYjAf4wCEIHHZhFRS0VOiJILRYaFRcsUCkvHBo2Vz14Lk1X/kg0Kyk3bS0lAU9DSawkWiuTUVs7O7YqVTVAKxQWJxM4IScmKjQsMDhGKkYYNDUyWwJbLzMrQUA3ORn9/0g7LkwszSwwAAABADwBsQCTArwAAwAAExMjE4ESVxABsQEL/vUAAQBV/34BHQLIABIAABYnJjU0NzY2NyMGBwYVFBcWFzPrIDE1EysQQzsgKiYeNkNMVH+VlYUxTRRIXHaSkW9YRgAAAAABADf/fgD/AsgAEgAAFjc2NTQnJicjFhYXFhUUBwYHM7seJikhO0MQKxQ0MSAnQzxYb5GQeF1HE04xiJKVf1Q2AAAAAAEAOgEtAd0CwwAYAAABJyc3NycHBzc1IxUXJycHFxcHBxc3NxcXAaU/Pk1oF2NHEkUQR2EXZks6QDhCHyBEAVhYOAUiQiAxU3BwUzEgQiIFOFgrXFBQXAABAF8AbAI1AkIACwAAASM1IxUjFTMVMzUzAjXISMbGSMgBeMrKRMjIAAAAAAEAMv9zALcAbQASAAAWNjU0JyYmIyIGFRQWMxQHBgcXhTIXChoNGiMpIBIMFBN0VjcpFwoKJB4bIyckGBIFAAABAFoBCAE5AUwAAwAAASMVMwE5398BTEQAAAAAAQAy//IAsABwAAsAABY2NTQmIyIGFRQWM4slJRoaJSUaDiYZGSYmGRkmAAABAAD/fgHNAsgAAwAAASMBMwHNRP53RALI/LYAAgBG//QCJgLIABUAJQAABDc2NzY1NCYnJiMiBwYHBhUUFhcWMyYnJjU0NzYzMhcWFRQHBiMBjzsxGBMZGj9+WjsvGRMZGz1/XCohHylfWiohHileDD0zW0lWQ4AydT0xXUhXRn8xdD9fSoJ5TGZfS4F8SmUAAAAAAQAoAAAA5QK8AAgAABMjBgYjFTMRM+UtEEc5d0YCvDAnKP3DAAAAAAEARwAAAhICyAAkAAAlITY3PgI3NjY3NjU0JiMiBwYHFzYzMhYVFAcGBwcGBgcGFSECEv5/CzMSMiEIMEMbQnRnVz46ET4df0dRMyNSEys6GEQBy0M9MBElFgUeMBxEVFtqKyhBHHFLOzw1IzYNHS4cUnMAAQAy//QCCALIADQAAAQ2NzY2NTQmJzY2NTQmJyYmIyIHBgcXNjc2MzIWFxYVFAYjIxUzMhYVFAcGIyImJwcWFxYzAUlWIiIlPzcqLx8cHEwqUzsxGkEVHys8GS8SJ0s/JS9LUTAsSD5PGkEbMzpgDB8bHEsrRGIWF1IwJ0MYFxouJkAZLhokERAiOTpFQExCQiUiPEIbSykwAAAAAgAeAAACIgK8AAoADQAAJTM1IxEjARUhFTMDESMBuGpqKv6QAVRGRvm9PAHD/iYlvQJD/rYAAAABAEb/9AIuArwALQAANhYXFjMyNjc2NjU0JicmJiMiBgc3ITUhAxc2NzYzMhcWFhUUBgcGBiMiJyYnB1MuHUROOl8jICIjHx9TLi1UICgBLP6cOTsXKTM3RC4UFxwYGUQmQi4qJCk8HwwdKSMhVS0xUx8dIR4d9D/+lRIbEhYxFz4iIT4YGBsXFSQzAAIAPP/0AgQCyAAhADYAAAQ2NzY2NTQmJyYmIyIGBzY2NzY2NzUGBgcGBhUUFhcWFjMSFxYVFAYHBiMiJicmJjU0Njc2NjMBUVIfHyMgHB1MKjZTGggyJSVbMUqEMTE2Hh0eVzhFLSsXFSxIITsVFhkYFRU7IwwkHyBVMCdOHh8kIR8sWSgoOw83Elo/P5FKOmMjJikBgC0tSCI6FS4YFhU7ISM8FhUYAAEAKAAAAcsCvAAMAAA2NzY3NSEVIQYHBgcz6ig3gv5dAVN3MysCRqaOxJYuPJeoircAAAADAEb/9AIQAsgAIwAvAEIAAAAGBwYGFRQWFwYHBhUUFhcWMzI2NzY2NTQmJzY2NTQmJyYmIwImNTQ2MzIWFRQGIwInJjU0Njc2NjMyFxYWFRQHBiMBAkkbGh4wLDUkIyIfQmIwVR8fIkQ5Li8eGhtJKTlFRzc3R0U5RCstFhUVOiJELhQWLStEAsgdGRlCJC5OFBM1NEIsTRw8IBwcTSxCZxUTTi8kQhkZHf7QPzM6RUU6Mz/+mykrSB84FhYYLhY4H0grKQAAAAIAPP/0AgQCyAAgADQAABIGBwYGFRQWFxYWMzI2NwYGBwYGBxU2Njc2NjU0JicmIwInJjU0NzYzMhYXFhYVFAYHBgYj9FQgICQgHBtMKjdVGgYsIyRYMkp/Ly4yHBs8bU0tKywtRyE7FhYYGBUVOyMCyCMgH1YwKU0eHiIjIS1cKCk8DzcSWj8+kko5YyVO/nwvLUhELi8ZFhY7ISM8FhYZAAAAAgAy//IAsAHjAAsAFwAAEjY1NCYjIgYVFBYzEjY1NCYjIgYVFBYziyUlGholJRoaJSUaGiUlGgFlJhkZJiYZGSb+jSYZGSYmGRkmAAIAMv9zALcB4wALAB0AABI2NTQmIyIGFRQWMxI2NTQnJiYjIgYVFBYzFAYHF4slJRoaJSUaFDIXChoNGiMoHBwREwFlJhkZJiYZGSb+J1Y3KRcKCiQeGyIpPw4FAAAAAAIALv/yAdwCyAAhAC0AACQ3NjY3Njc2NjU0JicmIyIGBxc2NjMyFhUUBwYHBgcGFTMGNjU0JiMiBhUUFjMBIA4NJxwUGRcaHBo7YlF0FkAMUD9CSQ4XORkUMUgMJSUaGiUlGucfGysYEBsaPSomQxk2UUUdNztDMiMaKTAWGDtVzCYZGSYmGRkmAAAAAgAy//QC7QLIAFAAXgAABDc3BgYjIiYnJiY1NDY3NjYzMhYXFhUUBwYjIiY1NTQ3NyMHJiYjIgYHBgYVFBYXFhYzMjY3FhYzMjY3NjY1NCYnJiYjIgYHBgYVFBYXFhYzEhYVFAcGIyImNTQ3NjMB4jEPGlAlQ2slJScqJyhyRjdjJE4aGykVGAEoPw4IOi0pRhkYGxYUFDYeKUAWBzApIT0WFhowLCx7SEqEMzQ7NTEvf0kuNSAhNCsyICE3DA9CCQosKCZnO0R0KisvHh0/b1Y7ORsYCQYD6FMvMSQfHkokJD8XFxotKCQoJiIiXjVCbygnKzYzNItRUYEuLS4B4DwxPCssOjM+KSwAAAIAPAAAAloCvAAHAA8AAAEjAzM3IRczATc3FhYXEyMBZTbzST0BEUBH/t0LCAMLBmDnArz9RLW1AgshHg0jD/7oAAAAAwBpAAACQAK8ABEAGwAmAAAhMjc2NTQmJzY2NTQmJyYjIxETMzIXFhUUBiMjFTMyFxYVFAcGIyMBYXQ8L0s8NDoWFzdy6EaoUSMbVVGRnWMsJB0lUL4/MFVFWQ8TTDUkQhg5/UQCfSUeMzpDPSwkPzkeKAABAEb/9AJIAsgAJQAABDc2NycGBiMiJicmJjU0Njc2MzIXFhc3JicmIyIHBgYVFBYXFjMBvD4zGz4aTDw3VBsaGRkYOm44JxwdPh8qN1aQTCMjISJOkQwoIjYYKy4wLChrPDZrKWEaEykkMxsjbTGCSkiAMXEAAAACAGkAAAJgArwACwAXAAAhMjc2NjU0JyYjIxETMzIXFhYVFAcGIyMBH6xTIx9FU6W6RoB0PhsbMz2DdXMve0GVW279RAJ9WSdnOHZMXQAAAAEAaQAAAg4CvAALAAAlIREzNSM1ITUhESECDv6h3t4BSf5xAaVDAQZC7kP9RAAAAAEAaQAAAgICvAAJAAATMzUjNSE1IREzr+XlAVP+Z0YBSULuQ/1EAAABAEb/9AJYAsgAKQAABDc2NTUjFTMVFAYjIiYnJiY1NDY3NjMyFxYXNyYnJiMiBwYGFRQWFxYzAdFCRcuBWU03VBsaGRkYOm44JxwdPh8qN1aQTCMjISJOkQxER31NPipQXjAsKGs8NmspYRoTKSQzGyNtMYJKSIAxcQAAAQBpAAACSwK8AAsAAAEjESERIxEzESERMwJLRv6qRkYBVkYCvP7RAS/9RAFL/rUAAQBpAAAArwK8AAMAABMjETOvRkYCvP1EAAAAAAEAHv/0AaUCvAAUAAAENzY1ESMRFAcGIyImJyYmJwcWFjMBKTZGRisiOyAnDgwUDTcZVEkMLz2BAdv+EFQmHwsLCh0ZHjs8AAEAaQAAAkwCvAALAAABNyMBESMRMxE3EzMBUb9M/utGRnLcTwHO7v6kAVz9RAEFjv5tAAABAGkAAAIKArwABQAAJSERIxEhAgr+pUYBoUMCef1EAAEAaf/0ArkCvAALAAABIwMDIxEzERMTETMCuT3t6jxG2upGArz93wIh/UQCA/3xAhL9+gABAGkAAAJYArwACQAAASMRASMRMxEBMwJYRv6eR0YBYkcCvP2/AkH9RAI5/ccAAAACAEb/9AKKAsgAFwAsAAAENjc2NjU0JicmJiMiBgcGBhUUFhcWFjMmJyYmNTQ2NzYzMhYXFhUUBgcGBiMBtnAkICAgICRwTk5wJCAgICAkcE5wOBkYGRg6bjpUGzAYGBtVOQw9NzJ/RUV/Mjc9PTcyf0VFfzI3PT9dKGs7NmspYTErT4A3aiktNAAAAAIAaQAAAkYCvAAOABkAABMzMjY3NjY1NCcmIyERMxEzMhcWFRQHBiMjr7o5VhwZGTA6c/8ARsBOKB4gKUvAASEkIBxIJVg1Qf1EAn0xJTk6Ji4AAAIARv+/AooCyAAaADEAAAQ3FzcnNjc2NTQmJyYmIyIGBwYGFRQWFxYWMyYnJiY1NDY3NjMyFhcWFRQGBycHFwYjAbU9OjA6NhsXICAkcE5OcCQgICAgJHBOcDgZGBkYOm46VBswIiQsMi8sOAwhViRWM1FJWEV/Mjc9PTcyf0VFfzI3PT9dKGs7NmspYTErT4BEeitCJEYaAAAAAAIAaQAAAkICvAAPABoAAAAnJiMhETMRMxMzAzY3NjUlMzIXFhUUBwYjIwJCLjhy/v9GnpZNm1kuJv5tvU8mHiApSr0CTTI9/UQBOf7HATwMPDFHgS0jNDchKQAAAQBB//QCBwLIAC8AAAAmIyIHBgYVFBcWFhcWFxYVFAYjIiYnBxYXFjMyNjc2NTQnJicmJyY1NDYzMhYXNwHWaExdOhscQhpELUwiME5GOlgWQhNAQlQwUh0+QS9aTSIyRT4yRQ5BAoo+MBU9IU81FiMRHh4rPD5DOC8YOikrGhkzXFk8KyQeGSUwLTYoHhYAAQA8AAACAwK8AAcAAAEhFTMRMxEzAgP+OcBGwQK8Q/2HAnkAAQBk//QCRAK8ABUAAAQ3NjURIxEUBwYjIicmNREjERQXFjMByTtARjMqTU0pNEZAO3UMP0WMAbj+SHQzKioydQG4/kiMRT8AAQA3AAACSQK8AAYAAAEDAyMTMxMB/rrDSvAz7wK8/bcCSf1EArwAAAEANwAAAwQCvAAMAAAlAyMDAyMTMxMTMxMjAkqXNJ1hSocwqqgsmEmjAhn92wIl/UQCMv3OArwAAQAsAAACBwK8AAsAAAETIwMDIxMDMxMTMwE6uUmQk0y6yUqfp0sBdAFI/vIBDv6t/pcBMP7QAAABAC0AAAI7ArwACAAAARMjAwMjExEzAVjjSL+6TeVGARYBpv6YAWj+V/7tAAEARgAAAjcCvAAJAAAlIQE1IRUhARUhAjf+bQGT/iYBgf5oAfFCAkczQv23MQAAAAIAPP/0AcECCwAgAC8AAAE0JyYjIgYHFzY3NjMyFxYVFSYjIgYHBhUUFjMyNjcVMyQmNTQ3NjMyFhcVBgcGIwHBOitFMV8jFB0qLCUzGyJERiVDGTleUClNIEH++T0nITggSRodHygrAVphLiIhFzwUERIYIEUrJBQUL1JUWSEdMjE8NDUdGhgSYyMTGQAAAAIAWv/0AfsC0gASACAAAAQ2NTQnJiMiBgcRBxEzNRYXFjMmJic1Njc2MzIWFRQGIwGQazk4YiVKGUZGGCEjMjFIFREgKCpHSEhHDIqCfElGIhwBBSP9US4WERM/LCT7HRcaaGRhbAAAAQA3//QBtAILABkAAAQ2NycGBiMiJjU0NzYzMhc3JiYjIgYVFBYzAUNfEj8NOylDQSAjQ0scQBVWOWNvbF4MPzYYJSlpY2I0N0UZMziNf3+MAAAAAgA3//QB2ALSABEAIgAABDcVMxEHFSYmIyIGFRQXFhYzJiYnJiY1NDYzMhcWFxUGBiMBWjhGRhtBLGNwORtPMBk3ExMUS0ctJBsUFUQnDDgsAtIj1BYajX57SCQlPyAcG0srY2kYEx//JioAAgA3//QB3wILABwAJAAAJDU1NCcmIyIGBwYGFRQWFxYWMzI2NycGIyImJyEmFxYVITY2MwHfPDdXMVIdHiAfHR1TMitRICY2PUBOCQFclCIt/ucFUEH5BxR7QTskIiJkPzZhJSYqIBovKF5Q6SErXlVVAAABAB4AAAExAsgAGAAAASM1NDc2MzIXNSYmIyIHBhUVIxUzETMRMwExewcKISMmFicaLRwhUlJGewH/TBsOExQ9DAwZHjtXP/5AAcAAAgA3/ysB2gILABwAKwAABDc2NREjFSYnJiMiBwYVFBcWFjMyNjcVFAcGBxcCJyY1NDYzMhcWFxUGBiMBVzpJRhUYKDNfOjw/HUsqM0IXJjJyIBUpLE1LHiMlFhRHIdAtOHMB9zAYDhZGSXyBRyEjJCJOPR4pBjcBCDY3YGRoFBUl9icuAAAAAAEAWgAAAdsC0gATAAASBxEHETMRNDc2MzIWFREzETQmI84uRkYkHzs3QEZZXgILRQEMIf1PATpPJB9HTf7IARt+cgAAAgBQAAAArALGAAsADwAAEjY1NCYjIgYVFBYzFyMRM5IaGhQUGhoUI0ZGAmgaFBQcHBQUGmn+AQAC/+L/KwCtAsYACwAXAAASNjU0JiMiBhUUFjMHERQHBgcXNjc2NRGTGhoUFBoaFCMYHkQgRycyAmgaFBQcHBQUGmn9xSkXHAY3BSUtXgIfAAEAWgAAAeYC0gALAAABBxEHETM1NxMzAzcBVbVGRlWkTcCAAf/DAZYi/VDpW/68AXeIAAABAF8AAAClAtIAAwAAEwcRM6VGRgLSIv1QAAAAAQBaAAAC9gILACcAAAAGByYmIyIHNSMRMxE0NzYzMhcWFREzETQ3NjMyFxYVETMRNCcmJiMCF0wWFkoqVjVGRh4eOkAcE0YeITdAHBNGMhhBJAILKyMkKj4y/gEBQT4lKDElPf7HATk/KCwxJT3+xwFUUjQXGgAAAQBaAAAB2wILABMAABMRMxE0NzYzMhYVETMRNCYjIgc1WkYkHzs3QEZZXlYuAf/+AQE6TyQfR03+yAEbfnJEOAAAAAACADf/9AHtAgsAFQAhAAASBgcGBhUUFhcWFjMyNjc2NTQnJiYjAiY1NDYzMhYVFAYj4VAdHSAgHR1RMDFSHDw8HVExR0tKSEdLTEYCCyQjI2Q+PmQjIiQlIkl8fkciJP4oa2FkaWthYWwAAAACAFr/NQH/AgsAFAAhAAAENjc2NjU0JyYjIgYHNSMRNzUWFjMmJic1NjYzMhYVFAYjAVpOHBwfODliLz8eRkYZQTIvQB0VRSpFTUxGDCQiImU/eUlJHhwu/TYj3B4iPyol+yYpbl5jagAAAAACADf/OAHaAgsAEgAiAAAENjcVNxEjFSYnJiMiBwYVFBYzJiY1NDc2NjMyFhcVBgcGIwE5Ph1GRiYVKCxhNjdyY0NJJhI2ISlGFh4WJisMICD8IAKnLh0KE0lJen+MP2hkWTgcICco+SUQHAABAFoAAAFpAgsAEQAAEzQ3NjYzMhc3JiMiBgc1IxEzoC0SKhMjHwsaJiVJG0ZGASFULRIRE0QVKylI/gEAAAAAAQA6//QBlgILACwAAAAjIgYHBhUUFxYXFhcWFRQGIyImJwcWFjMyNjU0JyYmJyYmJyYmNTQ2MzIXNwFGZSQ9FS8uIUo6HSg4LCVHGTEiXDJQXDUVMyYfJA4REzQtQzcuAgsTESU5OiccHhYVHCsjJygeKygxTEBEKxEYEAwQCwwcEx8kNycAAAEAHv/0AT8C0gAXAAAENzcGBiMiJyY1ETM1IzUHFSMVMxEUFjMBDikIFSEXIQ0JgoJGV1cxNAwXSQ8PGBEoATk/0yOwP/6pNj8AAAABAFX/9AHWAf8AFAAAASMRFAcGIyImNREjERQWMzI2NxUzAdZGJCA7NkBGWWMqOxpGAf/+xk8kH0hMATj+435wGyIxAAEAKAAAAc8B/wAGAAABAwMjEzMTAYmLjki7MbsB//5xAY/+AQH/AAABACgAAAKYAf8ADAAAAQMDIwMDIxMzExMzEwJSXnwwemBGfkB5fD9+Af/+VgGq/lsBpf4BAXf+iQH/AAABACgAAAHOAf8ACwAAAQcnIxcDMzcXMwM3AXZ0flCgrEuEh1CrnQH/w8P5/vrR0QEJ9gAAAQAe/z4B1wH/AAcAABcBIwMDIxMH0gEFS5WSR7tMwgLB/mQBnP4R0gAAAAABAEYAAAGoAf8ACQAAJSEBNSEVMwEVIQGn/voBB/6y8f77AWE/AZYqP/5rKwAAAAABAGEBFQIzAZcAGwAAADc2NSMGBiMiJicmJiMiBwYVMzY2MzIWFxYWMwH2IB0oAishFSwnJTYdPyEcKAIrIRYtKCI3HAEVJyM4HCMPEQ8QKCI4HSIPEA8RAAAAAAMAPP/0AcEC3AADACQAMwAAAQczNxM0JyYjIgYHFzY3NjMyFxYVFSYjIgYHBhUUFjMyNjcVMyQmNTQ3NjMyFhcVBgcGIwFDjkeyEzorRTFfIxQdKiwlMxsiREYlQxk5XlApTSBB/vk9JyE4IEkaHR8oKwLcnJz+fmEuIiEXPBQREhggRSskFBQvUlRZIR0yMTw0NR0aGBJjIxMZAAMAN//0Ad8C3AADACAAKAAAAQczNxI1NTQnJiMiBgcGBhUUFhcWFjMyNjcnBiMiJichJhcWFSE2NjMBN45Hsj08N1cxUh0eIB8dHVMyK1EgJjY9QE4JAVyUIi3+5wVQQQLcnJz+HQcUe0E7JCIiZD82YSUmKiAaLyheUOkhK15VVQAAAAIAGgAAARMC3AADAAcAABMHMzcHIxEzqI5HsnJGRgLcnJzd/gEAAAACAFoAAAHbAswAGAAsAAAANSMGBiMiJicmJiMiFTM2NjMyFhYXFhYzBREzETQ3NjMyFhURMxE0JiMiBzUBzCYCGhMQHR0aKRhdJwIaEw8cGwUbJxj+6kYkHzs3QEZZXlYuAlpuFxgLDwwNbhcXCg0CDA1b/gEBOk8kH0dN/sgBG35yRDgAAAAAAwA3//QB7QLcAAMAGQAlAAABBzM3BgYHBgYVFBYXFhYzMjY3NjU0JyYmIwImNTQ2MzIWFRQGIwE+jkeyyFAdHSAgHR1RMDFSHDw8HVExR0tKSEdLTEYC3Jyc0SQjI2Q+PmQjIiQlIkl8fkciJP4oa2FkaWthYWwAAgBV//QB1gLcAAMAGAAAAQczNxcjERQHBiMiJjURIxEUFjMyNjcVMwE0jkeyN0YkIDs2QEZZYyo7GkYC3Jyc3f7GTyQfSEwBOP7jfnAbIjEAAAAAAQAAAFoAXwAFAAAAAAABAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAgADYAaAC4ASQBfgGMAa4B0AH8AhICMgJAAlYCZAKgArQC7gM8A1gDngPyBAwEcATCBOgFGAVeBeQGBgZABnwGpAa8BtAHDgcmBzQHWAdyB4IHnAe0B/oIJAhyCKAI6Aj6CR4JMglOCWoJgAmYCeAKFAo+CnQKrgrUCxgLOgtWC34LmAumC+IMBAw6DHAMpgzGDQoNMA1SDWYNhA2eDbQNzA36DkgOig6eDuIPHg9IAAAAAQAAAAEZmeZzy1dfDzz1AAMD6AAAAABNss41AAAAANMDW/b/4v8rAz0DFQAAAAcAAgAAAAAAAADmAAAA5gAAAQ4ASAGBADwCrQA5AlAAQQN5ADsCjQAvAM8APAFUAFUBVAA3AhcAOgKUAF8A4gAyAZMAWgDiADIB5gAAAmwARgFOACgCWABHAk4AMgJLAB4CdABGAkoAPAHzACgCVgBGAkoAPADiADIA4gAyAg4ALgMfADIClgA8AoYAaQKEAEYCpgBpAlQAaQI0AGkCrQBGArQAaQEYAGkCDgAeAoMAaQIyAGkDIgBpAsEAaQLQAEYCbgBpAtAARgKSAGkCUgBBAj8APAKoAGQCgAA3AzsANwIyACwCaAAtAn0ARgIHADwCMgBaAeEANwIyADcCEQA3AUoAHgI0ADcCMABaAPwAUAEC/+IB/wBaAQQAXwNLAFoCMABaAiQANwI2AFoCNAA3AYIAWgHPADoBcQAeAjAAVQH3ACgCwAAoAfYAKAH/AB4B8wBGApQAYQIHADwCEQA3APwAGgIwAFoCJAA3AjAAVQABAAADtv8GAAADef/i/+kDPQABAAAAAAAAAAAAAAAAAAAAWgADAhQBkAAFAAgCigJYAAAASwKKAlgAAAFeABQBMgAAAAAFAAAAAAAAAAAAAAEAAAAAAAAAAAAAAABERUxWAEAAIAD6Au7/BgEKA7YA+gAAAAEAAAAAAf8CvAAAACAAAgAAAAMAAAADAAABIgABAAAAAAAcAAMAAQAAASIAAAEGAAAAAAAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAECAwQFBgcICQoLDA0ODxAREhMUFRYXGBkaGxwAAAAdHh8gISIjJCUmJygpKissLS4vMDEyMzQ1Njc4AAAAAAAAOTo7PD0+P0BBQkNERUZHSElKS0xNTk9QUVIAAABTAAAAAAAAAABUAAAAAAAAVQAAAFYAAABXWAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAaAAAABYAEAADAAYAOwBaAHoAfgDhAOkA7QDxAPMA+v//AAAAIAA/AGEAfgDhAOkA7QDxAPMA+v///+H/3v/Y/9X/c/9s/2n/Zv9l/18AAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALAALEAOBQYHDQYJFA4TCxIIERBDsAEVRrAJQ0ZhZEJDRUJDRUJDRUJDRrAMQ0ZhZLASQ2FpQkNGsBBDRmFksBRDYWlCQ7BAUHmxBkBCsQUHQ7BAUHmxB0BCsxAFBRJDsBNDYLAUQ2CwBkNgsAdDYLAgYUJDsBFDUrAHQ7BGUlp5swUFBwdDsEBhQkOwQGFCsRAFQ7ARQ1KwBkOwRlJaebMFBQYGQ7BAYUJDsEBhQrEJBUOwEUNSsBJDsEZSWnmxEhJDsEBhQrEIBUOwEUOwQGFQebIGQAZDYEKzDQ8MCkOwEkOyAQEJQxAUEzpDsAZDsApDEDpDsBRDZbAQQxA6Q7AHQ2WwD0MQOi0AAACxAAAAQrE7AEOwAFB5uP+/QBAAAQAAAwQBAAABAAAEAgIAQ0VCQ2lCQ7AEQ0RDYEJDRUJDsAFDsAJDYWpgQkOwA0NEQ2BCHLEtAEOwAVB5swcFBQBDRUJDsF1QebIJBUBCHLIFCgVDYGlCuP/NswABAABDsAVDRENgQhy4LQAdAAAAAAAAAAASAN4AAQAAAAAAAQAWAAAAAQAAAAAAAgAFABYAAQAAAAAAAwAnABsAAQAAAAAABAAcAEIAAQAAAAAABQAPAF4AAQAAAAAABgAcAG0AAQAAAAAACQAgAIkAAQAAAAAACgA4AKkAAwABBAkAAQA4AOEAAwABBAkAAgAOARkAAwABBAkAAwBOAScAAwABBAkABAA4AXUAAwABBAkABQAeAa0AAwABBAkABgA4AXUAAwABBAkACQBAAcsAAwABBAkACgBwAgsAAwABBAkAEAAsAnsAAwABBAkAEQAKAqdXaXN0aWEtUGxheWVyLU92ZXJwYXNzTGlnaHQxLjEwMDtERUxWO1dpc3RpYS1QbGF5ZXItT3ZlcnBhc3MtTGlnaHRXaXN0aWEtUGxheWVyLU92ZXJwYXNzIExpZ2h0VmVyc2lvbiAxLjAzMTAwV2lzdGlhLVBsYXllci1PdmVycGFzcy1MaWdodERlbHZlIFdpdGhyaW5ndG9uLCBUaG9tYXMgSm9ja2luQ29weXJpZ2h0IChjKSAyMDE0IGJ5IFJlZCBIYXQsIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC4AVwBpAHMAdABpAGEALQBQAGwAYQB5AGUAcgAtAE8AdgBlAHIAcABhAHMAcwAgAEwAaQBnAGgAdABSAGUAZwB1AGwAYQByADEALgAxADAAMAA7AEQARQBMAFYAOwBXAGkAcwB0AGkAYQAtAFAAbABhAHkAZQByAC0ATwB2AGUAcgBwAGEAcwBzAC0ATABpAGcAaAB0AFcAaQBzAHQAaQBhAC0AUABsAGEAeQBlAHIALQBPAHYAZQByAHAAYQBzAHMALQBMAGkAZwBoAHQAVgBlAHIAcwBpAG8AbgAgADEALgAwADMAMQAwADAARABlAGwAdgBlACAAVwBpAHQAaAByAGkAbgBnAHQAbwBuACwAIABUAGgAbwBtAGEAcwAgAEoAbwBjAGsAaQBuAEMAbwBwAHkAcgBpAGcAaAB0ACAAKABjACkAIAAyADAAMQA0ACAAYgB5ACAAUgBlAGQAIABIAGEAdAAsACAASQBuAGMALgAgAEEAbABsACAAcgBpAGcAaAB0AHMAIAByAGUAcwBlAHIAdgBlAGQALgBXAGkAcwB0AGkAYQAtAFAAbABhAHkAZQByAC0ATwB2AGUAcgBwAGEAcwBzAEwAaQBnAGgAdAAAAgAAAAAAAP+FABQAAAAAAAAAAAAAAAAAAAAAAAAAAABaAAAAAwAEAAUABgAHAAgACQAKAAsADAANAA4ADwAQABEAEgATABQAFQAWABcAGAAZABoAGwAcAB0AHgAiACMAJAAlACYAJwAoACkAKgArACwALQAuAC8AMAAxADIAMwA0ADUANgA3ADgAOQA6ADsAPAA9AEQARQBGAEcASABJAEoASwBMAE0ATgBPAFAAUQBSAFMAVABVAFYAVwBYAFkAWgBbAFwAXQBhAGkAcAB0AHgAeQB+AAAAAQADAAcACgATAAf//wAPAAEAAAAKAB4ALgABREZMVAAIAAQAAAAA//8AAQAAAAFrZXJuAAgAAAACAAAAAQACAAYAFgACAAAABQAYChoKfgy2DugAAgAAAAEPCAABELYABAAAAEAAigCgAKYA1ADaAOgBEgEgAaYByAHuAjQCbgK8AtIC4ALuA7QD9gP8BAIEDAS6BNwE4gToBPYFgAWOBbAFygYABgoGTAaGByQHZgd0B3oHlAeiB7QIEggcCCIITAhSCFgIcgiMCJYIvAjmCPAI9gkoCWIJjAm+CcQJygncCeIJ/AAFAB//2AAy/9gANP/YADX/7AA3/9gAAQAo/7AACwAo//YAMf/xADL/nAA0/40ANv/sADf/jQBN/+cATv/OAE//4gBR/84AWf/nAAEAKP+wAAMAH//sACj/2ABCADwACgAf/6YAKP9vADv/zgA8/84APf/OAD//zgBH/84ASf/OAEv/5wBY/84AAwAo/+cANv/iAFD/5wAhAB//sAAo/34AMf/sADIAFAA0AAoANQAKADb/5wA3AAoAOf/EADr/9gA7/84APP/OAD3/zgA//84AQP/2AEH/9gBD//YARP/2AEX/2ABG/9gAR//OAEj/2ABJ/84ASv/YAEv/zgBN/+IAUP/YAFL/zgBU/8QAVv/2AFf/2ABY/84AWf/iAAgAH//iADL/4gA0/84ANf/sADb/4gA3/84AS//sAE//9gAJAB//2AAy//YANP/OADX/7AA2/+IAN//OADj/9gBL/+wAT//2ABEAH/+6ACj/zgAx/+wAMv/JADP/9gA2/84AOP/dADv/3QA8/90APf/dAD//3QBH/90ASf/dAE3/8QBP//YAWP/dAFn/8QAOAAH/2AAH//EACv/sAAv/pgAR/+IAEv/2ABb/9gAX/+wAGP/EABn/9gAa/+IAHv/TACj/9gA2//EAEwAN//YAD//2ABD/4gAR//YAE//sABj/5wAa/+wAHv/2AB//4gAh//YAJf/2ACj/7AAt//YAL//2ADL/2AA0/84ANf/sADb/5wA3/84ABQAQ/+wAHv/2ACj/9gA2//EAUP/sAAMAKP/nADb/4gBQ//YAAwAH//YAHv/iACj/9gAxAAf/zgAN/2oAD/9qABH/2AAT//EAFP/nABX/sAAW//YAF//OABgACgAZ/90AHQAUAB7/4gAf/3QAIf/iACX/4gAo/2AALf/iAC//4gAx/+wAMgAZADT/9gA2/+IAN//2ADj/9gA5/6sAO/+wADz/sAA9/7AAP/+wAEX/ugBG/7oAR/+wAEj/ugBJ/7AASv+6AEv/sABM//YATf+6AE7/zgBP/9gAUP/OAFH/zgBS/9MAVP+rAFX/sABX/7oAWP+wAFn/ugAQABD/5wAU//YAHf/2AB//4gAo//YAMf/2ADL/5wA0/+cANf/2ADb/7AA3/+cAS//7AE7/8QBP//sAUP/2AFH/8QABACj/9gABACj/9gACABD/ugA2//YAKwAH/+IADv/iABH/5wAS//YAFP/2ABX/+wAW//YAF//iABj/7AAZ//EAGv/iAB3/4gAe/9MAH//2ACH/zgAl/84AKP/iAC3/zgAv/84AMf/nADL/4gAz/+cANP/EADX/9gA3/8QAOf/iADv/4gA8/+IAPf/iAD7/7AA//+IAR//iAEn/4gBL//EATP/xAE3/9gBO/9MAT//sAFH/0wBU/+IAVf/sAFj/4gBZ//YACAAB/+wAC/+SABH/9gAY/90AGv/2AB3/2AAe//EAKAAKAAEAKP/2AAEAKP/2AAMAKP/nADb/4gBQ//YAIgAH/84ACv/sAA3/fgAP/34AE//2ABT/7AAV/9gAF//nABn/9gAe//YAH/+mACH/7AAl/+wAKP90AC3/7AAv/+wAMf/xADL/8QA0/+cANv/YADf/5wA4//EAOf/nADv/4gA8/+IAPf/iAD//4gBH/+IASf/iAEv/+wBMAAoAVP/nAFX/4gBY/+IAAwAo/+cANv/iAFD/9gAIAAf/5wAR//YAE//2ABT/7AAV/+wAF//sACj/zgA2/+wABgAQ/+cAGP/2AB3/9gAo//YANv/sAFD/9gANAAH/2AAH/78AEP+SABH/4gAU//EAFf/JABf/zgAZ/+IAHv/OACj/oQA2//EAUP/iAFX/qwACABD/ugA2//YAEAAB/9gAB/+/ABD/gwAR/84AE//sABT/5wAV/7UAFv/2ABf/zgAZ/9gAGv/OAB3/7AAo/5wANv/iAFD/0wBV/8QADgAB/+wAEP+wABH/7AAT//YAFP/sABX/4gAW//YAF//sABn/9gAa//YAHQAPACj/2AA2/+wAUP/sACcAB//YAA7/4gAR/+IAFP/sABX/9gAX/+IAGf/sABr/4gAd/+wAHv/TAB//8QAh/+IAJf/iACj/7AAt/+IAL//iADH/8QAy//EAM//2ADT/4gA1/+wAN//iADn/7AA7/+IAPP/iAD3/4gA+//EAP//iAEf/4gBJ/+IAS//iAEz/9gBN//YATv/iAE//5wBR/+IAVP/sAFj/4gBZ//YAEAAB/9gAB/+/ABD/gwAR/84AE//sABT/5wAV/7UAFv/2ABf/zgAZ/9gAGv/OAB3/7AAo/5wANv/iAFD/0wBV/8QAAwAX//YAGf/2AB7/5wABABj/4gAGAAv/zgAW//YAGP/OABr/9gA2/+IAUP/dAAMAEP/YADb/4gBQ/+cABAAL/84AEP/OADb/4gBQ/+IAFwAKAAoACwAKAA3/7AAP/+wAHQAyADIAMgA0ACgANwAoADgACgA5//sAO//nADz/5wA9/+cAPgAPAD//5wBH/+cASf/nAEwADwBOAA8ATwAoAFEADwBU//sAWP/nAAIAGP/OAEIAGQABABj/4gAKAAf/2AAL/9gAEf/sABT/7AAW/+wAF//sABj/4gAZ/+wAGv/sAB7/3QABABj/4gABABj/4gAGAAv/zgAW//YAGP/OABr/9gA2/+IAUP/dAAYAC//OABb/9gAY/84AGv/2ADb/4gBQ/90AAgAY/84AQgAoAAkAB//OABP/4gAU/+IAGP/iABn/9gAe/+wAKP/OADb/3QBQ//YACgAL/+cAEf/sABP/9gAVAAoAGP/OABr/4gAd//YANv/iAFD/7ABV//YAAgA2//YAVf/2AAEAGP/OAAwAB//nABD/zgAT/+wAFP/sABX/7AAW/+wAGP/YABn/9gAdABQAKP/nADb/4gBV/+wADgAH/+wAEf/2ABP/7AAU/+wAFf/sABb/9gAX//YAGP/YABn/9gAe//YAKP/2ADb/5wBQ//EAVf/2AAoAB//YAAv/2AAR/+wAFP/sABb/7AAX/+wAGP/iABn/7AAa/+wAHv/dAAwAB//nABD/zgAT/+wAFP/sABX/7AAW/+wAGP/YABn/9gAdABQAKP/nADb/4gBV/+wAAQBV//YAAQAY/+IABAAL/84AEP/OADb/4gBQ/+IAAQAY/+IABgAy/6sATv/sAE//9gBQ/90AUf/sAFL/9gABADL/7AACBwYABAAAB7oHxgADAA4AAP/Y//H/tQAKAAAAAAAAAAAAAAAAAAAAAAAAAAD/tf/d/6EACv/Y/8T/7P/i//b/3f/sAAAAAAAA/87/4v+1AAAAAAAA/+cAAAAAAAAAAP/s/+wAAgawAAQAAAfwCCYADAAXAAD/7P/sAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/2P/TAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP/E/9P/2P/T/+z/9v/2//b/9v/2//b/+wAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/0//i/+z/4v/s/+wAAP/2AAAAAAAAAAD/9gAAAAAAAAAAAAAAAAAAAAAAAAAA/+z/pv+1AAAAAP/Y/7r/2P+//6sAAP/iAAD/0//n//v/2P/Y/7//zgAAAAAAAAAA/5f/tf/sAAD/2P/O/9j/tf+1AAD/7P/2/8T/4v/n/+f/tf/E/7X/7AAAAAAAAP/Y/90AAAAA//b/7P/2//b/7AAA//YAAP/s/+wAAAAA//H/9v/iAAAAAAAA/+f/7AAA//b/9v/s//b/9gAA//YAAAAAAAD/9v/7AAAAAAAAAAAAAAAAAAAAAP/sAAAAAAAA//v/5//7//b/+//xAAAAAP/7/+z/9v/2AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//b/9v/2AAD/7AAAAAD/9v/xAAAAAP/7AAAAAAAAAAAAAAAA/9P/5//x/+z/9gAAAAAAAAAA/+cAAAAAAAD/8f/sAAAAAP/2AAD/7AAA//YAAP+cABQACv/O/+z/3QAA//YAAAAAAAoAAAAA/+L/9gAAAAAAAAAA/9gAAP/2AAIEmgAEAAAGjgbOAA0AFQAA/87/9v/J/+z/9gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEYAQQBBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/6v/7P+1/+f/+//2//b/9v/2/93/7P/sAAAAAAAAAAAAAAAAAAAAAAAA/+z/+//nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/9j/9v/YAAAAAP/2AA//7P/d/8T/9gAA//EABf/s/+cAAAAAAAAAAAAA/87/7P/T/+z/8f/2//b/7AAAAAAAAAAA//b/8f/n/+L/8f/nAAAAAAAA/6v/7P+//+z/9v/2//b/9gAAAAAAAP/2AAAAAP/2AAD/9v/xAAAAAAAA/+L/9v/sAAAAAP/7AAD/9gAAAAAAAAAAAAAAAAAA/+wAAP/sAAAAAAAA/7r/7P/E/+z/9v/x//YAAP/2AAD/9v/xAAAAAP/2//b/9gAAAAAAAAAA/7oAAP+6AAD/9v/7//b/9gAAAAD/9v/2AAAAAAAAAAAAAAAAAAAAAAAA/9j/9v/YAAAAAP/2AAD/9v/s/+L/9gAA//YAAP/2//sAAAAAAAAAAAAAAAAAAP/sAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP/2//YAAP/sAAAAAAAA/+IAAP/OAAAAAP/sAA//9v/O/8T/4v/2AAAAD//n/+L/9v/s//v/+wACApAABAAABTwFQAABABAAAP/T/6b/9v/Y/5f/8f/d/+L/9v/s//b/+//2//b/7AABArIABAAAAAgAGgBMAGIAjAC6AOgBGgGIAAwAFf/sAB//4gA0/84ANf/sADb/4gA3/84AOP/iADn/4gBL/+wATv/sAFH/7ABU/+IABQAV//YANP/sADX/9gA2//YAN//sAAoAGP/2ABr/8QAf//YANP/iADX/7AA2/+cAN//iADj/9gBO//YAUf/2AAsAGP/2ABr/8QAy/+IANP/OADX/5wA2/+wAN//OAEv/9gBO/+wAT//2AFH/7AALABP/+wAY//YAGv/2AB//7AA0/+wANv/2ADf/7AA4//YATv/sAE//9gBR/+wADAAY/+wAGv/dAB//7AAy/9gANP/OADX/7AA2/+IAN//OADj/9gBO/+wAT//2AFH/7AAbABX/ugAX/+IAGAAjAB//xAAx//YANf/7ADb/9gA5/+IAO//OADz/zgA9/84AP//OAEX/7ABG/+wAR//OAEj/7ABJ/84ASv/sAEv/4gBN/90ATv/sAE//7ABR/+wAVP/iAFf/7ABY/84AWf/dAAsAGP/2AB//9gAy/+IANP/YADX/9gA2/+wAN//YADj/9gBO//YAT//2AFH/9gACAA0AAQABAAAAAwADAAEABwAJAAIACwALAAUADgAOAAYAEAARAAcAGgAaAAkAHgA7AAoAPQBAACgAQwBDACwARQBSAC0AVABVADsAVwBZAD0AAQAFAA0ADgAPABsAHAACAAUAIQAjAAAAJgAoAAMAKgAtAAYALwA1AAoANwA4ABEAAgAGADkAOwAAAD0APQADAD8AQAAEAEMAQwAGAEUAUgAHAFQAVwAVAAIADQABAAwAAAAQABoADAAdACAAFwAkACUAGwApACkAHQAuAC4AHgA2ADYAHwA8ADwAIAA+AD4AIQBBAEIAIgBEAEQAJABTAFMAJQBYAFkAJgACAAEAEgAZAAAAAQANAAMAAQACAAEAAgAXAA0ADQALAA8ADwALACEAIQAFACUAJQAFAC0ALQAFAC8ALwAFADEAMQAHADIAMgABADQANAADADUANQACADcANwADADsAPQAKAD4APgAJAD8APwAKAEIAQgAEAEcARwAKAEkASQAKAEwATAAMAE4ATgAGAE8ATwAIAFEAUQAGAFIAUgANAFgAWAAKAAEAIQAYAAcAAgAIAAAAAAAAAAAAAQAAAAsAAAAAAAIAAAACAAoAAwAEAAEABQAGAAAABQAJAAEADQBNAAMAFAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASABIAAAAAAAIAFQAOABUAFQAVAA4AFQAVAAAAFQAVABUAFQAOABUADgAVAA8ABAAWAAEABQAAAAEACwAJAAAACgAKAAoAEAAKAAAAAAAAAAAAAAATABMACgATAAoAEwAHAA0AEQAGAAgAAAAGAAwAAAAJAAAAAAATAAoAEQABADoAHQACAAYAAAAJAAAAAwAAAAAAAAAFAAAAAAAAAAIAAgADAAwACAALAAMABAAKAAUABAAHAAAAAAAJAAEAAQANAE0ACgASAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACQAAAAYAAAAAAAAABgAAAAAAAAAAAAAAAAAAAAYAAAAGAAAADQABAAAAAwACAAAAAwALAA8AFAAQABAAEAAOABAAFAAUAAAAFAAUABMAEwAQABMAEAATAAgABwARAAQABQAAAAQADAAAAA8AAAAUABMAEAARAAIAAAABACAAOgAPAAEADwAPAA8AAQAPAA8AAAAPAA8ADwAPAAEADwABAA8ACAACAAMABQAEAAAABQAAAAwAAAANAA0ADQALAA0AAAAAAAAAAAAAAAAAAAANAAAADQAAAAkABgAOAAcACgAAAAcAAAAAAAwAAAAAAAAADQAOAAAAAQAAAAAAAAAAAAAAAAABAAAAAA=="}}}(Wistia)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=i(15),o=i(10),s=(n(o),i(9)),a=n(s),u=i(31),l=n(u),c=(0,r.cachedDetect)(),d=function(e){var t=l.default.filter(e,{container:c.video.webm?/webm|mp4/:"mp4",sortBy:"width asc, bitrate desc",public:!0,status:l.default.READY});return t=a.default.filter(t,function(t){return"webm"===t.container||0===a.default.filter(e,function(e){return"webm"===e.container&&e.width===t.width}).length})};e.exports={selectableAssets:d}},function(e,t){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}function n(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}function r(e,t,r,o){switch(void 0===e?"undefined":n(e)){case"object":return"function"==typeof e[o]?e[o].apply(e,i(r)):e[o];case"function":return e(t);default:return e}}function o(){function e(){T.forEach(function(e,t){var i=e.started,o=e.startedTime,a=e.action,l=e.prevState,c=e.error,h=e.took,p=e.nextState,m=T[t+1];m&&(p=m.prevState,h=m.started-i);var _=A(a),y="function"==typeof d?d(function(){return p},a):d,v=u(o),b=C.title?"color: "+C.title(_)+";":null,w="action "+(g?v:"")+" "+_.type+" "+(f?"(in "+h.toFixed(2)+" ms)":"");try{y?C.title?s.groupCollapsed("%c "+w,b):s.groupCollapsed(w):C.title?s.group("%c "+w,b):s.group(w)}catch(e){s.log(w)}var E=r(n,_,[l],"prevState"),k=r(n,_,[_],"action"),x=r(n,_,[c,l],"error"),S=r(n,_,[p],"nextState");E&&(C.prevState?s[E]("%c prev state","color: "+C.prevState(l)+"; font-weight: bold",l):s[E]("prev state",l)),k&&(C.action?s[k]("%c action","color: "+C.action(_)+"; font-weight: bold",_):s[k]("action",_)),c&&x&&(C.error?s[x]("%c error","color: "+C.error(c,l)+"; font-weight: bold",c):s[x]("error",c)),S&&(C.nextState?s[S]("%c next state","color: "+C.nextState(p)+"; font-weight: bold",p):s[S]("next state",p));try{s.groupEnd()}catch(e){s.log(" log end ")}}),T.length=0}var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],i=t.level,n=void 0===i?"log":i,o=t.logger,s=void 0===o?console:o,a=t.logErrors,c=void 0===a||a,d=t.collapsed,h=t.predicate,p=t.duration,f=void 0!==p&&p,m=t.timestamp,g=void 0===m||m,_=t.transformer,y=t.stateTransformer,v=void 0===y?function(e){return e}:y,b=t.actionTransformer,A=void 0===b?function(e){return e}:b,w=t.errorTransformer,E=void 0===w?function(e){return e}:w,k=t.colors,C=void 0===k?{title:function(){return"#000000"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}}:k;if(void 0===s)return function(){return function(e){return function(t){return e(t)}}};_&&console.error("Option 'transformer' is deprecated, use stateTransformer instead");var T=[];return function(t){var i=t.getState;return function(t){return function(n){if("function"==typeof h&&!h(i,n))return t(n);var r={};T.push(r),r.started=l.now(),r.startedTime=new Date,r.prevState=v(i()),r.action=n;var o=void 0;if(c)try{o=t(n)}catch(e){r.error=E(e)}else o=t(n);if(r.took=l.now()-r.started,r.nextState=v(i()),e(),r.error)throw r.error;return o}}}}var s=function(e,t){return new Array(t+1).join(e)},a=function(e,t){return s("0",t-e.toString().length)+e},u=function(e){return"@ "+a(e.getHours(),2)+":"+a(e.getMinutes(),2)+":"+a(e.getSeconds(),2)+"."+a(e.getMilliseconds(),3)},l="undefined"!=typeof performance&&"function"==typeof performance.now?performance:Date;e.exports=o},function(e,t){"use strict";function i(e){if(!Array.isArray(e))throw new Error("Expecting types to be an array of constants");var t={};return e.forEach(function(e){t[e]={request:e+"_REQUEST",done:e+"_DONE",fail:e+"_FAIL"}}),t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i},,function(e,t,i){var n=i(491),r=i(178),o=n?function(e){return n.get(e)}:r;e.exports=o},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=i(9),a=n(s),u=i(221),l=n(u),c=i(318),d=n(c),h=i(31),p=n(h),f=i(33),m=n(f),g=l.default.delegatePublicMethods,_=l.default.mediaDataWithAssets,y=function(){function e(t,i){var n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];r(this,e),this.uuid=(0,m.default)("wistia_manual_quality_video_"),this.root=t,this.mediaData=i,this.allAssets=i.assets,this.attributes=n,this.simpleVideo=new l.default(this.root,this.mediaDataForSimpleVideo(),this.attributes)}return o(e,[{key:"mediaDataForSimpleVideo",value:function(){return _(this.mediaData,this.assetsForSimpleVideo())}},{key:"defaultAsset",value:function(){return d.default.bestAsset(this)}},{key:"selectableAssets",value:function(){return d.default.selectable(this)}},{key:"assetsForSimpleVideo",value:function(){var e=this.selectableAssets();return e=p.default.moveToFront(e,this.defaultAsset())}},{key:"changeVideo",value:function(e,t){return this.mediaData=e,this.allAssets=e.assets,this.attributes=t,d.default.uncache(this),this.simpleVideo.changeVideo(this.mediaDataForSimpleVideo(),t)}},{key:"setAttributes",value:function(e){a.default.assign(this.attributes,e),this.simpleVideo.setAttributes(e)}}]),e}();g(y.prototype,function(){return this.simpleVideo}),e.exports=y},,function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={setIsMenuOpen:"BRANDING__SET_IS_MENU_OPEN"}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={setMultipleProperties:"SHARE__SET_MULTIPLE_PROPERTIES",setVisibility:"SHARE__SET_VISIBILITY",setIsMenuOpen:"SHARE__SET_IS_MENU_OPEN",setIsEmbedCodeCopierOpen:"SHARE__SET_IS_EMBED_CODE_COPIER_OPEN",setActiveChannels:"SHARE__SET_ACTIVE_CHANNELS",setPageTitle:"SHARE__SET_PAGE_TITLE",setPageUrl:"SHARE__SET_PAGE_URL",setVideoName:"SHARE__SET_VIDEO_NAME",setIgnoreQueryParams:"SHARE__SET_IGNORE_QUERY_PARAMS",setTweetText:"SHARE__SET_TWEET_TEXT",setDownloadType:"SHARE__SET_DOWNLOAD_TYPE",setAsset:"SHARE__SET_ASSET",setConversionOpportunityKey:"SHARE__SET_CONVERSION_OPPORTUNITY_KEY",setConversionOpportunity:"SHARE__SET_CONVERSION_OPPORTUNITY",setCurrentTime:"SHARE__SET_CURRENT_TIME"}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={setMessage:"STATUSBAR__SET_MESSAGE",setVisibility:"STATUSBAR__SET_VISIBILITY"}},,,,function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=i(238),o=i(9),s=n(o),a=i(31),u=n(a),l=i(4),c=i(305),d=l.wlog.getPrefixedFunctions("asset_selection"),h=(0,r.makeCacheable)("asset_selection"),p=function(e){return(0,c.selectableAssets)(e.allAssets)},f=function(e){var t=e.attributes;if(d.info("bestAsset"),N(e))return m(e);if("sd-only"===t.videoQuality)return d.info("videoQuality=sd-only"),E(e);if("hd-only"===t.videoQuality)return d.info("videoQuality=hd-only"),b(e);if("md"===t.videoQuality)return d.info("videoQuality=md"),A(e);if(v(t.videoQuality)){var i=F(e);if(i)return d.info("targetAsset",t.videoQuality),i}return e.isInFullscreen()?(d.info("infullscreen"),g(e)):(d.info("default"),B(e)||E(e))},m=function(e){var t=e.attributes;if("low-fps"===t.videoQuality)return d.info("videoQuality=low-fps"),w(e);if(v(t.videoQuality)){var i=F(e);if(i)return d.info("targetAsset",t.videoQuality),i}return k(e)},g=function(e){return e.attributes.supportsHd?(d.info("supportsHd=true"),_(e)):(d.info("supportsHd=false"),y(e))},_=function(e){return D(e)||B(e)||M(e)||I(e)},y=function(e){return B(e)||E(e)},v=function(e){return/width:/.test(e)},b=function(e){return D(e)||M(e)||I(e)},A=function(e){return M(e)||I(e)},w=function(e){return j(e)||I(e)},E=function(e){return h(e,"md_or_sd",function(){var t=e.attributes;return"sd-only"===t.videoQuality?I(e):"md"===t.videoQuality||e.attributes.width>=720?M(e)||I(e):I(e)})},k=function(e){return h(e,"screencast",function(){return u.default.playable(e.allAssets,{bitrate:[0,1300],sortBy:"width desc, bitrate asc",width:[0,R(e).width]})})},C=function(e){var t=e.attributes;return{qualityMin:t.qualityMin,qualityMax:t.qualityMax}},T=function(e,t){return u.default.playable(e.allAssets,t)},x=function(e,t){return u.default.iphone(e.allAssets,t)},S=function(e){return u.default.iphone(e.allAssets,C(e))},O=function(e){return u.default.mp4(e.allAssets,C(e))},P=function(e,t){return T(e,s.default.assign(C(e),t))},I=function(e){return h(e,"sd_asset",function(){return S(e)||O(e)||x(e)||T(e)})},M=function(e){return h(e,"md_asset",function(){return P(e,{width:[720,980],sortBy:"width desc, bitrate desc"})})},D=function(e){return h(e,"hd_asset",function(){return P(e,{width:[980,e.attributes.maxHdWidth||2e3],sortBy:"width desc, bitrate desc"})})},R=function(e){return h(e,"original",function(){return u.default.original(e.allAssets)})},B=function(e){var t=e.attributes;return null!=t.savedBandwidth?P(e,{bitrate:[0,t.savedBandwidth],width:[0,t.maxHdWidth||2e3],sortBy:"width desc, bitrate desc"})||E(e):null},L=function(e){if(!v(e))return{};var t=e.match(/width:([a-z]*)(\d+)/i),i=t[1],n=t[2];return/^\d+$/.test(n)?(n=parseInt(n,10),""===i&&(i="lte"),{op:i,val:n}):{}},F=function(e){var t=L(e.attributes.videoQuality),i=t.op,n=t.val;return"lte"===i?T(e,{width:[0,n],sortBy:"width desc"})||T(e,{width:[n,1e4],sortBy:"width asc"}):"gte"===i?T(e,{width:[n,1e4],sortBy:"width asc"})||T(e,{width:[0,n],sortBy:"width desc"}):null},j=function(e){return h(e,"low_fps_asset",function(){return u.default.mp4(e.allAssets,{public:!1})})},N=function(e){return h(e,"is_screencast",function(){return u.default.isScreencast(e.allAssets)&&!!k(e)})},H=function(e){(0,r.uncacheNamespace)("asset_selection",e)};e.exports={bestAsset:f,selectable:p,uncache:H}},function(e,t,i){"use strict";var n=i(116),r=function(e){return e&&e.__esModule?e:{default:e}}(n),o=function(e){var t=e.video;return t.buffered.length>0&&t.buffered.end(0)>0},s=function(e){for(var t=e.video,i=t.currentTime,n=0;n<t.buffered.length;n++){var r=t.buffered.start(n),o=t.buffered.end(n);if(i>=r&&o>i)return[r,o]}return null},a=function(e){return r.default.sumTimeRanges(e.video.buffered)},u=function(e){var t=e.video,i=t.buffered,n=null;try{for(var r=0;r<i.length;r++){var o=i.start(r)-.5,s=i.end(r)+.5
;if(o<=t.currentTime&&t.currentTime<s){n=r;break}}if(null!=n){for(var a=n,r=n;r<i.length;r++){var u=i.start(r)-.5;if(!(i.end(a)+.5>=u))break;a=r}var o=i.start(n),s=i.end(a);return[o,s]}return null}catch(e){return logger.error(e),null}},l=function(e,t,i){var n=e.video;if(n){var o,s=n.buffered,a=[];for(o=0;o<s.length;o++)a.push({start:s.start(o),end:s.end(o)});return r.default.bufferedInfo(a,t,i)}return{len:0,start:0,end:0,nextStart:void 0}},c=function(e,t){return l(e,e.getCurrentTime(),t).end},d=function(e,t){return c(e,t)-e.getCurrentTime()};e.exports={anyBuffered:o,activeBufferRange:s,totalBuffered:a,sequentialBufferedRange:u,bufferInfo:l,lastBufferedTime:c,timeBeforeEndOfBuffer:d}},function(e,t,i){"use strict";var n=i(9),r=function(e){return e&&e.__esModule?e:{default:e}}(n),o=i(14),s=i(119),a=function(e){var t=e.attributes;return(null!=t.eventLoopDuration?t.eventLoopDuration:300)/e.getPlaybackRate()},u=function(e){var t=e.video;null==e.state&&(e.state={}),"playing"===e.getPlaybackMode()&&(e.state.hasPlayed=!0),(0,o.elemBind)(t,"playing",function(){e.state.hasPlayed=!0}),(0,o.elemBind)(t,"waiting",function(){e.state.gotWaiting=!0}),r.default.assign(e.state,{lastPlaybackMode:e.getPlaybackMode(),lastTimePosition:e.getCurrentTime(),lastEventLoopDuration:a(e)});var i=e.uuid+".custom_state_and_events";s.globalEventLoop.add(i,a(e),function(){r.default.assign(e.state,{lastTimePosition:e.getCurrentTime(),lastPlaybackMode:e.getPlaybackMode(),lastEventLoopDuration:a(e)}),s.globalEventLoop.interval(i,a(e))})},l=function(e){var t=e.uuid+".custom_state_and_events";s.globalEventLoop.remove(t)};e.exports={setup:u,teardown:l}},function(e,t){"use strict";var i=function(e){try{return e()}catch(e){return"ERROR: "+e.message}},n=function(e){var t={};return t.state=e.state,t.attributes=e.attributes,t.currentAsset=e.currentAsset(),t.currentAsset.url&&t.currentAsset.url.length>100&&(t.currentAsset.url=t.currentAsset.url.substring(0,97)+"..."),t.selectedAsset=e.selectedAsset(),t.selectedAsset.url&&t.selectedAsset.url.length>100&&(t.selectedAsset.url=t.selectedAsset.url.substring(0,97)+"..."),t.getState=i(function(){return e.getState()}),t.getDuration=i(function(){return e.getDuration()}),t.getPlaybackRate=i(function(){return e.getPlaybackRate()}),t.getPlaybackMode=i(function(){return e.getPlaybackMode()}),t.isSeeking=i(function(){return e.isSeeking()}),t.getCurrentTime=i(function(){return e.getCurrentTime()}),t.activeBufferRange=i(function(){return e.activeBufferRange()}),t.sequentialBufferedRange=i(function(){return e.sequentialBufferedRange()}),t.getVolume=i(function(){return e.getVolume()}),t.timeBeforeEndOfBuffer=i(function(){return e.timeBeforeEndOfBuffer()}),t.lastBufferedTime=i(function(){return e.lastBufferedTime()}),t.totalBuffered=i(function(){return e.totalBuffered()}),t.anyBuffered=i(function(){return e.anyBuffered()}),t.getPreload=i(function(){return e.getPreload()}),t.rawVideoProps=i(function(){return o(e)}),t},r=["autoplay","controls","crossOrigin","currentSrc","currentTime","defaultMuted","defaultPlaybackRate","duration","ended","error","loop","muted","networkState","paused","playbackRate","preload","readyState","seeking","src","startDate","volume"],o=function(e){for(var t=e.video,i={},n=0;n<r.length;n++){var o=r[n],s=t[o];i[o]=s}return i};e.exports={getDiagnosticData:n}},function(e,t,i){"use strict";var n=i(14),r=i(31),o=function(e){return e&&e.__esModule?e:{default:e}}(r),s=i(15),a=(0,s.cachedDetect)(),u=function(e,t){return e.setAttributes({width:t}),c(e)},l=function(e,t){return e.setAttributes({height:t}),c(e)},c=function(e){var t=e.attributes.fitStrategy;return"contain"===t?h(e):"cover"===t?d(e):"fill"===t?p(e):h(e)},d=function(e){var t=e.video,i=(e.attributes,o.default.videoAspect(e.allAssets)),r=(0,n.elemWidth)(e.root),s=(0,n.elemHeight)(e.root),u=r/s;a.trident||a.edge||a.browser.msie?i>=u?(0,n.elemStyle)(t,{height:"100%",left:"50%",objectFit:"contain",position:"relative",top:"50%",transform:"translate(-50%,-50%)",width:"1920px"}):(0,n.elemStyle)(t,{height:"1088px",left:"50%",objectFit:"contain",position:"relative",top:"50%",transform:"translate(-50%,-50%)",width:"100%"}):(0,n.elemStyle)(t,{objectFit:"cover"})},h=function(e){var t=e.video;(0,n.elemStyle)(t,{objectFit:"contain",height:"100%",width:"100%"})},p=function(e){var t=e.video;(0,n.elemStyle)(t,{objectFit:"fill",height:"100%",width:"100%"})};e.exports={onWidthChange:u,onHeightChange:l,fit:c}},function(e,t,i){"use strict";var n=i(105),r=function(e){return e&&e.__esModule?e:{default:e}}(n),o=i(4),s=i(14),a=i(55),u=o.wlog.getPrefixedFunctions("SimpleVideo"),l=function(e){var t=e.video;return null==e.state&&(e.state={}),e.state.onReadyPromise?e.state.onReadyPromise:e.state.onReadyPromise=new r.default(function(i){if(e.state.hasBeenReady)i();else{if(t.readyState>=2)(0,a.doTimeout)(e.uuid+".ready_later",function(){u.info("ready readyState",t.src,t.readyState),e.state.hasBeenReady=!0,i()});else{var n=function(){(0,a.doTimeout)(e.uuid+".loadstart",function(){u.info("ready loadstart"),e.state.hasBeenReady=!0,i()})};(0,s.elemBind)(t,"loadstart",n)}(0,a.doTimeout)(e.uuid+".ready_fallback",function(){e.state.hasBeenReady||(u.info("ready fallback"),e.state.hasBeenReady=!0,i())},200)}})};e.exports={onReady:l}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=i(105),o=n(r),s=i(9),a=i(14),u=i(4),l=i(227),c=n(l),d=i(117),h=n(d),p=u.wlog.getPrefixedFunctions("SimpleVideo"),f=function(e,t){return h.default.isStartDefined(e)?m(e,t+e.attributes.trimStart):m(e,t)},m=function(e,t){return p.info("seek",t),e.getPlaybackMode()===c.default.BEFORE_PLAY?g(e,t):_(e,t)},g=function(e,t){var i=e.video;return p.info("seekBeforePlay",t),new o.default(function(n){p.info("time "+t+": seek beforeplay");var r="playing"===e.getPlaybackMode(),o=i.volume,u=function(){p.info("time "+t+": jump to time after playing"),i.currentTime=t,r?p.info("time: "+t+": play after seek"):(p.info("time: "+t+": pause after seek"),i.pause()),i.volume=o,(0,s.assign)(e.state,{seeking:!1,volumeBeforeSuppressed:null}),v(e).then(function(){i.style.visibility="visible",n()})};i.style.visibility="hidden",(0,s.assign)(e.state,{seeking:!0,volumeBeforeSuppressed:o}),i.volume=0,p.info("time "+t+": start stream by calling play"),e.trigger("beforeplay"),i.play(),"playing"===e.getPlaybackMode()?u():(0,a.elemBind)(i,"playing",function(){return u(),a.elemUnbind})})},_=function(e,t){return p.info("seekNow",t),new o.default(function(i){p.info("seekNow: start",t),e.video.currentTime=t,v(e).then(function(){p.info("seekNow: resolve",t),i()})})},y=function(e,t){return new o.default(function(i){"playing"===e.getPlaybackMode()?_(e,t).then(i):(0,a.elemBind)(e.video,"playing",function(){return _(e,t).then(i),a.elemUnbind})})},v=function(e){var t=e.video;return new o.default(function(e){t.seeking?(p.info("waiting for seek"),(0,a.elemBind)(t,"seeked",function(){return p.info("seeked"),e(),a.elemUnbind})):(p.info("no wait for seek"),e())})},b=function(e){return!!e.state.seeking};e.exports={seek:f,seekOnPlay:y,isSeeking:b}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=i(105),o=n(r),s=i(14),a=i(4),u=i(182),l=i(117),c=n(l),d=i(15),h=a.wlog.getPrefixedFunctions("SimpleVideo"),p=(0,d.cachedDetect)(),f=function(e){return e.state.fakeEnded?e.seek(0).then(function(){return m(e)}):c.default.isBeforeStart(e)?e.seek(0).then(function(){return m(e)}):m(e)},m=function(e){var t=e.video;return new o.default(function(i){var n=e.getPlaybackMode();h.info("play: start",t.playing),"playing"===n?(h.info("play: already playing, resolve"),i()):(e.trigger("beforeplay"),"ended"===n&&p.ios.version>0&&t.load(),t.play(),(0,s.elemBind)(t,"playing",function(){return h.info("play: got playing, resolve"),i(),s.elemUnbind}))})},g=function(e){return!(p.ios.version>0||p.android)||((0,s.inUserEventContext)()||(0,u.isInVideoEventContext)(e))},_=function(e){var t=e.video;return h.info("pause"),new o.default(function(e){h.info("pause: start"),t.pause(),(0,s.safeRequestAnimationFrame)(function(){h.info("pause: resolve"),e()})})},y=function(e,t){return c.default.isStartDefined(e)?v(e,t+e.attributes.trimStart):v(e,t)},v=function(e,t){h.info("setCurrentTime",t),e.video.currentTime=t},b=function(e){return c.default.isStartDefined(e)?Math.max(0,e.video.currentTime-e.attributes.trimStart):e.video.currentTime},A=function(e){return{playbackMode:e.getPlaybackMode(),currentTime:e.getCurrentTime(),volume:e.getVolume(),playbackRate:e.getPlaybackRate()}},w=function(e,t){h.info("setVolume",t);var i=e.video;i.volume=t,0===t?i.setAttribute("muted","muted"):i.removeAttribute("muted")},E=function(e){return e.isSeeking()?e.state.volumeBeforeSuppressed:e.video.volume},k=function(e){return null!=e.video.playbackRate},C=function(e,t){h.info("setPlaybackRate",t),k(e)?e.video.playbackRate=t:h.info("playbackRate is supported on",e.video)},T=function(e){return k(e)?e.video.playbackRate:1},x=function(e){return c.default.isStartDefined(e)&&c.default.isEndDefined(e)?Math.max(0,e.attributes.trimEnd-e.attributes.trimStart):c.default.isStartDefined(e)?S(e)-e.attributes.trimStart:c.default.isEndDefined(e)?e.attributes.trimEnd:S(e)},S=function(e){var t=e.attributes;return null!=t.duration?t.duration:e.video.readyState>=2?e.video.duration:void 0},O=function(e,t){return t.target==e.video},P=function(e){return e.video.getAttribute("preload")},I=function(e){e.state.isInFullscreen=!0,e.video.style.backgroundColor="#000"},M=function(e){e.state.isInFullscreen=!1,e.video.style.backgroundColor="transparent"},D=function(e){return!!e.state.isInFullscreen},R=function(e){},B=function(e){},L=function(e){return e.video};e.exports={play:f,canPlay:g,pause:_,setCurrentTime:y,getCurrentTime:b,getState:A,setVolume:w,getVolume:E,setPlaybackRate:C,getPlaybackRate:T,getDuration:x,isSourceOfBrowserEvent:O,getPreload:P,onEnterFullscreen:I,onLeaveFullscreen:M,isInFullscreen:D,onWidthChange:R,onHeightChange:B,videoElem:L}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=i(105),o=n(r),s=i(4),a=i(116),u=n(a),l=i(226),c=n(l),d=i(14),h=s.wlog.getPrefixedFunctions("SimpleVideo"),p=function(e){for(var t=e.video,i=[],n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];1===r.nodeType&&"source"===r.tagName.toLowerCase()&&i.push(r)}return i},f=function(e){try{var t=e.video;t.src=u.default.srcProtocolAndHost(t.getAttribute("src"))+"/tiny.mp4",t.load()}catch(e){h.warn(e)}},m=function(e,t){h.info("changeStreamWithoutLoad",t&&t.slug,t);var i=e.video;if((0,d.elemInDom)(i)){var n=u.default.properAssetUrl(t.url,t.container);e.state={},e._currentAsset=t,i.src=n;var r=p(e);r.length>0&&(r[0].src=n),e.trigger("stream-changed",e._currentAsset)}},g=function(e,t){var i=arguments.length<=2||void 0===arguments[2]||arguments[2],n=!(arguments.length<=3||void 0===arguments[3])&&arguments[3];h.info("changeStream",i,n,t&&t.slug,t);var r=e.video;return e.asset=t,new o.default(function(o){var s=u.default.properAssetUrl(t.url,t.container);if(!n&&s===r.getAttribute("src"))return void o();var a=e.getState();e.state.seeking=!0,(0,d.elemBind)(r,"loadstart",function(){return n?(r.style.visibility="visible",e.state.seeking=!1,o()):a.currentTime>2?e.seek(a.currentTime).then(function(){"playing"===a.playbackMode?e.play().then(function(){e.state.seeking=!1,r.style.visibility="visible",o()}):e.pause().then(function(){r.style.visibility="visible",e.state.seeking=!1,o()})}):("playing"===a.playbackMode&&e.play(),r.style.visibility="visible",e.state.seeking=!1,o()),e.setPlaybackRate(a.playbackRate),d.elemUnbind}),r.style.visibility="hidden",m(e,t),"beforeplay"===a.playbackMode||i||e.play()})},_=function(e){return!!e.state.isChangingVideo},y=function(e,t,i){return e.state.isChangingVideo=!0,e.destroy(),c.default.setupProperties(e,t,i),c.default.setupBindingsAndLoops(e,e.allAssets,i),new o.default(function(t){g(e,e.defaultAsset()).then(function(){e.state.isChangingVideo=!1,t()})})};e.exports={stopStreaming:f,changeStreamWithoutLoad:m,changeStream:g,changeVideo:y,isChangingVideo:_}},function(e,t,i){"use strict";var n=i(9),r=function(e){return e&&e.__esModule?e:{default:e}}(n),o=i(14),s=i(119),a=function(e){var t=e.attributes;return(null!=t.eventLoopDuration?t.eventLoopDuration:300)/e.getPlaybackRate()},u=function(e){null==e.state&&(e.state={}),e.state.waiting=-1;var t=e.uuid+".waiting_events";s.globalEventLoop.add(t,a(e),function(){c(e),s.globalEventLoop.interval(t,a(e))})},l=function(e){var t=e.uuid+".waiting_events";s.globalEventLoop.remove(t)},c=function(e){var t=e.video,i=e.state,n=i.lastPlaybackMode,s=i.gotWaiting&&"beforeplay"===e.getPlaybackMode()||"playing"===e.getPlaybackMode(),u="playing"===n||"beforeplay"===n,l=i.lastEventLoopDuration||a(e);if(s&&u)if(e.getCurrentTime()===i.lastTimePosition){var c=i.startedWaitingAt;c?(i.waiting=((new Date).getTime()-c)/1e3,e.trigger("custom-waiting",i.waiting)):(r.default.assign(i,{startedWaitingAt:(new Date).getTime()-l,waiting:l/1e3}),e.trigger("custom-waiting",l/1e3),(0,o.elemBind)(t,"timeupdate",function(){return d(e),o.elemUnbind}))}else d(e);else d(e)},d=function(e){var t=e.state.waiting;r.default.assign(e.state,{waiting:-1,startedWaitingAt:null}),null!=t&&t>=0&&e.trigger("custom-done-waiting",t)};e.exports={maybeTriggerWaiting:c,setup:u,teardown:l}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e.branding},n={getIsMenuOpen:function(e){return i(e).isMenuOpen},getIsVisible:function(e){return i(e).isVisible}};t.default=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e.captions},n={getBranch:function(e){return i(e)},getIsMenuOpen:function(e){return i(e).isMenuOpen},getCaptions:function(e){return i(e).captions},getCurrentLanguage:function(e){return i(e).currentLanguage},getCurrentLanguageCaption:function(e){var t=i(e).currentLanguage;return i(e).captions[t]}};t.default=n},function(e,t,i){!function(e){var t,n,r,o,s;if(!e.Metrics)i(25).metricsHost,r=i(239),n=r.msend,s=r.send,t=r.count,o=r.sample,e.Metrics={count:t,sample:o,send:s,msend:n,videoCount:function(e,t,i,n){return null==i&&(i=1),this.videoSend(e,"count",t,i,n)},videoSample:function(e,t,i,n){return this.videoSend(e,"sample",t,i,n)},videoSend:function(t,i,n,r,o){return null==o&&(o={}),"function"==typeof t.hasData?t.hasData(function(s){return function(){var a,u,l,c,d,h,p,f,m,g,_,y,v,b,A;return a=("function"==typeof t.bandwidthTest?t.bandwidthTest().savedResult():void 0)||{},o=e.obj.merge({location:("undefined"!=typeof location&&null!==location&&null!=(l=location.protocol)?l.length:void 0)&&("undefined"!=typeof location&&null!==location&&null!=(f=location.hostname)?f.length:void 0)?location.protocol+"//"+location.hostname:null,agent:navigator.userAgent,account_key:null!=(m=t._mediaData)?m.accountKey:void 0,at:t.time(),video_id:t.hashedId(),embed_type:t.playerType,duration:t.duration(),client_kbps:a.clientKbps,supports_hd:a.supportsHd,autoplay:!!(null!=(g=t._opts)?g.autoPlay:void 0),in_iframe:top!==self,device_pixel_ratio:window.devicePixelRatio,window_width:e.elem.width(window),window_height:e.elem.height(window),video_width:t.videoWidth(),video_height:t.videoHeight(),visitor_key:null!=(_=t._tracker)?_.visitorKey():void 0,event_key:null!=(y=t._tracker)?y.eventKey():void 0,event_time_delta:null!=(v=t._tracker)?v.timeDelta():void 0,connection_type:s.connectionType(),version:9,channel:e.channelName},o),/romulus|html5|vulcan/.test(t.playerType)&&(e.detect.trident?o.errorState=null!=(b=t.elem())&&null!=(A=b.error)?A.code:void 0:o.errorState=null!=(c=t.elem())?c.error:void 0),null!=t._cacheStatus&&(o.cache_status=t._cacheStatus),null!=t._assetServer&&(o.asset_server=t._assetServer),null!=t._cacheHit&&(o.cache_hit=t._cacheHit),t.inFullscreen&&(o.in_fullscreen=t.inFullscreen()),null!=t._substream?(o.substream=t._substream.index,o.adaptive=t._substream.adaptive,o.current_level=t._substream.currentLevel,o.all_level_names=t._substream.allLevelNames,u=t._substream.asset,o.hls_error_counts=t._substream.hlsErrorCounts()):(o.substream=null,o.adaptive=null,u=null!=(d=t.data)?d.asset:void 0),null!=u&&(o.asset_type=u.type,o.asset_slug=u.slug,o.bitrate=u.bitrate,o.asset_height=u.height,o.asset_width=u.width),(null!=(h=t.videoElem)&&null!=(p=h.buffered)?p.length:void 0)>0&&(o.bufferedFrom0=t.videoElem.buffered.end(0)),null!=t._timeToFirstByte&&(o.time_to_first_byte=t._timeToFirstByte),o.buffered=null!=t.totalBuffered?t.totalBuffered():void 0,o.played=null!=t.totalPlayed?t.totalPlayed():void 0,s.send(i,n,r,o),t._mediaData&&t._mediaData.accountKey&&t._mediaData.accountSpecificMetrics?s.send(i,t._mediaData.accountKey+"/"+n,r,o):void 0}}(this)):void 0},countEvent:function(e,t,i){var n;return i||(i=t),null==(n=this._private.countEventCallbacks)[i]&&(n[i]=this._private.mkCountEventCallback(t,i)),e.rebind(t,this._private.countEventCallbacks[i])},countEventOnce:function(e,t,i){var n;return i||(i=t),null==(n=this._private.countEventOnceCallbacks)[i]&&(n[i]=this._private.mkCountEventOnceCallback(t,i)),e.rebind(t,this._private.countEventOnceCallbacks[i])},sampleEvent:function(e,t,i){var n;return i||(i=t),null==(n=this._private.sampleEventCallbacks)[i]&&(n[i]=this._private.mkSampleEventCallback(t,i)),e.rebind(t,this._private.sampleEventCallbacks[i])},countShowLoadingOnce:function(e){var t;return t=-1,e.bind("waiting",function(i){return function(n){return 2>t&&n>=2?(i.videoCount(e,"player/show-loading/first",1),t=n,e.unbind):t=n}}(this))},countShowLoadingAll:function(e){var t;return t=-1,e.bind("waiting",function(i){return function(n){return 2>t&&n>=2&&i.videoCount(e,"player/show-loading/all",1),t=n}}(this)),e.bind("done-waiting",function(){return t=-1})},countShowLoadingLongTimeOnce:function(e){var t;return t=-1,e.bind("waiting",function(i){return function(n){return 5>t&&n>=5?(i.videoCount(e,"player/show-loading-long-time/first",1),t=n,e.unbind):t=n}}(this))},countShowLoadingLongTimeAll:function(e){var t;return t=-1,e.bind("waiting",function(i){return function(n){return 5>t&&n>=5&&i.videoCount(e,"player/show-loading-long-time/all",1),t=n}}(this)),e.bind("done-waiting",function(){return t=-1})},assetBuckets:function(t){var i,n;return i=t.engine?t.engine.currentAsset():t._currentAsset,n=e.detect.iphone||e.detect.android||e.detect.blackberry||/mobile/i.test(navigator.userAgent),i?n?e.detect.iphone?["mobile","iphone"]:e.detect.android?["mobile","android"]:["mobile"]:/hls/.test(i.type)?["hls"]:/md/.test(i.type)?["md"]:/hd/.test(i.type)?["hd"]:["sd"]:[]},connectionType:function(){var e;return e=window.navigator.connection||window.navigator.mozConnection||window.navigator.webkitConnection,null!=e?e.type:void 0},sumTimeRanges:function(e){var t,i,n,r;if(null==e)return null;for(r=0,t=i=0,n=e.length;n>=0?n>i:i>n;t=n>=0?++i:--i)r+=e.end(t)-e.start(t);return r},millisecondsSince:function(e){return(new Date).getTime()-e},_private:{countEventCallbacks:{},mkCountEventCallback:function(t,i){return function(n){return i||(i=t),e.Metrics.videoCount(this,"player/"+i,n)}},countEventOnceCallbacks:{},mkCountEventOnceCallback:function(t,i){return function(n){return i||(i=t),e.Metrics.videoCount(this,"player/"+i,n),this.unbind}},sampleEventCallbacks:{},mkSampleEventCallback:function(t,i){return function(n){return i||(i=t),e.Metrics.videoSample(this,"player/"+i,n)}}}}}(Wistia)},function(e,t,i){function n(e,t,i){var n=e?e.length:0;return n?(i=o(i),0>i&&(i=s(n+i,0)),r(e,t,i)):-1}var r=i(159),o=i(50),s=Math.max;e.exports=n},,,function(e,t,i){function n(e){for(var t=e.name+"",i=r[t],n=s.call(r,t)?i.length:0;n--;){var o=i[n],a=o.func;if(null==a||a==e)return o.name}return t}var r=i(535),o=Object.prototype,s=o.hasOwnProperty;e.exports=n},,function(e,t,i){function n(e,t,i){function n(){v&&clearTimeout(v),m&&clearTimeout(m),A=0,f=m=y=v=b=void 0}function l(t,i){i&&clearTimeout(i),m=v=b=void 0,t&&(A=o(),g=e.apply(y,f),v||m||(f=y=void 0))}function c(){var e=t-(o()-_);0>=e||e>t?l(b,m):v=setTimeout(c,e)}function d(){return(v&&b||m&&k)&&(g=e.apply(y,f)),n(),g}function h(){l(k,v)}function p(){if(f=arguments,_=o(),y=this,b=k&&(v||!w),!1===E)var i=w&&!v;else{A||m||w||(A=_);var n=E-(_-A),r=(0>=n||n>E)&&(w||m);r?(m&&(m=clearTimeout(m)),A=_,g=e.apply(y,f)):m||(m=setTimeout(h,n))}return r&&v?v=clearTimeout(v):v||t===E||(v=setTimeout(c,t)),i&&(r=!0,g=e.apply(y,f)),!r||v||m||(f=y=void 0),g}var f,m,g,_,y,v,b,A=0,w=!1,E=!1,k=!0;if("function"!=typeof e)throw new TypeError(a);return t=s(t)||0,r(i)&&(w=!!i.leading,E="maxWait"in i&&u(s(i.maxWait)||0,t),k="trailing"in i?!!i.trailing:k),p.cancel=n,p.flush=d,p}var r=i(13),o=i(500),s=i(103),a="Expected a function",u=Math.max;e.exports=n},,,,,,function(e,t){var i=void 0;!function(n){if("object"==typeof t&&void 0!==e)e.exports=n();else if("function"==typeof i&&i.amd)i([],n);else{var r;r="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,r.Hls=n()}}(function(){var e;return function e(t,i,n){function r(s,a){if(!i[s]){if(!t[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var c=i[s]={exports:{}};t[s][0].call(c.exports,function(e){var i=t[s][1][e];return r(i||e)},c,c.exports,e,t,i,n)}return i[s].exports}for(var o="function"==typeof require&&require,s=0;s<n.length;s++)r(n[s]);return r}({1:[function(e,t,i){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function o(e){return"number"==typeof e}function s(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!o(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,i,n,o,u,l;if(this._events||(this._events={}),"error"===e&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}if(i=this._events[e],a(i))return!1;if(r(i))switch(arguments.length){case 1:i.call(this);break;case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:o=Array.prototype.slice.call(arguments,1),i.apply(this,o)}else if(s(i))for(o=Array.prototype.slice.call(arguments,1),l=i.slice(),n=l.length,u=0;n>u;u++)l[u].apply(this,o);return!0},n.prototype.addListener=function(e,t){var i;if(!r(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?s(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,s(this._events[e])&&!this._events[e].warned&&(i=a(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&i>0&&this._events[e].length>i&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function i(){this.removeListener(e,i),n||(n=!0,t.apply(this,arguments))}if(!r(t))throw TypeError("listener must be a function");var n=!1;return i.listener=t,this.on(e,i),this},n.prototype.removeListener=function(e,t){var i,n,o,a;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(i=this._events[e],o=i.length,n=-1,i===t||r(i.listener)&&i.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(s(i)){for(a=o;a-- >0;)if(i[a]===t||i[a].listener&&i[a].listener===t){n=a;break}if(0>n)return this;1===i.length?(i.length=0,delete this._events[e]):i.splice(n,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,i;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(i=this._events[e],r(i))this.removeListener(e,i);else if(i)for(;i.length;)this.removeListener(e,i[i.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},{}],2:[function(t,i,n){!function(t){var r=/^([^#]*)(.*)$/,o=/^([^\?]*)(.*)$/,s=/^(([a-z]+:\/\/)?[^:\/]+(?::[0-9]+)?)?(\/?.*)$/i,a={buildAbsoluteURL:function(e,t){if(t=t.trim(),/^[a-z]+:/i.test(t))return t;var i=null,n=null,u=r.exec(t);u&&(n=u[2],t=u[1]);var l=o.exec(t);l&&(i=l[2],t=l[1]);var c=r.exec(e);c&&(e=c[1]);var d=o.exec(e);d&&(e=d[1]);var h=s.exec(e);if(!h)throw new Error("Error trying to parse base URL.");var p=h[2]||"",f=h[1]||"",m=h[3];0!==m.indexOf("/")&&""!==f&&(m="/"+m);var g=null;return g=/^\/\//.test(t)?p+a.buildAbsolutePath("",t.substring(2)):/^\//.test(t)?f+"/"+a.buildAbsolutePath("",t.substring(1)):a.buildAbsolutePath(f+m,t),i&&(g+=i),n&&(g+=n),g},buildAbsolutePath:function(e,t){for(var i,n,r=t,o="",s=e.replace(/[^\/]*$/,r.replace(/(\/|^)(?:\.?\/+)+/g,"$1")),a=0;(n=s.indexOf("/../",a))>-1;a=n+i)i=/^\/(?:\.\.\/)*/.exec(s.slice(n))[0].length,o=(o+s.substring(a,n)).replace(new RegExp("(?:\\/+[^\\/]*){0,"+(i-1)/3+"}$"),"/");return o+s.substr(a)}};"object"==typeof n&&"object"==typeof i?i.exports=a:"function"==typeof e&&e.amd?e([],function(){return a}):"object"==typeof n?n.URLToolkit=a:t.URLToolkit=a}(this)},{}],3:[function(e,t,i){var n=arguments[3],r=arguments[4],o=arguments[5],s=JSON.stringify;t.exports=function(e,t){function i(e){g[e]=!0;for(var t in r[e][1]){var n=r[e][1][t];g[n]||i(n)}}for(var a,u=Object.keys(o),l=0,c=u.length;c>l;l++){var d=u[l],h=o[d].exports;if(h===e||h&&h.default===e){a=d;break}}if(!a){a=Math.floor(Math.pow(16,8)*Math.random()).toString(16);for(var p={},l=0,c=u.length;c>l;l++){var d=u[l];p[d]=d}r[a]=[Function(["require","module","exports"],"("+e+")(self)"),p]}var f=Math.floor(Math.pow(16,8)*Math.random()).toString(16),m={};m[a]=a,r[f]=[Function(["require"],"var f = require("+s(a)+");(f.default ? f.default : f)(self);"),m];var g={};i(f);var _="("+n+")({"+Object.keys(g).map(function(e){return s(e)+":["+r[e][0]+","+s(r[e][1])+"]"}).join(",")+"},{},["+s(f)+"])",y=window.URL||window.webkitURL||window.mozURL||window.msURL,v=new Blob([_],{type:"text/javascript"});if(t&&t.bare)return v;var b=y.createObjectURL(v),A=new Worker(b);return A.objectURL=b,A}},{}],4:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(i,"__esModule",{value:!0}),i.hlsDefaultConfig=void 0;var r=e("./controller/abr-controller"),o=n(r),s=e("./controller/buffer-controller"),a=n(s),u=e("./controller/cap-level-controller"),l=n(u),c=e("./controller/fps-controller"),d=n(c),h=e("./utils/xhr-loader"),p=n(h),f=e("./controller/audio-track-controller"),m=n(f),g=e("./controller/audio-stream-controller"),_=n(g),y=e("./utils/cues"),v=n(y),b=e("./controller/timeline-controller"),A=n(b),w=e("./controller/subtitle-track-controller"),E=n(w),k=e("./controller/subtitle-stream-controller"),C=n(k);i.hlsDefaultConfig={autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,initialLiveManifestSize:1,maxBufferLength:30,maxBufferSize:6e7,maxBufferHole:.5,maxSeekHole:2,lowBufferWatchdogPeriod:.5,highBufferWatchdogPeriod:3,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.2,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,fragLoadingLoopThreshold:3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:p.default,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,fetchSetup:void 0,abrController:o.default,bufferController:a.default,capLevelController:l.default,fpsController:d.default,audioStreamController:_.default,audioTrackController:m.default,subtitleStreamController:C.default,subtitleTrackController:E.default,timelineController:A.default,cueHandler:v.default,enableCEA708Captions:!0,enableWebVTT:!0,stretchShortVideoTrack:!1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0}},{"./controller/abr-controller":5,"./controller/audio-stream-controller":6,"./controller/audio-track-controller":7,"./controller/buffer-controller":8,"./controller/cap-level-controller":9,"./controller/fps-controller":11,"./controller/subtitle-stream-controller":14,"./controller/subtitle-track-controller":15,"./controller/timeline-controller":16,"./utils/cues":47,"./utils/xhr-loader":54}],5:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),u=e("../events"),l=n(u),c=e("../event-handler"),d=n(c),h=e("../helper/buffer-helper"),p=n(h),f=e("../errors"),m=e("../utils/logger"),g=e("./ewma-bandwidth-estimator"),_=n(g),y=function(e){function t(e){r(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,l.default.FRAG_LOADING,l.default.FRAG_LOADED,l.default.FRAG_BUFFERED,l.default.ERROR));return i.lastLoadedFragLevel=0,i._autoLevelCapping=-1,i._nextAutoLevel=-1,i.hls=e,i.onCheck=i.abandonRulesCheck.bind(i),i}return s(t,e),a(t,[{key:"destroy",value:function(){this.clearTimer(),d.default.prototype.destroy.call(this)}},{key:"onFragLoading",value:function(e){var t=e.frag;if("main"===t.type){if(this.timer||(this.timer=setInterval(this.onCheck,100)),!this.bwEstimator){var i=this.hls,n=e.frag.level,r=i.levels[n].details.live,o=i.config,s=void 0,a=void 0;r?(s=o.abrEwmaFastLive,a=o.abrEwmaSlowLive):(s=o.abrEwmaFastVoD,a=o.abrEwmaSlowVoD),this.bwEstimator=new _.default(i,a,s,o.abrEwmaDefaultEstimate)}this.fragCurrent=t}}},{key:"abandonRulesCheck",value:function(){var e=this.hls,t=e.media,i=this.fragCurrent,n=i.loader,r=this.minAutoLevel;if(!n||n.stats&&n.stats.aborted)return m.logger.warn("frag loader destroy or aborted, disarm abandonRules"),void this.clearTimer();var o=n.stats
;if(t&&(!t.paused&&0!==t.playbackRate||!t.readyState)&&i.autoLevel&&i.level){var s=performance.now()-o.trequest,a=Math.abs(t.playbackRate);if(s>500*i.duration/a){var u=e.levels,c=Math.max(1,o.bw?o.bw/8:1e3*o.loaded/s),d=u[i.level],h=d.realBitrate?Math.max(d.realBitrate,d.bitrate):d.bitrate,f=o.total?o.total:Math.max(o.loaded,Math.round(i.duration*h/8)),g=t.currentTime,_=(f-o.loaded)/c,y=(p.default.bufferInfo(t,g,e.config.maxBufferHole).end-g)/a;if(y<2*i.duration/a&&_>y){var v=void 0,b=void 0;for(b=i.level-1;b>r;b--){var A=u[b].realBitrate?Math.max(u[b].realBitrate,u[b].bitrate):u[b].bitrate;if(v=i.duration*A/(6.4*c),y>v)break}_>v&&(m.logger.warn("loading too slow, abort fragment loading and switch to level "+b+":fragLoadedDelay["+b+"]<fragLoadedDelay["+(i.level-1)+"];bufferStarvationDelay:"+v.toFixed(1)+"<"+_.toFixed(1)+":"+y.toFixed(1)),e.nextLoadLevel=b,this.bwEstimator.sample(s,o.loaded),n.abort(),this.clearTimer(),e.trigger(l.default.FRAG_LOAD_EMERGENCY_ABORTED,{frag:i,stats:o}))}}}}},{key:"onFragLoaded",value:function(e){var t=e.frag;if("main"===t.type&&!isNaN(t.sn)){if(this.clearTimer(),this.lastLoadedFragLevel=t.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var i=this.hls.levels[t.level],n=(i.loaded?i.loaded.bytes:0)+e.stats.loaded,r=(i.loaded?i.loaded.duration:0)+e.frag.duration;i.loaded={bytes:n,duration:r},i.realBitrate=Math.round(8*n/r)}if(e.frag.bitrateTest){var o=e.stats;o.tparsed=o.tbuffered=o.tload,this.onFragBuffered(e)}}}},{key:"onFragBuffered",value:function(e){var t=e.stats,i=e.frag;if(!(!0===t.aborted||1!==i.loadCounter||"main"!==i.type||isNaN(i.sn)||i.bitrateTest&&t.tload!==t.tbuffered)){var n=t.tparsed-t.trequest;m.logger.log("latency/loading/parsing/append/kbps:"+Math.round(t.tfirst-t.trequest)+"/"+Math.round(t.tload-t.tfirst)+"/"+Math.round(t.tparsed-t.tload)+"/"+Math.round(t.tbuffered-t.tparsed)+"/"+Math.round(8*t.loaded/(t.tbuffered-t.trequest))),this.bwEstimator.sample(n,t.loaded),i.bitrateTest?this.bitrateTestDelay=n/1e3:this.bitrateTestDelay=0}}},{key:"onError",value:function(e){switch(e.details){case f.ErrorDetails.FRAG_LOAD_ERROR:case f.ErrorDetails.FRAG_LOAD_TIMEOUT:this.clearTimer()}}},{key:"clearTimer",value:function(){this.timer&&(clearInterval(this.timer),this.timer=null)}},{key:"findBestLevel",value:function(e,t,i,n,r,o,s,a,u){for(var l=r;l>=n;l--){var c=u[l],d=c.details,h=d?d.totalduration/d.fragments.length:t,p=!!d&&d.live,f=void 0;f=e>=l?s*i:a*i;var g=u[l].realBitrate?Math.max(u[l].realBitrate,u[l].bitrate):u[l].bitrate,_=g*h/f;if(m.logger.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+l+"/"+Math.round(f)+"/"+g+"/"+h+"/"+o+"/"+_),f>g&&(!_||p||o>_))return l}return-1}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(e){this._autoLevelCapping=e}},{key:"nextAutoLevel",get:function(){var e=this._nextAutoLevel,t=this.bwEstimator,i=this.hls,n=i.levels,r=i.config.minAutoBitrate;if(!(-1===e||t&&t.canEstimate()))return Math.min(e,this.maxAutoLevel);var o=this.nextABRAutoLevel;if(-1!==e&&(o=Math.min(e,o)),void 0!==r)for(var s=n[o].realBitrate?Math.max(n[o].realBitrate,n[o].bitrate):n[o].bitrate;r>s;)o++;return o},set:function(e){this._nextAutoLevel=e}},{key:"minAutoLevel",get:function(){for(var e=this.hls,t=e.levels,i=e.config.minAutoBitrate,n=t?t.length:0,r=0;n>r;r++){if((t[r].realBitrate?Math.max(t[r].realBitrate,t[r].bitrate):t[r].bitrate)>i)return r}return 0}},{key:"maxAutoLevel",get:function(){var e=this.hls.levels,t=this._autoLevelCapping;return-1===t&&e&&e.length?e.length-1:t}},{key:"nextABRAutoLevel",get:function(){var e=this.hls,t=this.maxAutoLevel,i=e.levels,n=e.config,r=this.minAutoLevel,o=e.media,s=this.lastLoadedFragLevel,a=this.fragCurrent?this.fragCurrent.duration:0,u=o?o.currentTime:0,l=o&&0!==o.playbackRate?Math.abs(o.playbackRate):1,c=this.bwEstimator?this.bwEstimator.getEstimate():n.abrEwmaDefaultEstimate,d=(p.default.bufferInfo(o,u,n.maxBufferHole).end-u)/l,h=this.findBestLevel(s,a,c,r,t,d,n.abrBandWidthFactor,n.abrBandWidthUpFactor,i);if(h>=0)return h;m.logger.trace("rebuffering expected to happen, lets try to find a quality level minimizing the rebuffering");var f=a?Math.min(a,n.maxStarvationDelay):n.maxStarvationDelay,g=n.abrBandWidthFactor,_=n.abrBandWidthUpFactor;if(0===d){var y=this.bitrateTestDelay;if(y){f=(a?Math.min(a,n.maxLoadingDelay):n.maxLoadingDelay)-y,m.logger.trace("bitrate test took "+Math.round(1e3*y)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*f)+" ms"),g=_=1}}return h=this.findBestLevel(s,a,c,r,t,d+f,g,_,i),Math.max(h,0)}}]),t}(d.default);i.default=y},{"../errors":30,"../event-handler":31,"../events":32,"../helper/buffer-helper":34,"../utils/logger":49,"./ewma-bandwidth-estimator":10}],6:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),u=e("../utils/binary-search"),l=n(u),c=e("../helper/buffer-helper"),d=n(c),h=e("../demux/demuxer"),p=n(h),f=e("../events"),m=n(f),g=e("../event-handler"),_=n(g),y=e("../helper/level-helper"),v=n(y),b=e("../utils/timeRanges"),A=n(b),w=e("../errors"),E=e("../utils/logger"),k={STOPPED:"STOPPED",STARTING:"STARTING",IDLE:"IDLE",PAUSED:"PAUSED",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",BUFFER_FLUSHING:"BUFFER_FLUSHING",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS"},C=function(e){function t(e){r(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,m.default.MEDIA_ATTACHED,m.default.MEDIA_DETACHING,m.default.AUDIO_TRACKS_UPDATED,m.default.AUDIO_TRACK_SWITCHING,m.default.AUDIO_TRACK_LOADED,m.default.KEY_LOADED,m.default.FRAG_LOADED,m.default.FRAG_PARSING_INIT_SEGMENT,m.default.FRAG_PARSING_DATA,m.default.FRAG_PARSED,m.default.ERROR,m.default.BUFFER_CREATED,m.default.BUFFER_APPENDED,m.default.BUFFER_FLUSHED,m.default.INIT_PTS_FOUND));return i.config=e.config,i.audioCodecSwap=!1,i.ticks=0,i._state=k.STOPPED,i.ontick=i.tick.bind(i),i.initPTS=[],i.waitingFragment=null,i}return s(t,e),a(t,[{key:"destroy",value:function(){this.stopLoad(),this.timer&&(clearInterval(this.timer),this.timer=null),_.default.prototype.destroy.call(this),this.state=k.STOPPED}},{key:"onInitPtsFound",value:function(e){var t=e.id,i=e.cc,n=e.initPTS;"main"===t&&(this.initPTS[i]=n,E.logger.log("InitPTS for cc:"+i+" found from video track:"+n),this.state===k.WAITING_INIT_PTS&&(E.logger.log("sending pending audio frag to demuxer"),this.state=k.FRAG_LOADING,this.onFragLoaded(this.waitingFragment),this.waitingFragment=null))}},{key:"startLoad",value:function(e){if(this.tracks){var t=this.lastCurrentTime;this.stopLoad(),this.timer||(this.timer=setInterval(this.ontick,100)),this.fragLoadError=0,t>0&&-1===e?(E.logger.log("audio:override startPosition with lastCurrentTime @"+t.toFixed(3)),this.state=k.IDLE):(this.lastCurrentTime=this.startPosition?this.startPosition:e,this.state=k.STARTING),this.nextLoadPosition=this.startPosition=this.lastCurrentTime,this.tick()}else this.startPosition=e,this.state=k.STOPPED}},{key:"stopLoad",value:function(){var e=this.fragCurrent;e&&(e.loader&&e.loader.abort(),this.fragCurrent=null),this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=k.STOPPED}},{key:"tick",value:function(){1===++this.ticks&&(this.doTick(),this.ticks>1&&setTimeout(this.tick,1),this.ticks=0)}},{key:"doTick",value:function(){var e,t,i,n=this.hls,r=n.config;switch(this.state){case k.ERROR:case k.PAUSED:case k.BUFFER_FLUSHING:break;case k.STARTING:this.state=k.WAITING_TRACK,this.loadedmetadata=!1;break;case k.IDLE:var o=this.tracks;if(!o)break;if(!this.media&&(this.startFragRequested||!r.startFragPrefetch))break;e=this.loadedmetadata?this.media.currentTime:this.nextLoadPosition;var s=this.mediaBuffer?this.mediaBuffer:this.media,a=d.default.bufferInfo(s,e,r.maxBufferHole),u=a.len,c=a.end,h=this.fragPrevious,p=r.maxMaxBufferLength,f=this.audioSwitch,g=this.trackId;if(p>u&&g<o.length){if(void 0===(i=o[g].details)){this.state=k.WAITING_TRACK;break}if(!f&&!i.live&&h&&h.sn===i.endSN&&(!this.media.seeking||this.media.duration-c<h.duration/2)){this.hls.trigger(m.default.BUFFER_EOS,{type:"audio"}),this.state=k.ENDED;break}var _=i.fragments,y=_.length,v=_[0].start,b=_[y-1].start+_[y-1].duration,A=void 0;if(f)if(i.live&&!i.PTSKnown)E.logger.log("switching audiotrack, live stream, unknown PTS,load first fragment"),c=0;else if(c=e,i.PTSKnown&&v>e){if(!(a.end>v||a.nextStart))return;E.logger.log("alt audio track ahead of main track, seek to start of alt audio track"),this.media.currentTime=v+.05}if(i.initSegment&&!i.initSegment.data)A=i.initSegment;else if(v>=c){if(A=_[0],i.live&&A.loadIdx&&A.loadIdx===this.fragLoadIdx){var C=a.nextStart?a.nextStart:v;return E.logger.log("no alt audio available @currentTime:"+this.media.currentTime+", seeking @"+(C+.05)),void(this.media.currentTime=C+.05)}}else{var T=void 0,x=r.maxFragLookUpTolerance,S=h?_[h.sn-_[0].sn+1]:void 0,O=function(e){var t=Math.min(x,e.duration);return e.start+e.duration-t<=c?1:e.start-t>c&&e.start?-1:0};b>c?(c>b-x&&(x=0),T=S&&!O(S)?S:l.default.search(_,O)):T=_[y-1],T&&(A=T,v=T.start,h&&A.level===h.level&&A.sn===h.sn&&(A.sn<i.endSN?(A=_[A.sn+1-i.startSN],E.logger.log("SN just loaded, load next one: "+A.sn)):A=null))}if(A)if(A.decryptdata&&null!=A.decryptdata.uri&&null==A.decryptdata.key)E.logger.log("Loading key for "+A.sn+" of ["+i.startSN+" ,"+i.endSN+"],track "+g),this.state=k.KEY_LOADING,n.trigger(m.default.KEY_LOADING,{frag:A});else{if(E.logger.log("Loading "+A.sn+" of ["+i.startSN+" ,"+i.endSN+"],track "+g+", currentTime:"+e+",bufferEnd:"+c.toFixed(3)),void 0!==this.fragLoadIdx?this.fragLoadIdx++:this.fragLoadIdx=0,A.loadCounter){A.loadCounter++;var P=r.fragLoadingLoopThreshold;if(A.loadCounter>P&&Math.abs(this.fragLoadIdx-A.loadIdx)<P)return void n.trigger(m.default.ERROR,{type:w.ErrorTypes.MEDIA_ERROR,details:w.ErrorDetails.FRAG_LOOP_LOADING_ERROR,fatal:!1,frag:A})}else A.loadCounter=1;A.loadIdx=this.fragLoadIdx,this.fragCurrent=A,this.startFragRequested=!0,isNaN(A.sn)||(this.nextLoadPosition=A.start+A.duration),n.trigger(m.default.FRAG_LOADING,{frag:A}),this.state=k.FRAG_LOADING}}break;case k.WAITING_TRACK:(t=this.tracks[this.trackId])&&t.details&&(this.state=k.IDLE);break;case k.FRAG_LOADING_WAITING_RETRY:var I=performance.now(),M=this.retryDate;s=this.media;var D=s&&s.seeking;(!M||I>=M||D)&&(E.logger.log("audioStreamController: retryDate reached, switch back to IDLE state"),this.state=k.IDLE);break;case k.WAITING_INIT_PTS:case k.STOPPED:case k.FRAG_LOADING:case k.PARSING:case k.PARSED:case k.ENDED:}}},{key:"onMediaAttached",value:function(e){var t=this.media=this.mediaBuffer=e.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),t.addEventListener("seeking",this.onvseeking),t.addEventListener("ended",this.onvended);var i=this.config;this.tracks&&i.autoStartLoad&&this.startLoad(i.startPosition)}},{key:"onMediaDetaching",value:function(){var e=this.media;e&&e.ended&&(E.logger.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0);var t=this.tracks;t&&t.forEach(function(e){e.details&&e.details.fragments.forEach(function(e){e.loadCounter=void 0})}),e&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.stopLoad()}},{key:"onMediaSeeking",value:function(){this.state===k.ENDED&&(this.state=k.IDLE),this.media&&(this.lastCurrentTime=this.media.currentTime),void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold),this.tick()}},{key:"onMediaEnded",value:function(){this.startPosition=this.lastCurrentTime=0}},{key:"onAudioTracksUpdated",value:function(e){E.logger.log("audio tracks updated"),this.tracks=e.audioTracks}},{key:"onAudioTrackSwitching",value:function(e){var t=!!e.url;this.trackId=e.id,this.state=k.IDLE,this.fragCurrent=null,this.state=k.PAUSED,this.waitingFragment=null,t?this.timer||(this.timer=setInterval(this.ontick,100)):this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),t&&(this.audioSwitch=!0,this.state=k.IDLE,void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold)),this.tick()}},{key:"onAudioTrackLoaded",value:function(e){var t=e.details,i=e.id,n=this.tracks[i],r=t.totalduration,o=0;if(E.logger.log("track "+i+" loaded ["+t.startSN+","+t.endSN+"],duration:"+r),t.live){var s=n.details;s&&t.fragments.length>0?(v.default.mergeDetails(s,t),o=t.fragments[0].start,t.PTSKnown?E.logger.log("live audio playlist sliding:"+o.toFixed(3)):E.logger.log("live audio playlist - outdated PTS, unknown sliding")):(t.PTSKnown=!1,E.logger.log("live audio playlist - first load, unknown sliding"))}else t.PTSKnown=!1;if(n.details=t,!this.startFragRequested){if(-1===this.startPosition){var a=t.startTimeOffset;isNaN(a)?this.startPosition=0:(E.logger.log("start time offset found in playlist, adjust startPosition to "+a),this.startPosition=a)}this.nextLoadPosition=this.startPosition}this.state===k.WAITING_TRACK&&(this.state=k.IDLE),this.tick()}},{key:"onKeyLoaded",value:function(){this.state===k.KEY_LOADING&&(this.state=k.IDLE,this.tick())}},{key:"onFragLoaded",value:function(e){var t=this.fragCurrent,i=e.frag;if(this.state===k.FRAG_LOADING&&t&&"audio"===i.type&&i.level===t.level&&i.sn===t.sn){var n=this.tracks[this.trackId],r=n.details,o=r.totalduration,s=t.start,a=t.level,u=t.sn,l=t.cc,c=this.config.defaultAudioCodec||n.audioCodec||"mp4a.40.2",d=this.stats=e.stats;if("initSegment"===i.sn)this.state=k.IDLE,d.tparsed=d.tbuffered=performance.now(),r.initSegment.data=e.payload,this.hls.trigger(m.default.FRAG_BUFFERED,{stats:d,frag:t,id:"audio"}),this.tick();else{this.state=k.PARSING,this.appended=!1,this.demuxer||(this.demuxer=new p.default(this.hls,"audio"));var h=this.initPTS[l],f=r.initSegment?r.initSegment.data:[];if(f||void 0!==h){this.pendingBuffering=!0,E.logger.log("Demuxing "+u+" of ["+r.startSN+" ,"+r.endSN+"],track "+a);this.demuxer.push(e.payload,f,c,null,s,l,a,u,o,t.decryptdata,!1,h)}else E.logger.log("unknown video PTS for continuity counter "+l+", waiting for video PTS before demuxing audio frag "+u+" of ["+r.startSN+" ,"+r.endSN+"],track "+a),this.waitingFragment=e,this.state=k.WAITING_INIT_PTS}}this.fragLoadError=0}},{key:"onFragParsingInitSegment",value:function(e){var t=this.fragCurrent;if(t&&"audio"===e.id&&e.sn===t.sn&&e.level===t.level&&this.state===k.PARSING){var i=e.tracks,n=void 0;if(i.video&&delete i.video,n=i.audio){n.levelCodec="mp4a.40.2",n.id=e.id,this.hls.trigger(m.default.BUFFER_CODECS,i),E.logger.log("audio track:audio,container:"+n.container+",codecs[level/parsed]=["+n.levelCodec+"/"+n.codec+"]");var r=n.initSegment;if(r){var o={type:"audio",data:r,parent:"audio",content:"initSegment"};this.audioSwitch?this.pendingData=[o]:(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(m.default.BUFFER_APPENDING,o))}this.tick()}}}},{key:"onFragParsingData",value:function(e){var t=this,i=this.fragCurrent;if(i&&"audio"===e.id&&"audio"===e.type&&e.sn===i.sn&&e.level===i.level&&this.state===k.PARSING){var n=this.trackId,r=this.tracks[n],o=this.fragCurrent,s=this.hls;isNaN(e.endPTS)&&(e.endPTS=e.startPTS+i.duration,e.endDTS=e.startDTS+i.duration),E.logger.log("parsed "+e.type+",PTS:["+e.startPTS.toFixed(3)+","+e.endPTS.toFixed(3)+"],DTS:["+e.startDTS.toFixed(3)+"/"+e.endDTS.toFixed(3)+"],nb:"+e.nb),v.default.updateFragPTSDTS(r.details,o.sn,e.startPTS,e.endPTS);var a=this.audioSwitch,u=this.media,l=!1;if(a&&u)if(u.readyState){var c=u.currentTime;E.logger.log("switching audio track : currentTime:"+c),c>=e.startPTS&&(E.logger.log("switching audio track : flushing all audio"),this.state=k.BUFFER_FLUSHING,s.trigger(m.default.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),l=!0,this.audioSwitch=!1,s.trigger(m.default.AUDIO_TRACK_SWITCHED,{id:n}))}else this.audioSwitch=!1,s.trigger(m.default.AUDIO_TRACK_SWITCHED,{id:n});var d=this.pendingData;this.audioSwitch||([e.data1,e.data2].forEach(function(t){t&&t.length&&d.push({type:e.type,data:t,parent:"audio",content:"data"})}),!l&&d.length&&(d.forEach(function(e){t.state===k.PARSING&&(t.pendingBuffering=!0,t.hls.trigger(m.default.BUFFER_APPENDING,e))}),this.pendingData=[],this.appended=!0)),this.tick()}}},{key:"onFragParsed",value:function(e){var t=this.fragCurrent;t&&"audio"===e.id&&e.sn===t.sn&&e.level===t.level&&this.state===k.PARSING&&(this.stats.tparsed=performance.now(),this.state=k.PARSED,this._checkAppendedParsed())}},{key:"onBufferCreated",value:function(e){var t=e.tracks.audio;t&&(this.mediaBuffer=t.buffer,this.loadedmetadata=!0)}},{key:"onBufferAppended",value:function(e){if("audio"===e.parent){var t=this.state;(t===k.PARSING||t===k.PARSED)&&(this.pendingBuffering=e.pending>0,this._checkAppendedParsed())}}},{key:"_checkAppendedParsed",value:function(){if(!(this.state!==k.PARSED||this.appended&&this.pendingBuffering)){var e=this.fragCurrent,t=this.stats,i=this.hls;if(e){this.fragPrevious=e,t.tbuffered=performance.now(),i.trigger(m.default.FRAG_BUFFERED,{stats:t,frag:e,id:"audio"});var n=this.mediaBuffer?this.mediaBuffer:this.media;E.logger.log("audio buffered : "+A.default.toString(n.buffered)),this.audioSwitch&&this.appended&&(this.audioSwitch=!1,i.trigger(m.default.AUDIO_TRACK_SWITCHED,{id:this.trackId})),this.state=k.IDLE}this.tick()}}},{key:"onError",value:function(e){var t=e.frag;if(!t||"audio"===t.type)switch(e.details){case w.ErrorDetails.FRAG_LOAD_ERROR:case w.ErrorDetails.FRAG_LOAD_TIMEOUT:if(!e.fatal){var i=this.fragLoadError;i?i++:i=1;var n=this.config;if(i<=n.fragLoadingMaxRetry){this.fragLoadError=i,t.loadCounter=0;var r=Math.min(Math.pow(2,i-1)*n.fragLoadingRetryDelay,n.fragLoadingMaxRetryTimeout);E.logger.warn("audioStreamController: frag loading failed, retry in "+r+" ms"),this.retryDate=performance.now()+r,this.state=k.FRAG_LOADING_WAITING_RETRY}else E.logger.error("audioStreamController: "+e.details+" reaches max retry, redispatch as fatal ..."),e.fatal=!0,this.hls.trigger(m.default.ERROR,e),this.state=k.ERROR}break;case w.ErrorDetails.FRAG_LOOP_LOADING_ERROR:case w.ErrorDetails.AUDIO_TRACK_LOAD_ERROR:case w.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:case w.ErrorDetails.KEY_LOAD_ERROR:case w.ErrorDetails.KEY_LOAD_TIMEOUT:this.state!==k.ERROR&&(this.state=e.fatal?k.ERROR:k.IDLE,E.logger.warn("audioStreamController: "+e.details+" while loading frag,switch to "+this.state+" state ..."));break;case w.ErrorDetails.BUFFER_FULL_ERROR:if("audio"===e.parent&&(this.state===k.PARSING||this.state===k.PARSED)){var o=this.mediaBuffer,s=this.media.currentTime;if(o&&d.default.isBuffered(o,s)&&d.default.isBuffered(o,s+.5)){var a=this.config;a.maxMaxBufferLength>=a.maxBufferLength&&(a.maxMaxBufferLength/=2,E.logger.warn("audio:reduce max buffer length to "+a.maxMaxBufferLength+"s"),this.fragLoadIdx+=2*a.fragLoadingLoopThreshold),this.state=k.IDLE}else E.logger.warn("buffer full error also media.currentTime is not buffered, flush audio buffer"),this.fragCurrent=null,this.state=k.BUFFER_FLUSHING,this.hls.trigger(m.default.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"})}}}},{key:"onBufferFlushed",value:function(){var e=this,t=this.pendingData;t&&t.length?(E.logger.log("appending pending audio data on Buffer Flushed"),t.forEach(function(t){e.hls.trigger(m.default.BUFFER_APPENDING,t)}),this.appended=!0,this.pendingData=[],this.state=k.PARSED):(this.state=k.IDLE,this.fragPrevious=null,this.tick())}},{key:"state",set:function(e){if(this.state!==e){var t=this.state;this._state=e,E.logger.log("audio stream:"+t+"->"+e)}},get:function(){return this._state}}]),t}(_.default);i.default=C},{"../demux/demuxer":25,"../errors":30,"../event-handler":31,"../events":32,"../helper/buffer-helper":34,"../helper/level-helper":35,"../utils/binary-search":45,"../utils/logger":49,"../utils/timeRanges":50}],7:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),u=e("../events"),l=n(u),c=e("../event-handler"),d=n(c),h=e("../utils/logger"),p=function(e){function t(e){r(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,l.default.MANIFEST_LOADING,l.default.MANIFEST_LOADED,l.default.AUDIO_TRACK_LOADED));return i.ticks=0,i.ontick=i.tick.bind(i),i}return s(t,e),a(t,[{key:"destroy",value:function(){d.default.prototype.destroy.call(this)}},{key:"tick",value:function(){1===++this.ticks&&(this.doTick(),this.ticks>1&&setTimeout(this.tick,1),this.ticks=0)}},{key:"doTick",value:function(){this.updateTrack(this.trackId)}},{key:"onManifestLoading",value:function(){this.tracks=[],this.trackId=-1}},{key:"onManifestLoaded",value:function(e){var t=this,i=e.audioTracks||[],n=!1;this.tracks=i,this.hls.trigger(l.default.AUDIO_TRACKS_UPDATED,{audioTracks:i});var r=0;i.forEach(function(e){return e.default?(t.audioTrack=r,void(n=!0)):void r++}),!1===n&&i.length&&(h.logger.log("no default audio track defined, use first audio track as default"),this.audioTrack=0)}},{key:"onAudioTrackLoaded",value:function(e){e.id<this.tracks.length&&(h.logger.log("audioTrack "+e.id+" loaded"),this.tracks[e.id].details=e.details,e.details.live&&!this.timer&&(this.timer=setInterval(this.ontick,1e3*e.details.targetduration)),!e.details.live&&this.timer&&(clearInterval(this.timer),this.timer=null))}},{key:"setAudioTrackInternal",value:function(e){if(e>=0&&e<this.tracks.length){this.timer&&(clearInterval(this.timer),this.timer=null),this.trackId=e,h.logger.log("switching to audioTrack "+e);var t=this.tracks[e],i=this.hls,n=t.type,r=t.url,o={id:e,type:n,url:r};i.trigger(l.default.AUDIO_TRACK_SWITCH,o),i.trigger(l.default.AUDIO_TRACK_SWITCHING,o);var s=t.details;!r||void 0!==s&&!0!==s.live||(h.logger.log("(re)loading playlist for audioTrack "+e),i.trigger(l.default.AUDIO_TRACK_LOADING,{url:r,id:e}))}}},{key:"updateTrack",value:function(e){if(e>=0&&e<this.tracks.length){this.timer&&(clearInterval(this.timer),this.timer=null),this.trackId=e,h.logger.log("updating audioTrack "+e);var t=this.tracks[e],i=t.url,n=t.details;!i||void 0!==n&&!0!==n.live||(h.logger.log("(re)loading playlist for audioTrack "+e),this.hls.trigger(l.default.AUDIO_TRACK_LOADING,{url:i,id:e}))}}},{key:"audioTracks",get:function(){return this.tracks}},{key:"audioTrack",get:function(){return this.trackId},set:function(e){(this.trackId!==e||void 0===this.tracks[e].details)&&this.setAudioTrackInternal(e)}}]),t}(d.default);i.default=p},{"../event-handler":31,"../events":32,"../utils/logger":49}],8:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),u=e("../events"),l=n(u),c=e("../event-handler"),d=n(c),h=e("../utils/logger"),p=e("../errors"),f=function(e){function t(e){r(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,l.default.MEDIA_ATTACHING,l.default.MEDIA_DETACHING,l.default.MANIFEST_PARSED,l.default.BUFFER_RESET,l.default.BUFFER_APPENDING,l.default.BUFFER_CODECS,l.default.BUFFER_EOS,l.default.BUFFER_FLUSHING,l.default.LEVEL_PTS_UPDATED,l.default.LEVEL_UPDATED));return i._msDuration=null,i._levelDuration=null,i.onsbue=i.onSBUpdateEnd.bind(i),i.onsbe=i.onSBUpdateError.bind(i),i.pendingTracks={},i.tracks={},i}return s(t,e),a(t,[{key:"destroy",value:function(){d.default.prototype.destroy.call(this)}},{key:"onLevelPtsUpdated",value:function(e){var t=e.type,i=this.tracks.audio;if("audio"===t&&i&&"audio/mpeg"===i.container){var n=this.sourceBuffer.audio;if(Math.abs(n.timestampOffset-e.start)>.1){var r=n.updating;try{n.abort()}catch(e){r=!0,h.logger.warn("can not abort audio buffer: "+e)}r?this.audioTimestampOffset=e.start:(h.logger.warn("change mpeg audio timestamp offset from "+n.timestampOffset+" to "+e.start),n.timestampOffset=e.start)}}}},{key:"onManifestParsed",value:function(e){var t=e.audio,i=e.video,n=0;e.altAudio&&(t||i)&&(n=(t?1:0)+(i?1:0),h.logger.log(n+" sourceBuffer(s) expected")),this.sourceBufferNb=n}},{key:"onMediaAttaching",value:function(e){var t=this.media=e.media;if(t){var i=this.mediaSource=new MediaSource;this.onmso=this.onMediaSourceOpen.bind(this),this.onmse=this.onMediaSourceEnded.bind(this),this.onmsc=this.onMediaSourceClose.bind(this),i.addEventListener("sourceopen",this.onmso),i.addEventListener("sourceended",this.onmse),i.addEventListener("sourceclose",this.onmsc),t.src=URL.createObjectURL(i)}}},{key:"onMediaDetaching",value:function(){h.logger.log("media source detaching");var e=this.mediaSource;if(e){if("open"===e.readyState)try{e.endOfStream()}catch(e){h.logger.warn("onMediaDetaching:"+e.message+" while calling endOfStream")}e.removeEventListener("sourceopen",this.onmso),e.removeEventListener("sourceended",this.onmse),e.removeEventListener("sourceclose",this.onmsc),this.media&&(URL.revokeObjectURL(this.media.src),this.media.removeAttribute("src"),this.media.load()),this.mediaSource=null,this.media=null,this.pendingTracks={},this.tracks={},this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0}this.onmso=this.onmse=this.onmsc=null,this.hls.trigger(l.default.MEDIA_DETACHED)}},{key:"onMediaSourceOpen",value:function(){h.logger.log("media source opened"),this.hls.trigger(l.default.MEDIA_ATTACHED,{media:this.media});var e=this.mediaSource;e&&e.removeEventListener("sourceopen",this.onmso),this.checkPendingTracks()}},{key:"checkPendingTracks",value:function(){var e=this.pendingTracks,t=Object.keys(e).length;t&&(this.sourceBufferNb<=t||0===this.sourceBufferNb)&&(this.createSourceBuffers(e),this.pendingTracks={},this.doAppending())}},{key:"onMediaSourceClose",value:function(){h.logger.log("media source closed")}},{key:"onMediaSourceEnded",value:function(){h.logger.log("media source ended")}},{key:"onSBUpdateEnd",value:function(){if(this.audioTimestampOffset){var e=this.sourceBuffer.audio;h.logger.warn("change mpeg audio timestamp offset from "+e.timestampOffset+" to "+this.audioTimestampOffset),e.timestampOffset=this.audioTimestampOffset,delete this.audioTimestampOffset}this._needsFlush&&this.doFlush(),this._needsEos&&this.checkEos(),this.appending=!1;var t=this.parent,i=this.segments.reduce(function(e,i){return i.parent===t?e+1:e},0);this.hls.trigger(l.default.BUFFER_APPENDED,{parent:t,pending:i}),this._needsFlush||this.doAppending(),this.updateMediaElementDuration()}},{key:"onSBUpdateError",value:function(e){h.logger.error("sourceBuffer error:"+e),this.hls.trigger(l.default.ERROR,{type:p.ErrorTypes.MEDIA_ERROR,details:p.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1})}},{key:"onBufferReset",value:function(){var e=this.sourceBuffer;for(var t in e){var i=e[t];try{this.mediaSource.removeSourceBuffer(i),i.removeEventListener("updateend",this.onsbue),i.removeEventListener("error",this.onsbe)}catch(e){}}this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0}},{key:"onBufferCodecs",value:function(e){if(0===Object.keys(this.sourceBuffer).length){for(var t in e)this.pendingTracks[t]=e[t];var i=this.mediaSource;i&&"open"===i.readyState&&this.checkPendingTracks()}}},{key:"createSourceBuffers",value:function(e){var t=this.sourceBuffer,i=this.mediaSource;for(var n in e)if(!t[n]){var r=e[n],o=r.levelCodec||r.codec,s=r.container+";codecs="+o;h.logger.log("creating sourceBuffer("+s+")");try{var a=t[n]=i.addSourceBuffer(s);a.addEventListener("updateend",this.onsbue),a.addEventListener("error",this.onsbe),this.tracks[n]={codec:o,container:r.container},r.buffer=a}catch(e){h.logger.error("error while trying to add sourceBuffer:"+e.message),this.hls.trigger(l.default.ERROR,{type:p.ErrorTypes.MEDIA_ERROR,details:p.ErrorDetails.BUFFER_ADD_CODEC_ERROR,fatal:!1,err:e,mimeType:s})}}this.hls.trigger(l.default.BUFFER_CREATED,{tracks:e})}},{key:"onBufferAppending",value:function(e){this._needsFlush||(this.segments?this.segments.push(e):this.segments=[e],this.doAppending())}},{key:"onBufferAppendFail",value:function(e){h.logger.error("sourceBuffer error:",e.event),this.hls.trigger(l.default.ERROR,{type:p.ErrorTypes.MEDIA_ERROR,details:p.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1})}},{key:"onBufferEos",value:function(e){var t=this.sourceBuffer,i=e.type;for(var n in t)i&&n!==i||t[n].ended||(t[n].ended=!0,h.logger.log(n+" sourceBuffer now EOS"));this.checkEos()}},{key:"checkEos",value:function(){var e=this.sourceBuffer,t=this.mediaSource;if(!t||"open"!==t.readyState)return void(this._needsEos=!1);for(var i in e){var n=e[i];if(!n.ended)return;if(n.updating)return void(this._needsEos=!0)}h.logger.log("all media data available, signal endOfStream() to MediaSource and stop loading fragment");try{t.endOfStream()}catch(e){h.logger.warn("exception while calling mediaSource.endOfStream()")}this._needsEos=!1}},{key:"onBufferFlushing",value:function(e){this.flushRange.push({start:e.startOffset,end:e.endOffset,type:e.type}),this.flushBufferCounter=0,this.doFlush()}},{key:"onLevelUpdated",value:function(e){var t=e.details;0!==t.fragments.length&&(this._levelDuration=t.totalduration+t.fragments[0].start,this.updateMediaElementDuration())}},{key:"updateMediaElementDuration",value:function(){var e=this.media,t=this.mediaSource,i=this.sourceBuffer,n=this._levelDuration;if(null!==n&&e&&t&&i&&0!==e.readyState&&"open"===t.readyState){for(var r in i)if(i[r].updating)return;null===this._msDuration&&(this._msDuration=t.duration);var o=e.duration
;(n>this._msDuration&&n>o||o===1/0||isNaN(o))&&(h.logger.log("Updating mediasource duration to "+n.toFixed(3)),this._msDuration=t.duration=n)}}},{key:"doFlush",value:function(){for(;this.flushRange.length;){var e=this.flushRange[0];if(!this.flushBuffer(e.start,e.end,e.type))return void(this._needsFlush=!0);this.flushRange.shift(),this.flushBufferCounter=0}if(0===this.flushRange.length){this._needsFlush=!1;var t=0,i=this.sourceBuffer;try{for(var n in i)t+=i[n].buffered.length}catch(e){h.logger.error("error while accessing sourceBuffer.buffered")}this.appended=t,this.hls.trigger(l.default.BUFFER_FLUSHED)}}},{key:"doAppending",value:function(){var e=this.hls,t=this.sourceBuffer,i=this.segments;if(Object.keys(t).length){if(this.media.error)return this.segments=[],void h.logger.error("trying to append although a media error occured, flush segment and abort");if(this.appending)return;if(i&&i.length){var n=i.shift();try{var r=n.type,o=t[r];o?o.updating?i.unshift(n):(o.ended=!1,this.parent=n.parent,o.appendBuffer(n.data),this.appendError=0,this.appended++,this.appending=!0):this.onSBUpdateEnd()}catch(t){h.logger.error("error while trying to append buffer:"+t.message),i.unshift(n);var s={type:p.ErrorTypes.MEDIA_ERROR,parent:n.parent};if(22===t.code)return this.segments=[],s.details=p.ErrorDetails.BUFFER_FULL_ERROR,s.fatal=!1,void e.trigger(l.default.ERROR,s);if(this.appendError?this.appendError++:this.appendError=1,s.details=p.ErrorDetails.BUFFER_APPEND_ERROR,this.appendError>e.config.appendErrorMaxRetry)return h.logger.log("fail "+e.config.appendErrorMaxRetry+" times to append segment in sourceBuffer"),i=[],s.fatal=!0,void e.trigger(l.default.ERROR,s);s.fatal=!1,e.trigger(l.default.ERROR,s)}}}}},{key:"flushBuffer",value:function(e,t,i){var n,r,o,s,a,u,l=this.sourceBuffer;if(Object.keys(l).length){if(h.logger.log("flushBuffer,pos/start/end: "+this.media.currentTime.toFixed(3)+"/"+e+"/"+t),this.flushBufferCounter<this.appended){for(var c in l)if(!i||c===i){if(n=l[c],n.ended=!1,n.updating)return h.logger.warn("cannot flush, sb updating in progress"),!1;try{for(r=0;r<n.buffered.length;r++)if(o=n.buffered.start(r),s=n.buffered.end(r),-1!==navigator.userAgent.toLowerCase().indexOf("firefox")&&t===Number.POSITIVE_INFINITY?(a=e,u=t):(a=Math.max(o,e),u=Math.min(s,t)),Math.min(u,s)-a>.5)return this.flushBufferCounter++,h.logger.log("flush "+c+" ["+a+","+u+"], of ["+o+","+s+"], pos:"+this.media.currentTime),n.remove(a,u),!1}catch(e){h.logger.warn("exception while accessing sourcebuffer, it might have been removed from MediaSource")}}}else h.logger.warn("abort flushing too many retries");h.logger.log("buffer flushed")}return!0}}]),t}(d.default);i.default=f},{"../errors":30,"../event-handler":31,"../events":32,"../utils/logger":49}],9:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),u=e("../events"),l=n(u),c=e("../event-handler"),d=n(c),h=function(e){function t(e){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,l.default.FPS_DROP_LEVEL_CAPPING,l.default.MEDIA_ATTACHING,l.default.MANIFEST_PARSED))}return s(t,e),a(t,[{key:"destroy",value:function(){this.hls.config.capLevelToPlayerSize&&(this.media=this.restrictedLevels=null,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(this.timer=clearInterval(this.timer)))}},{key:"onFpsDropLevelCapping",value:function(e){this.restrictedLevels||(this.restrictedLevels=[]),this.isLevelRestricted(e.droppedLevel)||this.restrictedLevels.push(e.droppedLevel)}},{key:"onMediaAttaching",value:function(e){this.media=e.media instanceof HTMLVideoElement?e.media:null}},{key:"onManifestParsed",value:function(e){var t=this.hls;t.config.capLevelToPlayerSize&&(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.levels=e.levels,t.firstLevel=this.getMaxLevel(e.firstLevel),clearInterval(this.timer),this.timer=setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())}},{key:"detectPlayerSize",value:function(){if(this.media){var e=this.levels?this.levels.length:0;if(e){var t=this.hls;t.autoLevelCapping=this.getMaxLevel(e-1),t.autoLevelCapping>this.autoLevelCapping&&t.streamController.nextLevelSwitch(),this.autoLevelCapping=t.autoLevelCapping}}}},{key:"getMaxLevel",value:function(e){var t=0,i=void 0,n=void 0,r=this.mediaWidth,o=this.mediaHeight,s=0,a=0;for(i=0;e>=i&&(n=this.levels[i],!this.isLevelRestricted(i))&&(t=i,s=n.width,a=n.height,!(s>=r||a>=o));i++);return t}},{key:"isLevelRestricted",value:function(e){return!(!this.restrictedLevels||-1===this.restrictedLevels.indexOf(e))}},{key:"contentScaleFactor",get:function(){var e=1;try{e=window.devicePixelRatio}catch(e){}return e}},{key:"mediaWidth",get:function(){var e=void 0,t=this.media;return t&&(e=t.width||t.clientWidth||t.offsetWidth,e*=this.contentScaleFactor),e}},{key:"mediaHeight",get:function(){var e=void 0,t=this.media;return t&&(e=t.height||t.clientHeight||t.offsetHeight,e*=this.contentScaleFactor),e}}]),t}(d.default);i.default=h},{"../event-handler":31,"../events":32}],10:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=e("../utils/ewma"),s=function(e){return e&&e.__esModule?e:{default:e}}(o),a=function(){function e(t,i,r,o){n(this,e),this.hls=t,this.defaultEstimate_=o,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new s.default(i),this.fast_=new s.default(r)}return r(e,[{key:"sample",value:function(e,t){e=Math.max(e,this.minDelayMs_);var i=8e3*t/e,n=e/1e3;this.fast_.sample(n,i),this.slow_.sample(n,i)}},{key:"canEstimate",value:function(){var e=this.fast_;return e&&e.getTotalWeight()>=this.minWeight_}},{key:"getEstimate",value:function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_}},{key:"destroy",value:function(){}}]),e}();i.default=a},{"../utils/ewma":48}],11:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),u=e("../events"),l=n(u),c=e("../event-handler"),d=n(c),h=e("../utils/logger"),p=function(e){function t(e){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,l.default.MEDIA_ATTACHING))}return s(t,e),a(t,[{key:"destroy",value:function(){this.timer&&clearInterval(this.timer),this.isVideoPlaybackQualityAvailable=!1}},{key:"onMediaAttaching",value:function(e){var t=this.hls.config;if(t.capLevelOnFPSDrop){"function"==typeof(this.video=e.media instanceof HTMLVideoElement?e.media:null).getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),clearInterval(this.timer),this.timer=setInterval(this.checkFPSInterval.bind(this),t.fpsDroppedMonitoringPeriod)}}},{key:"checkFPS",value:function(e,t,i){var n=performance.now();if(t){if(this.lastTime){var r=n-this.lastTime,o=i-this.lastDroppedFrames,s=t-this.lastDecodedFrames,a=1e3*o/r,u=this.hls;if(u.trigger(l.default.FPS_DROP,{currentDropped:o,currentDecoded:s,totalDroppedFrames:i}),a>0&&o>u.config.fpsDroppedMonitoringThreshold*s){var c=u.currentLevel;h.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+c),c>0&&(-1===u.autoLevelCapping||u.autoLevelCapping>=c)&&(c-=1,u.trigger(l.default.FPS_DROP_LEVEL_CAPPING,{level:c,droppedLevel:u.currentLevel}),u.autoLevelCapping=c,u.streamController.nextLevelSwitch())}}this.lastTime=n,this.lastDroppedFrames=i,this.lastDecodedFrames=t}}},{key:"checkFPSInterval",value:function(){var e=this.video;if(e)if(this.isVideoPlaybackQualityAvailable){var t=e.getVideoPlaybackQuality();this.checkFPS(e,t.totalVideoFrames,t.droppedVideoFrames)}else this.checkFPS(e,e.webkitDecodedFrameCount,e.webkitDroppedFrameCount)}}]),t}(d.default);i.default=p},{"../event-handler":31,"../events":32,"../utils/logger":49}],12:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),u=e("../events"),l=n(u),c=e("../event-handler"),d=n(c),h=e("../utils/logger"),p=e("../errors"),f=e("../helper/buffer-helper"),m=n(f),g=function(e){function t(e){r(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,l.default.MANIFEST_LOADED,l.default.LEVEL_LOADED,l.default.FRAG_LOADED,l.default.ERROR));return i.ontick=i.tick.bind(i),i._manualLevel=i._autoLevelCapping=-1,i}return s(t,e),a(t,[{key:"destroy",value:function(){this.timer&&(clearTimeout(this.timer),this.timer=null),this._manualLevel=-1}},{key:"startLoad",value:function(){this.canload=!0;var e=this._levels;e&&e.forEach(function(e){e.loadError=0;var t=e.details;t&&t.live&&(e.details=void 0)}),this.timer&&this.tick()}},{key:"stopLoad",value:function(){this.canload=!1}},{key:"onManifestLoaded",value:function(e){var t,i=[],n=[],r={},o=!1,s=!1,a=this.hls,u=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),c=function(e,t){return MediaSource.isTypeSupported(e+"/mp4;codecs="+t)};if(e.levels.forEach(function(e){e.videoCodec&&(o=!0),u&&e.audioCodec&&-1!==e.audioCodec.indexOf("mp4a.40.34")&&(e.audioCodec=void 0),(e.audioCodec||e.attrs&&e.attrs.AUDIO)&&(s=!0);var t=r[e.bitrate];void 0===t?(r[e.bitrate]=i.length,e.url=[e.url],e.urlId=0,i.push(e)):i[t].url.push(e.url)}),o&&s?i.forEach(function(e){e.videoCodec&&n.push(e)}):n=i,n=n.filter(function(e){var t=e.audioCodec,i=e.videoCodec;return(!t||c("audio",t))&&(!i||c("video",i))}),n.length){t=n[0].bitrate,n.sort(function(e,t){return e.bitrate-t.bitrate}),this._levels=n;for(var d=0;d<n.length;d++)if(n[d].bitrate===t){this._firstLevel=d,h.logger.log("manifest loaded,"+n.length+" level(s) found, first bitrate:"+t);break}a.trigger(l.default.MANIFEST_PARSED,{levels:n,firstLevel:this._firstLevel,stats:e.stats,audio:s,video:o,altAudio:e.audioTracks.length>0})}else a.trigger(l.default.ERROR,{type:p.ErrorTypes.MEDIA_ERROR,details:p.ErrorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:a.url,reason:"no level with compatible codecs found in manifest"})}},{key:"setLevelInternal",value:function(e){var t=this._levels;if(e>=0&&e<t.length){if(this.timer&&(clearTimeout(this.timer),this.timer=null),this._level!==e){h.logger.log("switching to level "+e),this._level=e;var i=t[e];i.level=e,this.hls.trigger(l.default.LEVEL_SWITCH,i)}var n=t[e],r=n.details;if(!r||!0===r.live){var o=n.urlId;this.hls.trigger(l.default.LEVEL_LOADING,{url:n.url[o],level:e,id:o})}}else this.hls.trigger(l.default.ERROR,{type:p.ErrorTypes.OTHER_ERROR,details:p.ErrorDetails.LEVEL_SWITCH_ERROR,level:e,fatal:!1,reason:"invalid level idx"})}},{key:"onError",value:function(e){if(!e.fatal){var t=e.details,i=this.hls,n=void 0,r=void 0,o=!1,s=i.abrController,a=s.minAutoLevel;switch(t){case p.ErrorDetails.FRAG_LOAD_ERROR:case p.ErrorDetails.FRAG_LOAD_TIMEOUT:case p.ErrorDetails.FRAG_LOOP_LOADING_ERROR:case p.ErrorDetails.KEY_LOAD_ERROR:case p.ErrorDetails.KEY_LOAD_TIMEOUT:n=e.frag.level;break;case p.ErrorDetails.LEVEL_LOAD_ERROR:case p.ErrorDetails.LEVEL_LOAD_TIMEOUT:n=e.context.level,o=!0;break;case p.ErrorDetails.REMUX_ALLOC_ERROR:n=e.level}if(void 0!==n){r=this._levels[n],r.loadError?r.loadError++:r.loadError=1;var u=r.url.length;if(u>1&&r.loadError<u)r.urlId=(r.urlId+1)%u,r.details=void 0,h.logger.warn("level controller,"+t+" for level "+n+": switching to redundant stream id "+r.urlId);else{if(-1===this._manualLevel&&n)h.logger.warn("level controller,"+t+": switch-down for next fragment"),s.nextAutoLevel=Math.max(a,n-1);else if(r&&r.details&&r.details.live)h.logger.warn("level controller,"+t+" on live stream, discard"),o&&(this._level=void 0);else if(t===p.ErrorDetails.LEVEL_LOAD_ERROR||t===p.ErrorDetails.LEVEL_LOAD_TIMEOUT){var c=i.media,d=c&&m.default.isBuffered(c,c.currentTime)&&m.default.isBuffered(c,c.currentTime+.5);if(d){var f=i.config.levelLoadingRetryDelay;h.logger.warn("level controller,"+t+", but media buffered, retry in "+f+"ms"),this.timer=setTimeout(this.ontick,f)}else h.logger.error("cannot recover "+t+" error"),this._level=void 0,this.timer&&(clearTimeout(this.timer),this.timer=null),e.fatal=!0,i.trigger(l.default.ERROR,e)}}}}}},{key:"onFragLoaded",value:function(e){var t=e.frag;if(t&&"main"===t.type){var i=this._levels[t.level];i&&(i.loadError=0)}}},{key:"onLevelLoaded",value:function(e){var t=e.level;if(t===this._level){var i=this._levels[t];i.loadError=0;var n=e.details;if(n.live){var r=1e3*(n.averagetargetduration?n.averagetargetduration:n.targetduration),o=i.details;o&&n.endSN===o.endSN&&(r/=2,h.logger.log("same live playlist, reload twice faster")),r-=performance.now()-e.stats.trequest,r=Math.max(1e3,Math.round(r)),h.logger.log("live playlist, reload in "+r+" ms"),this.timer=setTimeout(this.ontick,r)}else this.timer=null}}},{key:"tick",value:function(){var e=this._level;if(void 0!==e&&this.canload){var t=this._levels[e],i=t.urlId;this.hls.trigger(l.default.LEVEL_LOADING,{url:t.url[i],level:e,id:i})}}},{key:"levels",get:function(){return this._levels}},{key:"level",get:function(){return this._level},set:function(e){var t=this._levels;t&&t.length>e&&(this._level!==e||void 0===t[e].details)&&this.setLevelInternal(e)}},{key:"manualLevel",get:function(){return this._manualLevel},set:function(e){this._manualLevel=e,void 0===this._startLevel&&(this._startLevel=e),-1!==e&&(this.level=e)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(e){this._firstLevel=e}},{key:"startLevel",get:function(){if(void 0===this._startLevel){var e=this.hls.config.startLevel;return void 0!==e?e:this._firstLevel}return this._startLevel},set:function(e){-1!==e&&(e=Math.max(e,this.hls.abrController.minAutoLevel)),this._startLevel=e}},{key:"nextLoadLevel",get:function(){return-1!==this._manualLevel?this._manualLevel:this.hls.abrController.nextAutoLevel},set:function(e){this.level=e,-1===this._manualLevel&&(this.hls.abrController.nextAutoLevel=e)}}]),t}(d.default);i.default=g},{"../errors":30,"../event-handler":31,"../events":32,"../helper/buffer-helper":34,"../utils/logger":49}],13:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),u=e("../utils/binary-search"),l=n(u),c=e("../helper/buffer-helper"),d=n(c),h=e("../demux/demuxer"),p=n(h),f=e("../events"),m=n(f),g=e("../event-handler"),_=n(g),y=e("../helper/level-helper"),v=n(y),b=e("../utils/timeRanges"),A=n(b),w=e("../errors"),E=e("../utils/logger"),k={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_LEVEL:"WAITING_LEVEL",PARSING:"PARSING",PARSED:"PARSED",BUFFER_FLUSHING:"BUFFER_FLUSHING",ENDED:"ENDED",ERROR:"ERROR"},C=function(e){function t(e){r(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,m.default.MEDIA_ATTACHED,m.default.MEDIA_DETACHING,m.default.MANIFEST_LOADING,m.default.MANIFEST_PARSED,m.default.LEVEL_LOADED,m.default.KEY_LOADED,m.default.FRAG_LOADED,m.default.FRAG_LOAD_EMERGENCY_ABORTED,m.default.FRAG_PARSING_INIT_SEGMENT,m.default.FRAG_PARSING_DATA,m.default.FRAG_PARSED,m.default.ERROR,m.default.AUDIO_TRACK_SWITCHING,m.default.AUDIO_TRACK_SWITCHED,m.default.BUFFER_CREATED,m.default.BUFFER_APPENDED,m.default.BUFFER_FLUSHED));return i.config=e.config,i.audioCodecSwap=!1,i.ticks=0,i._state=k.STOPPED,i.ontick=i.tick.bind(i),i}return s(t,e),a(t,[{key:"destroy",value:function(){this.stopLoad(),this.timer&&(clearInterval(this.timer),this.timer=null),_.default.prototype.destroy.call(this),this.state=k.STOPPED}},{key:"startLoad",value:function(e){if(this.levels){var t=this.lastCurrentTime,i=this.hls;if(this.stopLoad(),this.timer||(this.timer=setInterval(this.ontick,100)),this.level=-1,this.fragLoadError=0,!this.startFragRequested){var n=i.startLevel;-1===n&&(n=0,this.bitrateTest=!0),this.level=i.nextLoadLevel=n,this.loadedmetadata=!1}t>0&&-1===e&&(E.logger.log("override startPosition with lastCurrentTime @"+t.toFixed(3)),e=t),this.state=k.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}else E.logger.warn("cannot start loading as manifest not parsed yet"),this.state=k.STOPPED}},{key:"stopLoad",value:function(){var e=this.fragCurrent;e&&(e.loader&&e.loader.abort(),this.fragCurrent=null),this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=k.STOPPED}},{key:"tick",value:function(){1===++this.ticks&&(this.doTick(),this.ticks>1&&setTimeout(this.tick,1),this.ticks=0)}},{key:"doTick",value:function(){switch(this.state){case k.ERROR:break;case k.BUFFER_FLUSHING:this.fragLoadError=0;break;case k.IDLE:if(!this._doTickIdle())return;break;case k.WAITING_LEVEL:var e=this.levels[this.level];e&&e.details&&(this.state=k.IDLE);break;case k.FRAG_LOADING_WAITING_RETRY:var t=performance.now(),i=this.retryDate;(!i||t>=i||this.media&&this.media.seeking)&&(E.logger.log("mediaController: retryDate reached, switch back to IDLE state"),this.state=k.IDLE);break;case k.ERROR:case k.STOPPED:case k.FRAG_LOADING:case k.PARSING:case k.PARSED:case k.ENDED:}this._checkBuffer(),this._checkFragmentChanged()}},{key:"_doTickIdle",value:function(){var e=this.hls,t=e.config,i=this.media;if(void 0!==this.levelLastLoaded&&!i&&(this.startFragRequested||!t.startFragPrefetch))return!0;var n=void 0;n=this.loadedmetadata?i.currentTime:this.nextLoadPosition;var r=e.nextLoadLevel,o=this.levels[r],s=o.bitrate,a=void 0;a=s?Math.max(8*t.maxBufferSize/s,t.maxBufferLength):t.maxBufferLength,a=Math.min(a,t.maxMaxBufferLength);var u=d.default.bufferInfo(this.mediaBuffer?this.mediaBuffer:i,n,t.maxBufferHole),l=u.len;if(l>=a)return!0;E.logger.trace("buffer length of "+l.toFixed(3)+" is below max of "+a.toFixed(3)+". checking for more payload ..."),this.level=e.nextLoadLevel=r;var c=o.details;if(void 0===c||c.live&&this.levelLastLoaded!==r)return this.state=k.WAITING_LEVEL,!0;var h=this.fragPrevious;if(!c.live&&h&&h.sn===c.endSN&&i.duration-Math.max(u.end,h.start)<=Math.max(.2,h.duration/2)){var p={};return this.altAudio&&(p.type="video"),this.hls.trigger(m.default.BUFFER_EOS,p),this.state=k.ENDED,!0}return this._fetchPayloadOrEos(n,u,c)}},{key:"_fetchPayloadOrEos",value:function(e,t,i){var n=this.fragPrevious,r=this.level,o=i.fragments,s=o.length;if(0===s)return!1;var a=o[0].start,u=o[s-1].start+o[s-1].duration,l=t.end,c=void 0;if(i.initSegment&&!i.initSegment.data)c=i.initSegment;else if(i.live){var d=this.config.initialLiveManifestSize;if(d>s)return E.logger.warn("Can not start playback of a level, reason: not enough fragments "+s+" < "+d),!1;if(null===(c=this._ensureFragmentAtLivePoint(i,l,a,u,n,o,s)))return!1}else a>l&&(c=o[0]);return c||(c=this._findFragment(a,n,s,o,l,u,i)),!c||this._loadFragmentOrKey(c,r,i,e,l)}},{key:"_ensureFragmentAtLivePoint",value:function(e,t,i,n,r,o,s){var a=this.hls.config,u=this.media,l=void 0,c=void 0!==a.liveMaxLatencyDuration?a.liveMaxLatencyDuration:a.liveMaxLatencyDurationCount*e.targetduration;if(t<Math.max(i-a.maxFragLookUpTolerance,n-c)){var d=this.liveSyncPosition=this.computeLivePosition(i,e);E.logger.log("buffer end: "+t.toFixed(3)+" is located too far from the end of live sliding playlist, reset currentTime to : "+d.toFixed(3)),t=d,u&&u.readyState&&u.duration>d&&(u.currentTime=d)}if(e.PTSKnown&&t>n&&u&&u.readyState)return null;if(this.startFragRequested&&!e.PTSKnown){if(r){var h=r.sn+1;h>=e.startSN&&h<=e.endSN&&(l=o[h-e.startSN],E.logger.log("live playlist, switching playlist, load frag with next SN: "+l.sn))}l||(l=o[Math.min(s-1,Math.round(s/2))],E.logger.log("live playlist, switching playlist, unknown, load middle frag : "+l.sn))}return l}},{key:"_findFragment",value:function(e,t,i,n,r,o,s){var a=this.hls.config,u=void 0,c=void 0,d=a.maxFragLookUpTolerance,h=t?n[t.sn-n[0].sn+1]:void 0,p=function(e){var t=Math.min(d,e.duration);return e.start+e.duration-t<=r?1:e.start-t>r&&e.start?-1:0};if(o>r?(r>o-d&&(d=0),c=h&&!p(h)?h:l.default.search(n,p)):c=n[i-1],c){u=c;var f=u.sn-s.startSN,m=t&&u.level===t.level,g=n[f-1],_=n[f+1];if(m&&u.sn===t.sn)if(u.sn<s.endSN){var y=t.deltaPTS;y&&y>a.maxBufferHole&&t.dropped&&f?(u=g,E.logger.warn("SN just loaded, with large PTS gap between audio and video, maybe frag is not starting with a keyframe ? load previous one to try to overcome this"),t.loadCounter--):(u=_,E.logger.log("SN just loaded, load next one: "+u.sn))}else u=null;else u.dropped&&!m&&(_&&_.backtracked?(E.logger.warn("Already backtracked from fragment "+(f+1)+", will not backtrack to fragment "+f+". Loading fragment "+(f+1)),u=_):(E.logger.warn("Loaded fragment with dropped frames, backtracking 1 segment to find a keyframe"),u.dropped=0,g&&g.loadCounter?(g.loadCounter--,u=g):u=null))}return u}},{key:"_loadFragmentOrKey",value:function(e,t,i,n,r){var o=this.hls,s=o.config;if(!e.decryptdata||null==e.decryptdata.uri||null!=e.decryptdata.key){if(E.logger.log("Loading "+e.sn+" of ["+i.startSN+" ,"+i.endSN+"],level "+t+", currentTime:"+n.toFixed(3)+",bufferEnd:"+r.toFixed(3)),void 0!==this.fragLoadIdx?this.fragLoadIdx++:this.fragLoadIdx=0,e.loadCounter){e.loadCounter++;var a=s.fragLoadingLoopThreshold;if(e.loadCounter>a&&Math.abs(this.fragLoadIdx-e.loadIdx)<a)return o.trigger(m.default.ERROR,{type:w.ErrorTypes.MEDIA_ERROR,details:w.ErrorDetails.FRAG_LOOP_LOADING_ERROR,fatal:!1,frag:e}),!1}else e.loadCounter=1;return e.loadIdx=this.fragLoadIdx,this.fragCurrent=e,this.startFragRequested=!0,isNaN(e.sn)||(this.nextLoadPosition=e.start+e.duration),e.autoLevel=o.autoLevelEnabled,e.bitrateTest=this.bitrateTest,o.trigger(m.default.FRAG_LOADING,{frag:e}),this.demuxer||(this.demuxer=new p.default(o,"main")),this.state=k.FRAG_LOADING,!0}E.logger.log("Loading key for "+e.sn+" of ["+i.startSN+" ,"+i.endSN+"],level "+t),this.state=k.KEY_LOADING,o.trigger(m.default.KEY_LOADING,{frag:e})}},{key:"getBufferRange",value:function(e){return l.default.search(this.bufferRange,function(t){return e<t.start?-1:e>t.end?1:0})}},{key:"followingBufferRange",value:function(e){return e?this.getBufferRange(e.end+.5):null}},{key:"_checkFragmentChanged",value:function(){var e,t,i=this.media;if(i&&i.readyState&&!1===i.seeking&&(t=i.currentTime,t>i.playbackRate*this.lastCurrentTime&&(this.lastCurrentTime=t),d.default.isBuffered(i,t)?e=this.getBufferRange(t):d.default.isBuffered(i,t+.1)&&(e=this.getBufferRange(t+.1)),e)){var n=e.frag;n!==this.fragPlaying&&(this.fragPlaying=n,this.hls.trigger(m.default.FRAG_CHANGED,{frag:n}))}}},{key:"immediateLevelSwitch",value:function(){if(E.logger.log("immediateLevelSwitch"),!this.immediateSwitch){this.immediateSwitch=!0;var e=this.media,t=void 0;e?(t=e.paused,e.pause()):t=!0,this.previouslyPaused=t}var i=this.fragCurrent;i&&i.loader&&i.loader.abort(),this.fragCurrent=null,this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold,this.flushMainBuffer(0,Number.POSITIVE_INFINITY)}},{key:"immediateLevelSwitchEnd",value:function(){var e=this.media;e&&e.buffered.length&&(this.immediateSwitch=!1,d.default.isBuffered(e,e.currentTime)&&(e.currentTime-=1e-4),this.previouslyPaused||e.play())}},{key:"nextLevelSwitch",value:function(){var e=this.media;if(e&&e.readyState){var t=void 0,i=void 0,n=void 0;if(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold,i=this.getBufferRange(e.currentTime),i&&i.start>1&&this.flushMainBuffer(0,i.start-1),e.paused)t=0;else{var r=this.hls.nextLoadLevel,o=this.levels[r],s=this.fragLastKbps;t=s&&this.fragCurrent?this.fragCurrent.duration*o.bitrate/(1e3*s)+1:0}if((n=this.getBufferRange(e.currentTime+t))&&(n=this.followingBufferRange(n))){var a=this.fragCurrent;a&&a.loader&&a.loader.abort(),this.fragCurrent=null,this.flushMainBuffer(n.start,Number.POSITIVE_INFINITY)}}}},{key:"flushMainBuffer",value:function(e,t){this.state=k.BUFFER_FLUSHING;var i={startOffset:e,endOffset:t};this.altAudio&&(i.type="video"),this.hls.trigger(m.default.BUFFER_FLUSHING,i)}},{key:"onMediaAttached",value:function(e){var t=this.media=this.mediaBuffer=e.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),this.onvended=this.onMediaEnded.bind(this),t.addEventListener("seeking",this.onvseeking),t.addEventListener("seeked",this.onvseeked),t.addEventListener("ended",this.onvended);var i=this.config;this.levels&&i.autoStartLoad&&this.hls.startLoad(i.startPosition)}},{key:"onMediaDetaching",value:function(){var e=this.media;e&&e.ended&&(E.logger.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0);var t=this.levels;t&&t.forEach(function(e){e.details&&e.details.fragments.forEach(function(e){e.loadCounter=void 0,e.backtracked=void 0})}),e&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("seeked",this.onvseeked),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.stopLoad()}},{key:"onMediaSeeking",value:function(){var e=this.media,t=e?e.currentTime:void 0,i=this.config;if(E.logger.log("media seeking to "+t.toFixed(3)),this.state===k.FRAG_LOADING){var n=this.mediaBuffer?this.mediaBuffer:e,r=d.default.bufferInfo(n,t,this.config.maxBufferHole),o=this.fragCurrent;if(0===r.len&&o){var s=i.maxFragLookUpTolerance,a=o.start-s,u=o.start+o.duration+s;a>t||t>u?(o.loader&&(E.logger.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),o.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.state=k.IDLE):E.logger.log("seeking outside of buffer but within currently loaded fragment range")}}else this.state===k.ENDED&&(this.state=k.IDLE);e&&(this.lastCurrentTime=t),this.state!==k.FRAG_LOADING&&void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*i.fragLoadingLoopThreshold),this.loadedmetadata||(this.nextLoadPosition=this.startPosition=t),this.tick()}},{key:"onMediaSeeked",value:function(){E.logger.log("media seeked to "+this.media.currentTime.toFixed(3)),this.tick()}},{key:"onMediaEnded",value:function(){E.logger.log("media ended"),this.startPosition=this.lastCurrentTime=0}},{key:"onManifestLoading",value:function(){E.logger.log("trigger BUFFER_RESET"),this.hls.trigger(m.default.BUFFER_RESET),this.bufferRange=[],this.stalled=!1,this.startPosition=this.lastCurrentTime=0}},{key:"onManifestParsed",value:function(e){var t,i=!1,n=!1;e.levels.forEach(function(e){(t=e.audioCodec)&&(-1!==t.indexOf("mp4a.40.2")&&(i=!0),-1!==t.indexOf("mp4a.40.5")&&(n=!0))}),this.audioCodecSwitch=i&&n,this.audioCodecSwitch&&E.logger.log("both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=e.levels,this.startLevelLoaded=!1,this.startFragRequested=!1;var r=this.config;r.autoStartLoad&&this.hls.startLoad(r.startPosition)}},{key:"onLevelLoaded",value:function(e){var t=e.details,i=e.level,n=this.levels[i],r=t.totalduration,o=0;if(E.logger.log("level "+i+" loaded ["+t.startSN+","+t.endSN+"],duration:"+r),this.levelLastLoaded=i,t.live){var s=n.details;s&&t.fragments.length>0?(v.default.mergeDetails(s,t),o=t.fragments[0].start,this.liveSyncPosition=this.computeLivePosition(o,s),t.PTSKnown?E.logger.log("live playlist sliding:"+o.toFixed(3)):E.logger.log("live playlist - outdated PTS, unknown sliding")):(t.PTSKnown=!1,E.logger.log("live playlist - first load, unknown sliding"))}else t.PTSKnown=!1;if(n.details=t,this.hls.trigger(m.default.LEVEL_UPDATED,{details:t,level:i}),!1===this.startFragRequested){if(-1===this.startPosition||-1===this.lastCurrentTime){var a=t.startTimeOffset;isNaN(a)?t.live?(this.startPosition=this.computeLivePosition(o,t),E.logger.log("configure startPosition to "+this.startPosition)):this.startPosition=0:(0>a&&(E.logger.log("negative start time offset "+a+", count from end of last fragment"),a=o+r+a),E.logger.log("start time offset found in playlist, adjust startPosition to "+a),this.startPosition=a),this.lastCurrentTime=this.startPosition}this.nextLoadPosition=this.startPosition}this.state===k.WAITING_LEVEL&&(this.state=k.IDLE),this.tick()}},{key:"onKeyLoaded",value:function(){this.state===k.KEY_LOADING&&(this.state=k.IDLE,this.tick())}},{key:"onFragLoaded",value:function(e){var t=this.fragCurrent,i=e.frag;if(this.state===k.FRAG_LOADING&&t&&"main"===i.type&&i.level===t.level&&i.sn===t.sn){var n=e.stats,r=this.levels[t.level],o=r.details;if(E.logger.log("Loaded  "+t.sn+" of ["+o.startSN+" ,"+o.endSN+"],level "+t.level),this.bitrateTest=!1,this.stats=n,!0===i.bitrateTest&&this.hls.nextLoadLevel)this.state=k.IDLE,this.startFragRequested=!1,n.tparsed=n.tbuffered=performance.now(),this.hls.trigger(m.default.FRAG_BUFFERED,{stats:n,frag:t,id:"main"}),
this.tick();else if("initSegment"===i.sn)this.state=k.IDLE,n.tparsed=n.tbuffered=performance.now(),o.initSegment.data=e.payload,this.hls.trigger(m.default.FRAG_BUFFERED,{stats:n,frag:t,id:"main"}),this.tick();else{this.state=k.PARSING;var s=o.totalduration,a=isNaN(t.startDTS)?t.start:t.startDTS,u=t.level,l=t.sn,c=this.config.defaultAudioCodec||r.audioCodec;this.audioCodecSwap&&(E.logger.log("swapping playlist audio codec"),void 0===c&&(c=this.lastAudioCodec),c&&(c=-1!==c.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5")),this.pendingBuffering=!0,this.appended=!1,E.logger.log("Parsing "+l+" of ["+o.startSN+" ,"+o.endSN+"],level "+u+", cc "+t.cc);var d=this.demuxer;d||(d=this.demuxer=new p.default(this.hls,"main"));var h=this.media,f=h&&h.seeking,g=!f&&(o.PTSKnown||!o.live),_=o.initSegment?o.initSegment.data:[];d.push(e.payload,_,c,r.videoCodec,a,t.cc,u,l,s,t.decryptdata,g,void 0)}}this.fragLoadError=0}},{key:"onFragParsingInitSegment",value:function(e){var t=this.fragCurrent;if(t&&"main"===e.id&&e.sn===t.sn&&e.level===t.level&&this.state===k.PARSING){var i,n,r=e.tracks;if(r.audio&&this.altAudio&&delete r.audio,n=r.audio){var o=this.levels[this.level].audioCodec,s=navigator.userAgent.toLowerCase();o&&this.audioCodecSwap&&(E.logger.log("swapping playlist audio codec"),o=-1!==o.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),this.audioCodecSwitch&&1!==n.metadata.channelCount&&-1===s.indexOf("firefox")&&(o="mp4a.40.5"),-1!==s.indexOf("android")&&"audio/mpeg"!==n.container&&(o="mp4a.40.2",E.logger.log("Android: force audio codec to "+o)),n.levelCodec=o,n.id=e.id}if(n=r.video,n&&(n.levelCodec=this.levels[this.level].videoCodec,n.id=e.id),e.unique){var a={codec:"",levelCodec:""};for(i in e.tracks)n=r[i],a.container=n.container,a.codec&&(a.codec+=",",a.levelCodec+=","),n.codec&&(a.codec+=n.codec),n.levelCodec&&(a.levelCodec+=n.levelCodec);r={audiovideo:a}}this.hls.trigger(m.default.BUFFER_CODECS,r);for(i in r){n=r[i],E.logger.log("main track:"+i+",container:"+n.container+",codecs[level/parsed]=["+n.levelCodec+"/"+n.codec+"]");var u=n.initSegment;u&&(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(m.default.BUFFER_APPENDING,{type:i,data:u,parent:"main",content:"initSegment"}))}this.tick()}}},{key:"onFragParsingData",value:function(e){var t=this,i=this.fragCurrent;if(i&&"main"===e.id&&e.sn===i.sn&&e.level===i.level&&("audio"!==e.type||!this.altAudio)&&this.state===k.PARSING){var n=this.levels[this.level],r=this.fragCurrent;if(isNaN(e.endPTS)&&(e.endPTS=e.startPTS+i.duration,e.endDTS=e.startDTS+i.duration),E.logger.log("Parsed "+e.type+",PTS:["+e.startPTS.toFixed(3)+","+e.endPTS.toFixed(3)+"],DTS:["+e.startDTS.toFixed(3)+"/"+e.endDTS.toFixed(3)+"],nb:"+e.nb+",dropped:"+(e.dropped||0)),"video"===e.type)if(r.dropped=e.dropped,r.dropped){if(!r.backtracked)return r.backtracked=!0,this.nextLoadPosition=e.startPTS,this.state=k.IDLE,void this.tick();E.logger.warn("Already backtracked on this fragment, appending with the gap")}else r.backtracked=!1;var o=v.default.updateFragPTSDTS(n.details,r.sn,e.startPTS,e.endPTS,e.startDTS,e.endDTS),s=this.hls;s.trigger(m.default.LEVEL_PTS_UPDATED,{details:n.details,level:this.level,drift:o,type:e.type,start:e.startPTS,end:e.endPTS}),[e.data1,e.data2].forEach(function(i){i&&i.length&&t.state===k.PARSING&&(t.appended=!0,t.pendingBuffering=!0,s.trigger(m.default.BUFFER_APPENDING,{type:e.type,data:i,parent:"main",content:"data"}))}),this.tick()}}},{key:"onFragParsed",value:function(e){var t=this.fragCurrent;t&&"main"===e.id&&e.sn===t.sn&&e.level===t.level&&this.state===k.PARSING&&(this.stats.tparsed=performance.now(),this.state=k.PARSED,this._checkAppendedParsed())}},{key:"onAudioTrackSwitching",value:function(e){var t=!!e.url,i=e.id;if(!t){if(this.mediaBuffer!==this.media){E.logger.log("switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var n=this.fragCurrent;n.loader&&(E.logger.log("switching to main audio track, cancel main fragment load"),n.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=k.IDLE}var r=this.hls;r.trigger(m.default.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),r.trigger(m.default.AUDIO_TRACK_SWITCHED,{id:i}),this.altAudio=!1}}},{key:"onAudioTrackSwitched",value:function(e){var t=e.id,i=!!this.hls.audioTracks[t].url;if(i){var n=this.videoBuffer;n&&this.mediaBuffer!==n&&(E.logger.log("switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=n)}this.altAudio=i,this.tick()}},{key:"onBufferCreated",value:function(e){var t=e.tracks,i=void 0,n=void 0,r=!1;for(var o in t){var s=t[o];"main"===s.id?(n=o,i=s,"video"===o&&(this.videoBuffer=t[o].buffer)):r=!0}r&&i?(E.logger.log("alternate track found, use "+n+".buffered to schedule main fragment loading"),this.mediaBuffer=i.buffer):this.mediaBuffer=this.media}},{key:"onBufferAppended",value:function(e){if("main"===e.parent){var t=this.state;(t===k.PARSING||t===k.PARSED)&&(this.pendingBuffering=e.pending>0,this._checkAppendedParsed())}}},{key:"_checkAppendedParsed",value:function(){if(!(this.state!==k.PARSED||this.appended&&this.pendingBuffering)){var e=this.fragCurrent;if(e){var t=this.mediaBuffer?this.mediaBuffer:this.media;E.logger.log("main buffered : "+A.default.toString(t.buffered));var i=this.bufferRange.filter(function(e){return d.default.isBuffered(t,(e.start+e.end)/2)});i.push({type:e.type,start:e.startPTS,end:e.endPTS,frag:e}),this.bufferRange=i.sort(function(e,t){return e.start-t.start}),this.fragPrevious=e;var n=this.stats;n.tbuffered=performance.now(),this.fragLastKbps=Math.round(8*n.total/(n.tbuffered-n.tfirst)),this.hls.trigger(m.default.FRAG_BUFFERED,{stats:n,frag:e,id:"main"}),this.state=k.IDLE}this.tick()}}},{key:"onError",value:function(e){var t=e.frag||this.fragCurrent;if(!t||"main"===t.type){var i=this.media,n=i&&d.default.isBuffered(i,i.currentTime)&&d.default.isBuffered(i,i.currentTime+.5);switch(e.details){case w.ErrorDetails.FRAG_LOAD_ERROR:case w.ErrorDetails.FRAG_LOAD_TIMEOUT:case w.ErrorDetails.KEY_LOAD_ERROR:case w.ErrorDetails.KEY_LOAD_TIMEOUT:if(!e.fatal){var r=this.fragLoadError;r?r++:r=1;var o=this.config;if(r<=o.fragLoadingMaxRetry||n||t.autoLevel&&t.level){this.fragLoadError=r,t.loadCounter=0;var s=Math.min(Math.pow(2,r-1)*o.fragLoadingRetryDelay,o.fragLoadingMaxRetryTimeout);E.logger.warn("mediaController: frag loading failed, retry in "+s+" ms"),this.retryDate=performance.now()+s,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.state=k.FRAG_LOADING_WAITING_RETRY}else E.logger.error("mediaController: "+e.details+" reaches max retry, redispatch as fatal ..."),e.fatal=!0,this.hls.trigger(m.default.ERROR,e),this.state=k.ERROR}break;case w.ErrorDetails.FRAG_LOOP_LOADING_ERROR:e.fatal||(n?(this._reduceMaxBufferLength(t.duration),this.state=k.IDLE):t.autoLevel&&0!==t.level||(e.fatal=!0,this.hls.trigger(m.default.ERROR,e),this.state=k.ERROR));break;case w.ErrorDetails.LEVEL_LOAD_ERROR:case w.ErrorDetails.LEVEL_LOAD_TIMEOUT:this.state!==k.ERROR&&(e.fatal?(this.state=k.ERROR,E.logger.warn("streamController: "+e.details+",switch to "+this.state+" state ...")):this.state===k.WAITING_LEVEL&&(this.state=k.IDLE));break;case w.ErrorDetails.BUFFER_FULL_ERROR:"main"!==e.parent||this.state!==k.PARSING&&this.state!==k.PARSED||(n?(this._reduceMaxBufferLength(this.config.maxBufferLength),this.state=k.IDLE):(E.logger.warn("buffer full error also media.currentTime is not buffered, flush everything"),this.fragCurrent=null,this.flushMainBuffer(0,Number.POSITIVE_INFINITY)))}}}},{key:"_reduceMaxBufferLength",value:function(e){var t=this.config;t.maxMaxBufferLength>=e&&(t.maxMaxBufferLength/=2,E.logger.warn("main:reduce max buffer length to "+t.maxMaxBufferLength+"s"),this.fragLoadIdx+=2*t.fragLoadingLoopThreshold)}},{key:"_checkBuffer",value:function(){var e=this.media;if(e&&e.readyState){var t=e.currentTime,i=this.mediaBuffer?this.mediaBuffer:e,n=i.buffered;if(this.loadedmetadata||!n.length||e.seeking)if(this.immediateSwitch)this.immediateLevelSwitchEnd();else{var r=d.default.bufferInfo(e,t,0),o=!(e.paused||e.ended||0===e.buffered.length),s=t!==this.lastCurrentTime,a=this.config;if(s)this.stallReported&&(E.logger.warn("playback not stuck anymore @"+t+", after "+Math.round(performance.now()-this.stalled)+"ms"),this.stallReported=!1),this.stalled=void 0,this.nudgeRetry=0;else if(o){var u=performance.now(),l=this.hls;if(this.stalled){var c=u-this.stalled,h=r.len,p=this.nudgeRetry||0;if(.5>=h&&c>1e3*a.lowBufferWatchdogPeriod){this.stallReported||(this.stallReported=!0,E.logger.warn("playback stalling in low buffer @"+t),l.trigger(m.default.ERROR,{type:w.ErrorTypes.MEDIA_ERROR,details:w.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!1,buffer:h}));var f=r.nextStart,g=f-t;if(f&&g<a.maxSeekHole&&g>0){this.nudgeRetry=++p;var _=p*a.nudgeOffset;E.logger.log("adjust currentTime from "+e.currentTime+" to next buffered @ "+f+" + nudge "+_),e.currentTime=f+_,this.stalled=void 0,l.trigger(m.default.ERROR,{type:w.ErrorTypes.MEDIA_ERROR,details:w.ErrorDetails.BUFFER_SEEK_OVER_HOLE,fatal:!1,hole:f+_-t})}}else if(h>.5&&c>1e3*a.highBufferWatchdogPeriod)if(this.stallReported||(this.stallReported=!0,E.logger.warn("playback stalling in high buffer @"+t),l.trigger(m.default.ERROR,{type:w.ErrorTypes.MEDIA_ERROR,details:w.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!1,buffer:h})),this.stalled=void 0,this.nudgeRetry=++p,p<a.nudgeMaxRetry){var y=e.currentTime,v=y+p*a.nudgeOffset;E.logger.log("adjust currentTime from "+y+" to "+v),e.currentTime=v,l.trigger(m.default.ERROR,{type:w.ErrorTypes.MEDIA_ERROR,details:w.ErrorDetails.BUFFER_NUDGE_ON_STALL,fatal:!1})}else E.logger.error("still stuck in high buffer @"+t+" after "+a.nudgeMaxRetry+", raise fatal error"),l.trigger(m.default.ERROR,{type:w.ErrorTypes.MEDIA_ERROR,details:w.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!0})}else this.stalled=u,this.stallReported=!1}}else{this.loadedmetadata=!0;var b=this.startPosition,A=d.default.isBuffered(i,b);t===b&&A||(E.logger.log("target start position:"+b),A||(b=n.start(0),E.logger.log("target start position not buffered, seek to buffered.start(0) "+b)),E.logger.log("adjust currentTime from "+t+" to "+b),e.currentTime=b)}}}},{key:"onFragLoadEmergencyAborted",value:function(){this.state=k.IDLE,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tick()}},{key:"onBufferFlushed",value:function(){var e=this.mediaBuffer?this.mediaBuffer:this.media;this.bufferRange=this.bufferRange.filter(function(t){return d.default.isBuffered(e,(t.start+t.end)/2)}),this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold,this.state=k.IDLE,this.fragPrevious=null}},{key:"swapAudioCodec",value:function(){this.audioCodecSwap=!this.audioCodecSwap}},{key:"computeLivePosition",value:function(e,t){var i=void 0!==this.config.liveSyncDuration?this.config.liveSyncDuration:this.config.liveSyncDurationCount*t.targetduration;return e+Math.max(0,t.totalduration-i)}},{key:"state",set:function(e){if(this.state!==e){var t=this.state;this._state=e,E.logger.log("main stream:"+t+"->"+e),this.hls.trigger(m.default.STREAM_STATE_TRANSITION,{previousState:t,nextState:e})}},get:function(){return this._state}},{key:"currentLevel",get:function(){var e=this.media;if(e){var t=this.getBufferRange(e.currentTime);if(t)return t.frag.level}return-1}},{key:"nextBufferRange",get:function(){var e=this.media;return e?this.followingBufferRange(this.getBufferRange(e.currentTime)):null}},{key:"nextLevel",get:function(){var e=this.nextBufferRange;return e?e.frag.level:-1}},{key:"liveSyncPosition",get:function(){return this._liveSyncPosition},set:function(e){this._liveSyncPosition=e}}]),t}(_.default);i.default=C},{"../demux/demuxer":25,"../errors":30,"../event-handler":31,"../events":32,"../helper/buffer-helper":34,"../helper/level-helper":35,"../utils/binary-search":45,"../utils/logger":49,"../utils/timeRanges":50}],14:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),u=e("../events"),l=n(u),c=e("../event-handler"),d=n(c),h=e("../utils/logger"),p=function(e){function t(e){r(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,l.default.ERROR,l.default.SUBTITLE_TRACKS_UPDATED,l.default.SUBTITLE_TRACK_SWITCH,l.default.SUBTITLE_TRACK_LOADED,l.default.SUBTITLE_FRAG_PROCESSED));return i.config=e.config,i.vttFragSNsProcessed={},i.vttFragQueues=void 0,i.currentlyProcessing=null,i.currentTrackId=-1,i}return s(t,e),a(t,[{key:"destroy",value:function(){d.default.prototype.destroy.call(this)}},{key:"clearVttFragQueues",value:function(){var e=this;this.vttFragQueues={},this.tracks.forEach(function(t){e.vttFragQueues[t.id]=[]})}},{key:"nextFrag",value:function(){if(null===this.currentlyProcessing&&this.currentTrackId>-1&&this.vttFragQueues[this.currentTrackId].length){var e=this.currentlyProcessing=this.vttFragQueues[this.currentTrackId].shift();this.hls.trigger(l.default.FRAG_LOADING,{frag:e})}}},{key:"onSubtitleFragProcessed",value:function(e){e.success&&this.vttFragSNsProcessed[e.frag.trackId].push(e.frag.sn),this.currentlyProcessing=null,this.nextFrag()}},{key:"onError",value:function(e){var t=e.frag;t&&"subtitle"!==t.type||this.currentlyProcessing&&(this.currentlyProcessing=null,this.nextFrag())}},{key:"onSubtitleTracksUpdated",value:function(e){var t=this;h.logger.log("subtitle tracks updated"),this.tracks=e.subtitleTracks,this.clearVttFragQueues(),this.vttFragSNsProcessed={},this.tracks.forEach(function(e){t.vttFragSNsProcessed[e.id]=[]})}},{key:"onSubtitleTrackSwitch",value:function(e){this.currentTrackId=e.id,this.clearVttFragQueues()}},{key:"onSubtitleTrackLoaded",value:function(e){var t=this.vttFragSNsProcessed[e.id],i=this.vttFragQueues[e.id],n=this.currentlyProcessing?this.currentlyProcessing.sn:-1,r=function(e){return t.indexOf(e.sn)>-1},o=function(e){return i.some(function(t){return t.sn===e.sn})};e.details.fragments.forEach(function(t){r(t)||t.sn===n||o(t)||(t.trackId=e.id,i.push(t))}),this.nextFrag()}}]),t}(d.default);i.default=p},{"../event-handler":31,"../events":32,"../utils/logger":49}],15:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),u=e("../events"),l=n(u),c=e("../event-handler"),d=n(c),h=e("../utils/logger"),p=function(e){function t(e){r(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,l.default.MEDIA_ATTACHED,l.default.MEDIA_DETACHING,l.default.MANIFEST_LOADING,l.default.MANIFEST_LOADED,l.default.SUBTITLE_TRACK_LOADED));return i.tracks=[],i.trackId=-1,i.media=void 0,i}return s(t,e),a(t,[{key:"destroy",value:function(){d.default.prototype.destroy.call(this)}},{key:"onMediaAttached",value:function(e){var t=this;this.media=e.media,this.media&&this.media.textTracks.addEventListener("change",function(){if(t.media){for(var e=-1,i=t.media.textTracks,n=0;n<i.length;n++)"showing"===i[n].mode&&(e=n);t.subtitleTrack=e}})}},{key:"onMediaDetaching",value:function(){this.media=void 0}},{key:"onManifestLoading",value:function(){this.tracks=[],this.trackId=-1}},{key:"onManifestLoaded",value:function(e){var t=this,i=e.subtitles||[],n=!1;this.tracks=i,this.trackId=-1,this.hls.trigger(l.default.SUBTITLE_TRACKS_UPDATED,{subtitleTracks:i}),i.forEach(function(e){e.default&&(t.subtitleTrack=e.id,n=!0)})}},{key:"onTick",value:function(){var e=this.trackId,t=this.tracks[e];if(t){var i=t.details;(void 0===i||!0===i.live)&&(h.logger.log("(re)loading playlist for subtitle track "+e),this.hls.trigger(l.default.SUBTITLE_TRACK_LOADING,{url:t.url,id:e}))}}},{key:"onSubtitleTrackLoaded",value:function(e){var t=this;e.id<this.tracks.length&&(h.logger.log("subtitle track "+e.id+" loaded"),this.tracks[e.id].details=e.details,e.details.live&&!this.timer&&(this.timer=setInterval(function(){t.onTick()},1e3*e.details.targetduration,this)),!e.details.live&&this.timer&&(clearInterval(this.timer),this.timer=null))}},{key:"setSubtitleTrackInternal",value:function(e){if(e>=0&&e<this.tracks.length){this.timer&&(clearInterval(this.timer),this.timer=null),this.trackId=e,h.logger.log("switching to subtitle track "+e);var t=this.tracks[e];this.hls.trigger(l.default.SUBTITLE_TRACK_SWITCH,{id:e});var i=t.details;(void 0===i||!0===i.live)&&(h.logger.log("(re)loading playlist for subtitle track "+e),this.hls.trigger(l.default.SUBTITLE_TRACK_LOADING,{url:t.url,id:e}))}}},{key:"subtitleTracks",get:function(){return this.tracks}},{key:"subtitleTrack",get:function(){return this.trackId},set:function(e){this.trackId!==e&&this.setSubtitleTrackInternal(e)}}]),t}(d.default);i.default=p},{"../event-handler":31,"../events":32,"../utils/logger":49}],16:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){if(e&&e.cues)for(;e.cues.length>0;)e.removeCue(e.cues[0])}function u(e,t){return e&&e.label===t.name&&!(e.textTrack1||e.textTrack2)}function l(e,t,i,n){return Math.min(t,n)-Math.max(e,i)}Object.defineProperty(i,"__esModule",{value:!0});var c=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),d=e("../events"),h=n(d),p=e("../event-handler"),f=n(p),m=e("../utils/cea-608-parser"),g=n(m),_=e("../utils/webvtt-parser"),y=n(_),v=e("../utils/logger"),b=function(e){function t(e){r(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,h.default.MEDIA_ATTACHING,h.default.MEDIA_DETACHING,h.default.FRAG_PARSING_USERDATA,h.default.MANIFEST_LOADING,h.default.MANIFEST_LOADED,h.default.FRAG_LOADED,h.default.LEVEL_SWITCH,h.default.INIT_PTS_FOUND));if(i.hls=e,i.config=e.config,i.enabled=!0,i.Cues=e.config.cueHandler,i.textTracks=[],i.tracks=[],i.unparsedVttFrags=[],i.initPTS=void 0,i.cueRanges=[],i.config.enableCEA708Captions){var n=i,s=function(e,t){var i=null;try{i=new window.Event("addtrack")}catch(e){i=document.createEvent("Event"),i.initEvent("addtrack",!1,!1)}i.track=e,t.dispatchEvent(i)},a={newCue:function(e,t,i){if(!n.textTrack1){var r=n.getExistingTrack("1");r?(n.textTrack1=r,n.clearCurrentCues(n.textTrack1),s(n.textTrack1,n.media)):(n.textTrack1=n.createTextTrack("captions","English","en"),n.textTrack1.textTrack1=!0)}n.addCues("textTrack1",e,t,i)}},u={newCue:function(e,t,i){if(!n.textTrack2){var r=n.getExistingTrack("2");r?(n.textTrack2=r,s(n.textTrack2,n.media)):(n.textTrack2=n.createTextTrack("captions","Spanish","es"),n.textTrack2.textTrack2=!0)}n.addCues("textTrack2",e,t,i)}};i.cea608Parser=new g.default(0,a,u)}return i}return s(t,e),c(t,[{key:"addCues",value:function(e,t,i,n){for(var r=this.cueRanges,o=!1,s=r.length;s--;){var a=r[s],u=l(a[0],a[1],t,i);if(u>=0&&(a[0]=Math.min(a[0],t),a[1]=Math.max(a[1],i),o=!0,u/(i-t)>.5))return}o||r.push([t,i]),this.Cues.newCue(this[e],t,i,n)}},{key:"onInitPtsFound",value:function(e){var t=this;void 0===this.initPTS&&(this.initPTS=e.initPTS),this.unparsedVttFrags.length&&(this.unparsedVttFrags.forEach(function(e){t.onFragLoaded(e)}),this.unparsedVttFrags=[])}},{key:"getExistingTrack",value:function(e){var t=this.media;if(t)for(var i=0;i<t.textTracks.length;i++){var n=t.textTracks[i],r="textTrack"+e;if(!0===n[r])return n}return null}},{key:"createTextTrack",value:function(e,t,i){return this.media?this.media.addTextTrack(e,t,i):void 0}},{key:"destroy",value:function(){f.default.prototype.destroy.call(this)}},{key:"onMediaAttaching",value:function(e){this.media=e.media}},{key:"onMediaDetaching",value:function(){a(this.textTrack1),a(this.textTrack2)}},{key:"onManifestLoading",value:function(){this.lastSn=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0}}},{key:"onManifestLoaded",value:function(e){var t=this;if(this.textTracks=[],this.unparsedVttFrags=this.unparsedVttFrags||[],this.initPTS=void 0,this.cueRanges=[],this.config.enableWebVTT){this.tracks=e.subtitles||[];var i=this.media?this.media.textTracks:[];this.tracks.forEach(function(e,n){var r=void 0,o=i[n];r=u(o,e)?o:t.createTextTrack("subtitles",e.name,e.lang),r.mode=e.default?"showing":"hidden",t.textTracks.push(r)})}}},{key:"onLevelSwitch",value:function(){this.enabled="NONE"!==this.hls.currentLevel.closedCaptions}},{key:"onFragLoaded",value:function(e){var t=e.frag,i=e.payload;if("main"===t.type){var n=t.sn;n!==this.lastSn+1&&this.cea608Parser.reset(),this.lastSn=n}else if("subtitle"===t.type)if(i.byteLength){if(void 0===this.initPTS)return void this.unparsedVttFrags.push(e);var r=this.vttCCs;r[t.cc]||(r[t.cc]={start:t.start,prevCC:this.prevCC,new:!0},this.prevCC=t.cc);var o=this.textTracks,s=this.hls;y.default.parse(i,this.initPTS,r,t.cc,function(e){e.forEach(function(e){o[t.trackId].addCue(e)}),s.trigger(h.default.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:t})},function(e){v.logger.log("Failed to parse VTT cue: "+e),s.trigger(h.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:t})})}else this.hls.trigger(h.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:t})}},{key:"onFragParsingUserdata",value:function(e){if(this.enabled&&this.config.enableCEA708Captions)for(var t=0;t<e.samples.length;t++){var i=this.extractCea608Data(e.samples[t].bytes);this.cea608Parser.addData(e.samples[t].pts,i)}}},{key:"extractCea608Data",value:function(e){for(var t,i,n,r,o,s=31&e[0],a=2,u=[],l=0;s>l;l++)t=e[a++],i=127&e[a++],n=127&e[a++],r=0!=(4&t),o=3&t,(0!==i||0!==n)&&r&&0===o&&(u.push(i),u.push(n));return u}}]),t}(f.default);i.default=b},{"../event-handler":31,"../events":32,"../utils/cea-608-parser":46,"../utils/logger":49,"../utils/webvtt-parser":53}],17:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=function(){function e(t,i){n(this,e),this.subtle=t,this.aesIV=i}return r(e,[{key:"decrypt",value:function(e,t){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},t,e)}}]),e}();i.default=o},{}],18:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=function(){function e(){n(this,e),this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[],this.subMix[0]=new Uint32Array(256),this.subMix[1]=new Uint32Array(256),this.subMix[2]=new Uint32Array(256),this.subMix[3]=new Uint32Array(256),this.invSubMix=[],this.invSubMix[0]=new Uint32Array(256),this.invSubMix[1]=new Uint32Array(256),this.invSubMix[2]=new Uint32Array(256),this.invSubMix[3]=new Uint32Array(256),this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.initTable()}return r(e,[{key:"uint8ArrayToUint32Array_",value:function(e){for(var t=new DataView(e),i=new Uint32Array(4),n=0;n<i.length;n++)i[n]=t.getUint32(4*n);return i}},{key:"initTable",value:function(){var e=this.sBox,t=this.invSBox,i=this.subMix[0],n=this.subMix[1],r=this.subMix[2],o=this.subMix[3],s=this.invSubMix[0],a=this.invSubMix[1],u=this.invSubMix[2],l=this.invSubMix[3],c=new Uint32Array(256),d=0,h=0,p=0;for(p=0;256>p;p++)c[p]=128>p?p<<1:p<<1^283;for(p=0;256>p;p++){var f=h^h<<1^h<<2^h<<3^h<<4;f=f>>>8^255&f^99,e[d]=f,t[f]=d;var m=c[d],g=c[m],_=c[g],y=257*c[f]^16843008*f;i[d]=y<<24|y>>>8,n[d]=y<<16|y>>>16,r[d]=y<<8|y>>>24,o[d]=y,y=16843009*_^65537*g^257*m^16843008*d,s[f]=y<<24|y>>>8,a[f]=y<<16|y>>>16,u[f]=y<<8|y>>>24,l[f]=y,d?(d=m^c[c[c[_^m]]],h^=c[c[h]]):d=h=1}}},{key:"expandKey",value:function(e){for(var t=this.uint8ArrayToUint32Array_(e),i=!0,n=0;n<t.length&&i;)i=t[n]===this.key[n],n++;if(!i){this.key=t;var r=this.keySize=t.length;if(4!==r&&6!==r&&8!==r)throw new Error("Invalid aes key size="+r);var o=this.ksRows=4*(r+6+1),s=void 0,a=void 0,u=this.keySchedule=new Uint32Array(this.ksRows),l=this.invKeySchedule=new Uint32Array(this.ksRows),c=this.sBox,d=this.rcon,h=this.invSubMix[0],p=this.invSubMix[1],f=this.invSubMix[2],m=this.invSubMix[3],g=void 0,_=void 0;for(s=0;o>s;s++)r>s?g=u[s]=t[s]:(_=g,s%r==0?(_=_<<8|_>>>24,_=c[_>>>24]<<24|c[_>>>16&255]<<16|c[_>>>8&255]<<8|c[255&_],_^=d[s/r|0]<<24):r>6&&s%r==4&&(_=c[_>>>24]<<24|c[_>>>16&255]<<16|c[_>>>8&255]<<8|c[255&_]),u[s]=g=(u[s-r]^_)>>>0);for(a=0;o>a;a++)s=o-a,_=3&a?u[s]:u[s-4],l[a]=4>a||4>=s?_:h[c[_>>>24]]^p[c[_>>>16&255]]^f[c[_>>>8&255]]^m[c[255&_]],l[a]=l[a]>>>0}}},{key:"networkToHostOrderSwap",value:function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24}},{key:"decrypt",value:function(e,t,i){for(var n,r,o=this.keySize+6,s=this.invKeySchedule,a=this.invSBox,u=this.invSubMix[0],l=this.invSubMix[1],c=this.invSubMix[2],d=this.invSubMix[3],h=this.uint8ArrayToUint32Array_(i),p=h[0],f=h[1],m=h[2],g=h[3],_=new Int32Array(e),y=new Int32Array(_.length),v=void 0,b=void 0,A=void 0,w=void 0,E=void 0,k=void 0,C=void 0,T=void 0,x=void 0,S=void 0,O=void 0,P=void 0;t<_.length;){for(x=this.networkToHostOrderSwap(_[t]),S=this.networkToHostOrderSwap(_[t+1]),O=this.networkToHostOrderSwap(_[t+2]),P=this.networkToHostOrderSwap(_[t+3]),E=x^s[0],k=P^s[1],C=O^s[2],T=S^s[3],n=4,r=1;o>r;r++)v=u[E>>>24]^l[k>>16&255]^c[C>>8&255]^d[255&T]^s[n],b=u[k>>>24]^l[C>>16&255]^c[T>>8&255]^d[255&E]^s[n+1],A=u[C>>>24]^l[T>>16&255]^c[E>>8&255]^d[255&k]^s[n+2],w=u[T>>>24]^l[E>>16&255]^c[k>>8&255]^d[255&C]^s[n+3],E=v,k=b,C=A,T=w,n+=4;v=a[E>>>24]<<24^a[k>>16&255]<<16^a[C>>8&255]<<8^a[255&T]^s[n],b=a[k>>>24]<<24^a[C>>16&255]<<16^a[T>>8&255]<<8^a[255&E]^s[n+1],A=a[C>>>24]<<24^a[T>>16&255]<<16^a[E>>8&255]<<8^a[255&k]^s[n+2],w=a[T>>>24]<<24^a[E>>16&255]<<16^a[k>>8&255]<<8^a[255&C]^s[n+3],n+=3,y[t]=this.networkToHostOrderSwap(v^p),y[t+1]=this.networkToHostOrderSwap(w^f),y[t+2]=this.networkToHostOrderSwap(A^m),y[t+3]=this.networkToHostOrderSwap(b^g),p=x,f=S,m=O,g=P,t+=4}return y.buffer}},{key:"destroy",value:function(){this.key=void 0,this.keySize=void 0,this.ksRows=void 0,this.sBox=void 0,this.invSBox=void 0,this.subMix=void 0,this.invSubMix=void 0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.rcon=void 0}}]),e}();i.default=o},{}],19:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=e("./aes-crypto"),a=n(s),u=e("./fast-aes-key"),l=n(u),c=e("./aes-decryptor"),d=n(c),h=e("../errors"),p=e("../utils/logger"),f=function(){function e(t,i){r(this,e),this.observer=t,this.config=i;try{var n=crypto||self.crypto;this.subtle=n.subtle||n.webkitSubtle}catch(e){}this.disableWebCrypto=!this.subtle}return o(e,[{key:"decrypt",value:function(e,t,i,n){var r=this;if(this.disableWebCrypto&&this.config.enableSoftwareAES){p.logger.log("JS AES decrypt");var o=this.decryptor;o||(this.decryptor=o=new d.default),o.expandKey(t),n(o.decrypt(e,0,i))}else{p.logger.log("WebCrypto AES decrypt");var s=this.subtle;this.key!==t&&(this.key=t,this.fastAesKey=new l.default(s,t)),this.fastAesKey.expandKey().then(function(t){new a.default(s,i).decrypt(e,t).then(function(e){n(e)})}).catch(function(o){r.onWebCryptoError(o,e,t,i,n)})}}},{key:"onWebCryptoError",value:function(e,t,i,n,r){this.config.enableSoftwareAES?(p.logger.log("WebCrypto Error, disable WebCrypto API"),this.disableWebCrypto=!0,this.decrypt(t,i,n,r)):(p.logger.error("decrypting error : "+e.message),this.observer.trigger(Event.ERROR,{type:h.ErrorTypes.MEDIA_ERROR,details:h.ErrorDetails.FRAG_DECRYPT_ERROR,fatal:!0,reason:e.message}))}},{key:"destroy",value:function(){var e=this.decryptor;e&&(e.destroy(),this.decryptor=void 0)}}]),e}();i.default=f},{"../errors":30,"../utils/logger":49,"./aes-crypto":17,"./aes-decryptor":18,"./fast-aes-key":20}],20:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=function(){function e(t,i){n(this,e),this.subtle=t,this.key=i}return r(e,[{key:"expandKey",value:function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])}}]),e}();i.default=o},{}],21:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=e("./adts"),a=n(s),u=e("../utils/logger"),l=e("../demux/id3"),c=n(l),d=function(){function e(t,i,n,o){r(this,e),this.observer=t,this.id=i,this.config=o,this.remuxer=n}
return o(e,[{key:"resetInitSegment",value:function(e,t,i,n,r,o){this._aacTrack={container:"audio/adts",type:"audio",id:-1,sequenceNumber:0,isAAC:!0,samples:[],len:0,manifestCodec:n,duration:o}}},{key:"resetTimeStamp",value:function(){}},{key:"append",value:function(e,t,i,n,r,o,s){var l,d,h,p,f,m,g,_,y,v,b=new c.default(e),A=90*b.timeStamp;for(l=this._aacTrack,m=b.length,y=e.length;y-1>m&&(255!==e[m]||240!=(240&e[m+1]));m++);for(l.audiosamplerate||(d=a.default.getAudioConfig(this.observer,e,m,l.manifestCodec),l.config=d.config,l.audiosamplerate=d.samplerate,l.channelCount=d.channelCount,l.codec=d.codec,u.logger.log("parsed codec:"+l.codec+",rate:"+d.samplerate+",nb channel:"+d.channelCount)),f=0,p=9216e4/l.audiosamplerate;y>m+5&&(g=1&e[m+1]?7:9,h=(3&e[m+3])<<11|e[m+4]<<3|(224&e[m+5])>>>5,(h-=g)>0&&y>=m+g+h);)for(_=A+f*p,v={unit:e.subarray(m+g,m+g+h),pts:_,dts:_},l.samples.push(v),l.len+=h,m+=h+g,f++;y-1>m&&(255!==e[m]||240!=(240&e[m+1]));m++);this.remuxer.remux(n,r,i,l,{samples:[]},{samples:[{pts:A,dts:A,unit:b.payload}]},{samples:[]},t,o,s)}},{key:"destroy",value:function(){}}],[{key:"probe",value:function(e){var t,i,n=new c.default(e);if(n.hasTimeStamp)for(t=n.length,i=e.length;i-1>t;t++)if(255===e[t]&&240==(240&e[t+1]))return!0;return!1}}]),e}();i.default=d},{"../demux/id3":27,"../utils/logger":49,"./adts":22}],22:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=e("../utils/logger"),s=e("../errors"),a=function(){function e(){n(this,e)}return r(e,null,[{key:"getAudioConfig",value:function(e,t,i,n){var r,a,u,l,c,d=navigator.userAgent.toLowerCase(),h=n,p=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];return r=1+((192&t[i+2])>>>6),a=(60&t[i+2])>>>2,a>p.length-1?void e.trigger(Event.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:s.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+a}):(l=(1&t[i+2])<<2,l|=(192&t[i+3])>>>6,o.logger.log("manifest codec:"+n+",ADTS data:type:"+r+",sampleingIndex:"+a+"["+p[a]+"Hz],channelConfig:"+l),/firefox/i.test(d)?a>=6?(r=5,c=new Array(4),u=a-3):(r=2,c=new Array(2),u=a):-1!==d.indexOf("android")?(r=2,c=new Array(2),u=a):(r=5,c=new Array(4),n&&(-1!==n.indexOf("mp4a.40.29")||-1!==n.indexOf("mp4a.40.5"))||!n&&a>=6?u=a-3:((n&&-1!==n.indexOf("mp4a.40.2")&&a>=6&&1===l||!n&&1===l)&&(r=2,c=new Array(2)),u=a)),c[0]=r<<3,c[0]|=(14&a)>>1,c[1]|=(1&a)<<7,c[1]|=l<<3,5===r&&(c[1]|=(14&u)>>1,c[2]=(1&u)<<7,c[2]|=8,c[3]=0),{config:c,samplerate:p[a],channelCount:l,codec:"mp4a.40."+r,manifestCodec:h})}}]),e}();i.default=a},{"../errors":30,"../utils/logger":49}],23:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=e("../events"),a=n(s),u=e("../errors"),l=e("../utils/logger"),c=e("../crypt/decrypter"),d=n(c),h=e("../demux/aacdemuxer"),p=n(h),f=e("../demux/mp4demuxer"),m=n(f),g=e("../demux/tsdemuxer"),_=n(g),y=e("../remux/mp4-remuxer"),v=n(y),b=e("../remux/passthrough-remuxer"),A=n(b),w=function(){function e(t,i,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;r(this,e),this.hls=t,this.id=i,this.config=this.hls.config||o,this.typeSupported=n}return o(e,[{key:"destroy",value:function(){var e=this.demuxer;e&&e.destroy()}},{key:"push",value:function(e,t,i,n,r,o,s,u,l,c,h,p){if(e.byteLength>0&&null!=c&&null!=c.key&&"AES-128"===c.method){null==this.decrypter&&(this.decrypter=new d.default(this.hls,this.config));var f,m=this;try{f=performance.now()}catch(e){f=Date.now()}this.decrypter.decrypt(e,c.key.buffer,c.iv.buffer,function(e){var c;try{c=performance.now()}catch(e){c=Date.now()}m.hls.trigger(a.default.FRAG_DECRYPTED,{level:s,sn:u,stats:{tstart:f,tdecrypt:c}}),m.pushDecrypted(new Uint8Array(e),new Uint8Array(t),i,n,r,o,s,u,l,h,p)})}else this.pushDecrypted(new Uint8Array(e),new Uint8Array(t),i,n,r,o,s,u,l,h,p)}},{key:"pushDecrypted",value:function(e,t,i,n,r,o,s,c,d,h,f){var g=this.demuxer,y=this.id;if(!g||o!==this.cc&&!this.probe(e)){var b=this.hls,w=[{demux:_.default,remux:v.default},{demux:p.default,remux:v.default},{demux:m.default,remux:A.default}];for(var E in w){var k=w[E],C=k.demux.probe;if(C(e)){var T=this.remuxer=new k.remux(b,y,this.config,this.typeSupported);g=new k.demux(b,y,T,this.config,this.typeSupported),this.probe=C;break}}if(!g)return void b.trigger(a.default.ERROR,{type:u.ErrorTypes.MEDIA_ERROR,id:y,details:u.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"});this.demuxer=g,this.lastCC=0}var x=!1,S=this.remuxer;o!==this.lastCC&&(l.logger.log(y+":discontinuity detected"),g.resetInitSegment(t,s,c,i,n,d),S.resetInitSegment(),g.resetTimeStamp(),S.resetTimeStamp(f),this.lastCC=o),s!==this.lastLevel?(l.logger.log(y+":switch detected"),g.resetInitSegment(t,s,c,i,n,d),S.resetInitSegment(),this.lastLevel=s):c===this.lastSN+1&&(x=!0),this.lastSN=c,this.cc=o,g.append(e,r,o,s,c,x,h)}}]),e}();i.default=w},{"../crypt/decrypter":19,"../demux/aacdemuxer":21,"../demux/mp4demuxer":28,"../demux/tsdemuxer":29,"../errors":30,"../events":32,"../remux/mp4-remuxer":42,"../remux/passthrough-remuxer":43,"../utils/logger":49}],24:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(i,"__esModule",{value:!0});var r=e("../demux/demuxer-inline"),o=n(r),s=e("../events"),a=n(s),u=e("../utils/logger"),l=e("events"),c=n(l),d=function(e){var t=new c.default;t.trigger=function(e){for(var i=arguments.length,n=Array(i>1?i-1:0),r=1;i>r;r++)n[r-1]=arguments[r];t.emit.apply(t,[e,e].concat(n))},t.off=function(e){for(var i=arguments.length,n=Array(i>1?i-1:0),r=1;i>r;r++)n[r-1]=arguments[r];t.removeListener.apply(t,[e].concat(n))};var i=function(t,i){e.postMessage({event:t,data:i})};e.addEventListener("message",function(n){var r=n.data;switch(r.cmd){case"init":var s=JSON.parse(r.config);e.demuxer=new o.default(t,r.id,r.typeSupported,s);try{(0,u.enableLogs)(!0===s.debug)}catch(e){console.warn("demuxerWorker: unable to enable logs")}i("init",null);break;case"demux":e.demuxer.push(r.data,r.initSegment,r.audioCodec,r.videoCodec,r.timeOffset,r.cc,r.level,r.sn,r.duration,r.decryptdata,r.accurateTimeOffset,r.defaultInitPTS)}}),t.on(a.default.FRAG_DECRYPTED,i),t.on(a.default.FRAG_PARSING_INIT_SEGMENT,i),t.on(a.default.FRAG_PARSED,i),t.on(a.default.ERROR,i),t.on(a.default.FRAG_PARSING_METADATA,i),t.on(a.default.FRAG_PARSING_USERDATA,i),t.on(a.default.INIT_PTS_FOUND,i),t.on(a.default.FRAG_PARSING_DATA,function(t,i){var n=[],r={event:t,data:i};i.data1&&(r.data1=i.data1.buffer,n.push(i.data1.buffer),delete i.data1),i.data2&&(r.data2=i.data2.buffer,n.push(i.data2.buffer),delete i.data2),e.postMessage(r,n)})};i.default=d},{"../demux/demuxer-inline":23,"../events":32,"../utils/logger":49,events:1}],25:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=e("../events"),a=n(s),u=e("../demux/demuxer-inline"),l=n(u),c=e("../demux/demuxer-worker"),d=n(c),h=e("../utils/logger"),p=e("../errors"),f=function(){function t(i,n){r(this,t),this.hls=i,this.id=n;var o={mp4:MediaSource.isTypeSupported("video/mp4"),mpeg:MediaSource.isTypeSupported("audio/mpeg"),mp3:MediaSource.isTypeSupported('audio/mp4; codecs="mp3"')};if(i.config.enableWorker&&"undefined"!=typeof Worker){h.logger.log("demuxing in webworker");var s=void 0;try{var u=e("webworkify");s=this.w=u(d.default),this.onwmsg=this.onWorkerMessage.bind(this),s.addEventListener("message",this.onwmsg),s.onerror=function(e){i.trigger(a.default.ERROR,{type:p.ErrorTypes.OTHER_ERROR,details:p.ErrorDetails.INTERNAL_EXCEPTION,fatal:!0,event:"demuxerWorker",err:{message:e.message+" ("+e.filename+":"+e.lineno+")"}})},s.postMessage({cmd:"init",typeSupported:o,id:n,config:JSON.stringify(i.config)})}catch(e){h.logger.error("error while initializing DemuxerWorker, fallback on DemuxerInline"),s&&URL.revokeObjectURL(s.objectURL),this.demuxer=new l.default(i,n,o),this.w=void 0}}else this.demuxer=new l.default(i,n,o)}return o(t,[{key:"destroy",value:function(){var e=this.w;if(e)e.removeEventListener("message",this.onwmsg),e.terminate(),this.w=null;else{var t=this.demuxer;t&&(t.destroy(),this.demuxer=null)}}},{key:"push",value:function(e,t,i,n,r,o,s,a,u,l,c,d){var h=this.w;if(h)h.postMessage({cmd:"demux",data:e,initSegment:t,audioCodec:i,videoCodec:n,timeOffset:r,cc:o,level:s,sn:a,duration:u,decryptdata:l,accurateTimeOffset:c,defaultInitPTS:d},[e]);else{var p=this.demuxer;p&&p.push(e,t,i,n,r,o,s,a,u,l,c,d)}}},{key:"onWorkerMessage",value:function(e){var t=e.data,i=this.hls;switch(t.event){case"init":URL.revokeObjectURL(this.w.objectURL);break;case a.default.FRAG_PARSING_DATA:t.data.data1=new Uint8Array(t.data1),t.data2&&(t.data.data2=new Uint8Array(t.data2));default:i.trigger(t.event,t.data)}}}]),t}();i.default=f},{"../demux/demuxer-inline":23,"../demux/demuxer-worker":24,"../errors":30,"../events":32,"../utils/logger":49,webworkify:3}],26:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=e("../utils/logger"),s=function(){function e(t){n(this,e),this.data=t,this.bytesAvailable=t.byteLength,this.word=0,this.bitsAvailable=0}return r(e,[{key:"loadWord",value:function(){var e=this.data,t=this.bytesAvailable,i=e.byteLength-t,n=new Uint8Array(4),r=Math.min(4,t);if(0===r)throw new Error("no bytes available");n.set(e.subarray(i,i+r)),this.word=new DataView(n.buffer).getUint32(0),this.bitsAvailable=8*r,this.bytesAvailable-=r}},{key:"skipBits",value:function(e){var t;this.bitsAvailable>e?(this.word<<=e,this.bitsAvailable-=e):(e-=this.bitsAvailable,t=e>>3,e-=t>>3,this.bytesAvailable-=t,this.loadWord(),this.word<<=e,this.bitsAvailable-=e)}},{key:"readBits",value:function(e){var t=Math.min(this.bitsAvailable,e),i=this.word>>>32-t;return e>32&&o.logger.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=t,this.bitsAvailable>0?this.word<<=t:this.bytesAvailable>0&&this.loadWord(),t=e-t,t>0&&this.bitsAvailable?i<<t|this.readBits(t):i}},{key:"skipLZ",value:function(){var e;for(e=0;e<this.bitsAvailable;++e)if(0!=(this.word&2147483648>>>e))return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()}},{key:"skipUEG",value:function(){this.skipBits(1+this.skipLZ())}},{key:"skipEG",value:function(){this.skipBits(1+this.skipLZ())}},{key:"readUEG",value:function(){var e=this.skipLZ();return this.readBits(e+1)-1}},{key:"readEG",value:function(){var e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)}},{key:"readBoolean",value:function(){return 1===this.readBits(1)}},{key:"readUByte",value:function(){return this.readBits(8)}},{key:"readUShort",value:function(){return this.readBits(16)}},{key:"readUInt",value:function(){return this.readBits(32)}},{key:"skipScalingList",value:function(e){var t,i,n=8,r=8;for(t=0;e>t;t++)0!==r&&(i=this.readEG(),r=(n+i+256)%256),n=0===r?n:r}},{key:"readSPS",value:function(){var e,t,i,n,r,o,s,a=0,u=0,l=0,c=0,d=this.readUByte.bind(this),h=this.readBits.bind(this),p=this.readUEG.bind(this),f=this.readBoolean.bind(this),m=this.skipBits.bind(this),g=this.skipEG.bind(this),_=this.skipUEG.bind(this),y=this.skipScalingList.bind(this);if(d(),e=d(),h(5),m(3),d(),_(),100===e||110===e||122===e||244===e||44===e||83===e||86===e||118===e||128===e){var v=p();if(3===v&&m(1),_(),_(),m(1),f())for(o=3!==v?8:12,s=0;o>s;s++)f()&&y(6>s?16:64)}_();var b=p();if(0===b)p();else if(1===b)for(m(1),g(),g(),t=p(),s=0;t>s;s++)g();_(),m(1),i=p(),n=p(),r=h(1),0===r&&m(1),m(1),f()&&(a=p(),u=p(),l=p(),c=p());var A=[1,1];if(f()&&f()){switch(d()){case 1:A=[1,1];break;case 2:A=[12,11];break;case 3:A=[10,11];break;case 4:A=[16,11];break;case 5:A=[40,33];break;case 6:A=[24,11];break;case 7:A=[20,11];break;case 8:A=[32,11];break;case 9:A=[80,33];break;case 10:A=[18,11];break;case 11:A=[15,11];break;case 12:A=[64,33];break;case 13:A=[160,99];break;case 14:A=[4,3];break;case 15:A=[3,2];break;case 16:A=[2,1];break;case 255:A=[d()<<8|d(),d()<<8|d()]}}return{width:Math.ceil(16*(i+1)-2*a-2*u),height:(2-r)*(n+1)*16-(r?2:4)*(l+c),pixelRatio:A}}},{key:"readSliceType",value:function(){return this.readUByte(),this.readUEG(),this.readUEG()}}]),e}();i.default=s},{"../utils/logger":49}],27:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=e("../utils/logger"),s=function(){function e(t){n(this,e),this._hasTimeStamp=!1;for(var i,r,s,a,u,l,c,d,h=0;;)if(c=this.readUTF(t,h,3),h+=3,"ID3"===c)h+=3,i=127&t[h++],r=127&t[h++],s=127&t[h++],a=127&t[h++],u=(i<<21)+(r<<14)+(s<<7)+a,l=h+u,this._parseID3Frames(t,h,l),h=l;else{if("3DI"!==c)return h-=3,void((d=h)&&(this.hasTimeStamp||o.logger.warn("ID3 tag found, but no timestamp"),this._length=d,this._payload=t.subarray(0,d)));h+=7,o.logger.log("3DI footer found, end: "+h)}}return r(e,[{key:"readUTF",value:function(e,t,i){var n="",r=t,o=t+i;do{n+=String.fromCharCode(e[r++])}while(o>r);return n}},{key:"_parseID3Frames",value:function(e,t,i){for(var n,r;i>=t+8;)switch(n=this.readUTF(e,t,4),t+=4,e[t++]<<24+e[t++]<<16+e[t++]<<8+e[t++],e[t++]<<8+e[t++],t,n){case"PRIV":if("com.apple.streaming.transportStreamTimestamp"===this.readUTF(e,t,44)){t+=44,t+=4;var s=1&e[t++];this._hasTimeStamp=!0,r=((e[t++]<<23)+(e[t++]<<15)+(e[t++]<<7)+e[t++])/45,s&&(r+=47721858.84),r=Math.round(r),o.logger.trace("ID3 timestamp found: "+r),this._timeStamp=r}}}},{key:"hasTimeStamp",get:function(){return this._hasTimeStamp}},{key:"timeStamp",get:function(){return this._timeStamp}},{key:"length",get:function(){return this._length}},{key:"payload",get:function(){return this._payload}}]),e}();i.default=s},{"../utils/logger":49}],28:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=e("../events"),s=function(e){return e&&e.__esModule?e:{default:e}}(o),a=function(){function e(t,i,r){n(this,e),this.observer=t,this.id=i,this.remuxer=r}return r(e,[{key:"resetTimeStamp",value:function(){}},{key:"resetInitSegment",value:function(t,i,n,r,o,a){var u=this.initData=e.parseInitSegment(t),l={};u.audio&&(l.audio={container:"audio/mp4",codec:r,initSegment:t}),u.video&&(l.video={container:"video/mp4",codec:o,initSegment:t}),this.observer.trigger(s.default.FRAG_PARSING_INIT_SEGMENT,{id:this.id,level:i,sn:n,unique:!1,tracks:l})}},{key:"append",value:function(t,i,n,r,o,s,a){var u=this.initData,l=e.startDTS(u,t);this.remuxer.remux(r,o,n,u.audio,u.video,null,null,l,s,a,t)}},{key:"destroy",value:function(){}}],[{key:"probe",value:function(t){if(t.length>=8){return["moof","ftyp","styp"].indexOf(e.bin2str(t.subarray(4,8)))>=0}return!1}},{key:"bin2str",value:function(e){return String.fromCharCode.apply(null,e)}},{key:"findBox",value:function(t,i){var n,r,o,s,a,u=[];if(!i.length)return null;for(n=0;n<t.byteLength;)r=t[n]<<24,r|=t[n+1]<<16,r|=t[n+2]<<8,r|=t[n+3],o=e.bin2str(t.subarray(n+4,n+8)),s=r>1?n+r:t.byteLength,o===i[0]&&(1===i.length?u.push(t.subarray(n+8,s)):(a=e.findBox(t.subarray(n+8,s),i.slice(1)),a.length&&(u=u.concat(a)))),n=s;return u}},{key:"parseInitSegment",value:function(t){var i=[];return e.findBox(t,["moov","trak"]).forEach(function(t){var n=e.findBox(t,["tkhd"])[0];if(n){var r=n[0],o=0===r?12:20,s=n[o]<<24|n[o+1]<<16|n[o+2]<<8|n[o+3];s=0>s?4294967296+s:s;var a=e.findBox(t,["mdia","mdhd"])[0];if(a){r=a[0],o=0===r?12:20;var u=a[o]<<24|a[o+1]<<16|a[o+2]<<8|a[o+3],l=e.findBox(t,["mdia","hdlr"])[0];if(l){var c=e.bin2str(l.subarray(8,12)),d={soun:"audio",vide:"video"}[c];d&&(i[s]={timescale:u,type:d},i[d]={timescale:u,id:s})}}}}),i}},{key:"startDTS",value:function(t,i){var n,r,o;return n=e.findBox(i,["moof","traf"]),r=[].concat.apply([],n.map(function(i){return e.findBox(i,["tfhd"]).map(function(n){var r,o,s;return r=n[4]<<24|n[5]<<16|n[6]<<8|n[7],o=t[r].timescale||9e4,s=e.findBox(i,["tfdt"]).map(function(e){var t,i;return t=e[0],i=e[4]<<24|e[5]<<16|e[6]<<8|e[7],1===t&&(i*=Math.pow(2,32),i+=e[8]<<24|e[9]<<16|e[10]<<8|e[11]),i})[0],(s=s||1/0)/o})})),o=Math.min.apply(null,r),isFinite(o)?o:0}}]),e}();i.default=a},{"../events":32}],29:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=e("./adts"),a=n(s),u=e("../events"),l=n(u),c=e("./exp-golomb"),d=n(c),h=e("../utils/logger"),p=e("../errors"),f=function(){function e(t,i,n,o,s){r(this,e),this.observer=t,this.id=i,this.config=o,this.typeSupported=s,this.remuxer=n}return o(e,[{key:"resetInitSegment",value:function(e,t,i,n,r,o){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack={container:"video/mp2t",type:"video",id:-1,sequenceNumber:0,samples:[],len:0,dropped:0},this._audioTrack={container:"video/mp2t",type:"audio",id:-1,sequenceNumber:0,samples:[],len:0,isAAC:!0},this._id3Track={type:"id3",id:-1,sequenceNumber:0,samples:[],len:0},this._txtTrack={type:"text",id:-1,sequenceNumber:0,samples:[],len:0},this.aacOverFlow=null,this.aacLastPTS=null,this.avcSample=null,this.audioCodec=n,this.videoCodec=r,this._duration=o}},{key:"resetTimeStamp",value:function(){}},{key:"append",value:function(e,t,i,n,r,o,s){var a,u,c,d,f,m=e.length,g=!1;this.contiguous=o;var _=this.pmtParsed,y=this._avcTrack,v=this._audioTrack,b=this._id3Track,A=y.id,w=v.id,E=b.id,k=this._pmtId,C=y.pesData,T=v.pesData,x=b.pesData,S=this._parsePAT,O=this._parsePMT,P=this._parsePES,I=this._parseAVCPES.bind(this),M=this._parseAACPES.bind(this),D=this._parseMPEGPES.bind(this),R=this._parseID3PES.bind(this);for(m-=m%188,a=0;m>a;a+=188)if(71===e[a]){if(u=!!(64&e[a+1]),c=((31&e[a+1])<<8)+e[a+2],(48&e[a+3])>>4>1){if((d=a+5+e[a+4])===a+188)continue}else d=a+4;switch(c){case A:u&&(C&&(f=P(C))&&I(f,!1),C={data:[],size:0}),C&&(C.data.push(e.subarray(d,a+188)),C.size+=a+188-d);break;case w:u&&(T&&(f=P(T))&&(v.isAAC?M(f):D(f)),T={data:[],size:0}),T&&(T.data.push(e.subarray(d,a+188)),T.size+=a+188-d);break;case E:u&&(x&&(f=P(x))&&R(f),x={data:[],size:0}),x&&(x.data.push(e.subarray(d,a+188)),x.size+=a+188-d);break;case 0:u&&(d+=e[d]+1),k=this._pmtId=S(e,d);break;case k:u&&(d+=e[d]+1);var B=O(e,d,!0===this.typeSupported.mpeg||!0===this.typeSupported.mp3);A=B.avc,A>0&&(y.id=A),w=B.audio,w>0&&(v.id=w,v.isAAC=B.isAAC),E=B.id3,E>0&&(b.id=E),g&&!_&&(h.logger.log("reparse from beginning"),g=!1,a=-188),_=this.pmtParsed=!0;break;case 17:case 8191:break;default:g=!0}}else this.observer.trigger(l.default.ERROR,{type:p.ErrorTypes.MEDIA_ERROR,id:this.id,details:p.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"TS packet did not start with 0x47"});C&&(f=P(C))?(I(f,!0),y.pesData=null):y.pesData=C,T&&(f=P(T))?(v.isAAC?M(f):D(f),v.pesData=null):(T&&T.size&&h.logger.log("last AAC PES packet truncated,might overlap between fragments"),v.pesData=T),x&&(f=P(x))?(R(f),b.pesData=null):b.pesData=x,this.remuxer.remux(n,r,i,v,y,b,this._txtTrack,t,o,s)}},{key:"destroy",value:function(){this._initPTS=this._initDTS=void 0,this._duration=0}},{key:"_parsePAT",value:function(e,t){return(31&e[t+10])<<8|e[t+11]}},{key:"_parsePMT",value:function(e,t,i){var n,r,o,s,a={audio:-1,avc:-1,id3:-1,isAAC:!0};for(n=(15&e[t+1])<<8|e[t+2],r=t+3+n-4,o=(15&e[t+10])<<8|e[t+11],t+=12+o;r>t;){switch(s=(31&e[t+1])<<8|e[t+2],e[t]){case 15:-1===a.audio&&(a.audio=s);break;case 21:-1===a.id3&&(a.id3=s);break;case 27:-1===a.avc&&(a.avc=s);break;case 3:case 4:i?-1===a.audio&&(a.audio=s,a.isAAC=!1):h.logger.log("MPEG audio found, not supported in this browser for now");break;case 36:h.logger.warn("HEVC stream type found, not supported for now");break;default:h.logger.log("unkown stream type:"+e[t])}t+=5+((15&e[t+3])<<8|e[t+4])}return a}},{key:"_parsePES",value:function(e){var t,i,n,r,o,s,a,u,l=0,c=e.data;if(!e||0===e.size)return null;for(;c[0].length<19&&c.length>1;){var d=new Uint8Array(c[0].length+c[1].length);d.set(c[0]),d.set(c[1],c[0].length),c[0]=d,c.splice(1,1)}if(t=c[0],1===(t[0]<<16)+(t[1]<<8)+t[2]){if((n=(t[4]<<8)+t[5])&&n>e.size-6)return null;i=t[7],192&i&&(s=536870912*(14&t[9])+4194304*(255&t[10])+16384*(254&t[11])+128*(255&t[12])+(254&t[13])/2,s>4294967295&&(s-=8589934592),64&i?(a=536870912*(14&t[14])+4194304*(255&t[15])+16384*(254&t[16])+128*(255&t[17])+(254&t[18])/2,a>4294967295&&(a-=8589934592),s-a>54e5&&(h.logger.warn(Math.round((s-a)/9e4)+"s delta between PTS and DTS, align them"),s=a)):a=s),r=t[8],u=r+9,e.size-=u,o=new Uint8Array(e.size);for(var p=0,f=c.length;f>p;p++){t=c[p];var m=t.byteLength;if(u){if(u>m){u-=m;continue}t=t.subarray(u),m-=u,u=0}o.set(t,l),l+=m}return n&&(n-=r+3),{data:o,pts:s,dts:a,len:n}}return null}},{key:"pushAccesUnit",value:function(e,t){e.units.units.length&&e.frame&&(!this.config.forceKeyFrameOnDiscontinuity||!0===e.key||t.sps&&(t.samples.length||this.contiguous)?t.samples.push(e):t.dropped++),e.debug.length&&h.logger.log(e.pts+"/"+e.dts+":"+e.debug+","+e.units.length)}},{key:"_parseAVCPES",value:function(e,t){var i,n,r,o=this,s=this._avcTrack,a=this._parseAVCNALu(e.data),u=this.avcSample;e.data=null,a.forEach(function(t){switch(t.type){case 1:n=!0,u.frame=!0;var a=t.data;if(a.length>4){var l=new d.default(a).readSliceType();(2===l||4===l||7===l||9===l)&&(u.key=!0)}break;case 5:n=!0,u||(u=o.avcSample=o._createAVCSample(!0,e.pts,e.dts,"")),u.key=!0,u.frame=!0;break;case 6:n=!0,i=new d.default(o.discardEPB(t.data)),i.readUByte();for(var c=0,h=0,p=!1,f=0;!p&&i.bytesAvailable>1;){c=0;do{f=i.readUByte(),c+=f}while(255===f);h=0;do{f=i.readUByte(),h+=f}while(255===f);if(4===c&&0!==i.bytesAvailable){p=!0;if(181===i.readUByte()){if(49===i.readUShort()){if(1195456820===i.readUInt()){if(3===i.readUByte()){var m=i.readUByte(),g=i.readUByte(),_=31&m,y=[m,g];for(r=0;_>r;r++)y.push(i.readUByte()),y.push(i.readUByte()),y.push(i.readUByte());o._insertSampleInOrder(o._txtTrack.samples,{type:3,pts:e.pts,bytes:y})}}}}}else if(h<i.bytesAvailable)for(r=0;h>r;r++)i.readUByte()}break;case 7:if(n=!0,!s.sps){i=new d.default(t.data);var v=i.readSPS();s.width=v.width,s.height=v.height,s.pixelRatio=v.pixelRatio,s.sps=[t.data],s.duration=o._duration;var b=t.data.subarray(1,4),A="avc1.";for(r=0;3>r;r++){var w=b[r].toString(16);w.length<2&&(w="0"+w),A+=w}s.codec=A}break;case 8:n=!0,s.pps||(s.pps=[t.data]);break;case 9:n=!1,u&&o.pushAccesUnit(u,s),u=o.avcSample=o._createAVCSample(!1,e.pts,e.dts,"");break;case 12:n=!1;break;default:n=!1,u&&(u.debug+="unknown NAL "+t.type+" ")}if(u&&n){u.units.units.push(t)}}),t&&u&&(this.pushAccesUnit(u,s),this.avcSample=null)}},{key:"_createAVCSample",value:function(e,t,i,n){return{key:e,pts:t,dts:i,units:{units:[],length:0},debug:n}}},{key:"_insertSampleInOrder",value:function(e,t){var i=e.length;if(i>0){if(t.pts>=e[i-1].pts)e.push(t);else for(var n=i-1;n>=0;n--)if(t.pts<e[n].pts){e.splice(n,0,t);break}}else e.push(t)}},{key:"_getLastNalUnit",value:function(){var e=this.avcSample,t=void 0;if(!e||0===e.units.units.length){var i=this._avcTrack,n=i.samples;e=n[n.length-1]}if(e){var r=e.units.units;t=r[r.length-1]}return t}},{key:"_parseAVCNALu",value:function(e){var t,i,n,r,o,s=0,a=e.byteLength,u=this._avcTrack,l=u.naluState||0,c=l,d=[],h=-1;for(-1===l&&(h=0,o=31&e[0],l=0,s=1);a>s;)if(t=e[s++],l)if(1!==l)if(t)if(1===t){if(h>=0)n={data:e.subarray(h,s-l-1),type:o},d.push(n);else{var p=this._getLastNalUnit();if(p&&(c&&4-c>=s&&p.state&&(p.data=p.data.subarray(0,p.data.byteLength-c)),(i=s-l-1)>0)){var f=new Uint8Array(p.data.byteLength+i);f.set(p.data,0),f.set(e.subarray(0,i),p.data.byteLength),p.data=f}}a>s?(r=31&e[s],h=s,o=r,l=0):l=-1}else l=0;else l=3;else l=t?0:2;else l=t?0:1;if(h>=0&&l>=0&&(n={data:e.subarray(h,a),type:o,state:l},d.push(n)),0===d.length){var m=this._getLastNalUnit();if(m){var g=new Uint8Array(m.data.byteLength+e.byteLength);g.set(m.data,0),g.set(e,m.data.byteLength),m.data=g}}return u.naluState=l,d}},{key:"discardEPB",value:function(e){for(var t,i,n=e.byteLength,r=[],o=1;n-2>o;)0===e[o]&&0===e[o+1]&&3===e[o+2]?(r.push(o+2),o+=2):o++;if(0===r.length)return e;t=n-r.length,i=new Uint8Array(t);var s=0;for(o=0;t>o;s++,o++)s===r[0]&&(s++,r.shift()),i[o]=e[s];return i}},{key:"_parseAACPES",value:function(e){var t,i,n,r,o,s,u,c,d,f=this._audioTrack,m=e.data,g=e.pts,_=this.aacOverFlow,y=this.aacLastPTS;if(_){var v=new Uint8Array(_.byteLength+m.byteLength);v.set(_,0),v.set(m,_.byteLength),m=v}for(o=0,c=m.length;c-1>o&&(255!==m[o]||240!=(240&m[o+1]));o++);if(o){var b,A;if(c-1>o?(b="AAC PES did not start with ADTS header,offset:"+o,A=!1):(b="no ADTS header found in AAC PES",A=!0),h.logger.warn("parsing error:"+b),this.observer.trigger(l.default.ERROR,{type:p.ErrorTypes.MEDIA_ERROR,id:this.id,details:p.ErrorDetails.FRAG_PARSING_ERROR,fatal:A,reason:b}),A)return}if(!f.audiosamplerate){var w=this.audioCodec;t=a.default.getAudioConfig(this.observer,m,o,w),f.config=t.config,f.audiosamplerate=t.samplerate,f.channelCount=t.channelCount,f.codec=t.codec,f.manifestCodec=t.manifestCodec,f.duration=this._duration,h.logger.log("parsed codec:"+f.codec+",rate:"+t.samplerate+",nb channel:"+t.channelCount)}if(r=0,n=9216e4/f.audiosamplerate,_&&y){var E=y+n;Math.abs(E-g)>1&&(h.logger.log("AAC: align PTS for overlapping frames by "+Math.round((E-g)/90)),g=E)}for(;c>o+5&&(s=1&m[o+1]?7:9,i=(3&m[o+3])<<11|m[o+4]<<3|(224&m[o+5])>>>5,(i-=s)>0&&c>=o+s+i);)for(u=g+r*n,d={unit:m.subarray(o+s,o+s+i),pts:u,dts:u},f.samples.push(d),f.len+=i,o+=i+s,r++;c-1>o&&(255!==m[o]||240!=(240&m[o+1]));o++);_=c>o?m.subarray(o,c):null,this.aacOverFlow=_,this.aacLastPTS=u}},{key:"_parseMPEGPES",value:function(e){for(var t,i=e.data,n=e.pts,r=i.length,o=0,s=0;r>s&&(t=this._parseMpeg(i,s,r,o++,n))>0;)s+=t}},{key:"_onMpegFrame",value:function(e,t,i,n,r,o){var s=1152/i*1e3,a=o+r*s,u=this._audioTrack;u.config=[],u.channelCount=n,u.audiosamplerate=i,u.duration=this._duration,u.samples.push({unit:e,pts:a,dts:a}),u.len+=e.length}},{key:"_onMpegNoise",value:function(e){h.logger.warn("mpeg audio has noise: "+e.length+" bytes")}},{key:"_parseMpeg",value:function(e,t,i,n,r){var o=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],s=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3];if(t+2>i)return-1;if(255===e[t]||224==(224&e[t+1])){if(t+24>i)return-1;var a=e[t+1]>>3&3,u=e[t+1]>>1&3,l=e[t+2]>>4&15,c=e[t+2]>>2&3,d=!!(2&e[t+2]);if(1!==a&&0!==l&&15!==l&&3!==c){var h=3===a?3-u:3===u?3:4,p=1e3*o[14*h+l-1],f=3===a?0:2===a?1:2,m=s[3*f+c],g=d?1:0,_=e[t+3]>>6==3?1:2,y=3===u?(3===a?12:6)*p/m+g<<2:(3===a?144:72)*p/m+g|0;return t+y>i?-1:(this._onMpegFrame&&this._onMpegFrame(e.subarray(t,t+y),p,m,_,n,r),y)}}for(var v=t+2;i>v;){if(255===e[v-1]&&224==(224&e[v]))return this._onMpegNoise&&this._onMpegNoise(e.subarray(t,v-1)),v-t-1;v++}return-1}},{key:"_parseID3PES",value:function(e){this._id3Track.samples.push(e)}}],[{key:"probe",value:function(e){return e.length>=564&&71===e[0]&&71===e[188]&&71===e[376]}}]),e}();i.default=f},{"../errors":30,"../events":32,"../utils/logger":49,"./adts":22,"./exp-golomb":26}],30:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.ErrorTypes={NETWORK_ERROR:"networkError",MEDIA_ERROR:"mediaError",MUX_ERROR:"muxError",OTHER_ERROR:"otherError"},i.ErrorDetails={MANIFEST_LOAD_ERROR:"manifestLoadError",MANIFEST_LOAD_TIMEOUT:"manifestLoadTimeOut",MANIFEST_PARSING_ERROR:"manifestParsingError",MANIFEST_INCOMPATIBLE_CODECS_ERROR:"manifestIncompatibleCodecsError",LEVEL_LOAD_ERROR:"levelLoadError",LEVEL_LOAD_TIMEOUT:"levelLoadTimeOut",LEVEL_SWITCH_ERROR:"levelSwitchError",AUDIO_TRACK_LOAD_ERROR:"audioTrackLoadError",AUDIO_TRACK_LOAD_TIMEOUT:"audioTrackLoadTimeOut",FRAG_LOAD_ERROR:"fragLoadError",FRAG_LOOP_LOADING_ERROR:"fragLoopLoadingError",FRAG_LOAD_TIMEOUT:"fragLoadTimeOut",FRAG_DECRYPT_ERROR:"fragDecryptError",FRAG_PARSING_ERROR:"fragParsingError",REMUX_ALLOC_ERROR:"remuxAllocError",KEY_LOAD_ERROR:"keyLoadError",KEY_LOAD_TIMEOUT:"keyLoadTimeOut",BUFFER_ADD_CODEC_ERROR:"bufferAddCodecError",BUFFER_APPEND_ERROR:"bufferAppendError",BUFFER_APPENDING_ERROR:"bufferAppendingError",BUFFER_STALLED_ERROR:"bufferStalledError",BUFFER_FULL_ERROR:"bufferFullError",BUFFER_SEEK_OVER_HOLE:"bufferSeekOverHole",BUFFER_NUDGE_ON_STALL:"bufferNudgeOnStall",INTERNAL_EXCEPTION:"internalException",WEBVTT_EXCEPTION:"webVTTException"}},{}],31:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=e("./utils/logger"),a=e("./errors"),u=e("./events"),l=function(e){return e&&e.__esModule?e:{default:e}}(u),c=function(){function e(t){n(this,e),this.hls=t,this.onEvent=this.onEvent.bind(this);for(var i=arguments.length,r=Array(i>1?i-1:0),o=1;i>o;o++)r[o-1]=arguments[o];this.handledEvents=r,this.useGenericHandler=!0,this.registerListeners()}return o(e,[{key:"destroy",value:function(){this.unregisterListeners()}},{key:"isEventHandler",value:function(){return"object"===r(this.handledEvents)&&this.handledEvents.length&&"function"==typeof this.onEvent}},{key:"registerListeners",value:function(){this.isEventHandler()&&this.handledEvents.forEach(function(e){if("hlsEventGeneric"===e)throw new Error("Forbidden event name: "+e);this.hls.on(e,this.onEvent)}.bind(this))}},{key:"unregisterListeners",value:function(){this.isEventHandler()&&this.handledEvents.forEach(function(e){
this.hls.off(e,this.onEvent)}.bind(this))}},{key:"onEvent",value:function(e,t){this.onEventGeneric(e,t)}},{key:"onEventGeneric",value:function(e,t){var i=function(e,t){var i="on"+e.replace("hls","");if("function"!=typeof this[i])throw new Error("Event "+e+" has no generic handler in this "+this.constructor.name+" class (tried "+i+")");return this[i].bind(this,t)};try{i.call(this,e,t).call()}catch(t){s.logger.error("internal error happened while processing "+e+":"+t.message),this.hls.trigger(l.default.ERROR,{type:a.ErrorTypes.OTHER_ERROR,details:a.ErrorDetails.INTERNAL_EXCEPTION,fatal:!1,event:e,err:t})}}}]),e}();i.default=c},{"./errors":30,"./events":32,"./utils/logger":49}],32:[function(e,t,i){"use strict";t.exports={MEDIA_ATTACHING:"hlsMediaAttaching",MEDIA_ATTACHED:"hlsMediaAttached",MEDIA_DETACHING:"hlsMediaDetaching",MEDIA_DETACHED:"hlsMediaDetached",BUFFER_RESET:"hlsBufferReset",BUFFER_CODECS:"hlsBufferCodecs",BUFFER_CREATED:"hlsBufferCreated",BUFFER_APPENDING:"hlsBufferAppending",BUFFER_APPENDED:"hlsBufferAppended",BUFFER_EOS:"hlsBufferEos",BUFFER_FLUSHING:"hlsBufferFlushing",BUFFER_FLUSHED:"hlsBufferFlushed",MANIFEST_LOADING:"hlsManifestLoading",MANIFEST_LOADED:"hlsManifestLoaded",MANIFEST_PARSED:"hlsManifestParsed",LEVEL_LOADING:"hlsLevelLoading",LEVEL_LOADED:"hlsLevelLoaded",LEVEL_UPDATED:"hlsLevelUpdated",LEVEL_PTS_UPDATED:"hlsLevelPtsUpdated",LEVEL_SWITCH:"hlsLevelSwitch",AUDIO_TRACKS_UPDATED:"hlsAudioTracksUpdated",AUDIO_TRACK_SWITCH:"hlsAudioTrackSwitch",AUDIO_TRACK_SWITCHING:"hlsAudioTrackSwitching",AUDIO_TRACK_SWITCHED:"hlsAudioTrackSwitched",AUDIO_TRACK_LOADING:"hlsAudioTrackLoading",AUDIO_TRACK_LOADED:"hlsAudioTrackLoaded",SUBTITLE_TRACKS_UPDATED:"hlsSubtitleTracksUpdated",SUBTITLE_TRACK_SWITCH:"hlsSubtitleTrackSwitch",SUBTITLE_TRACK_LOADING:"hlsSubtitleTrackLoading",SUBTITLE_TRACK_LOADED:"hlsSubtitleTrackLoaded",SUBTITLE_FRAG_PROCESSED:"hlsSubtitleFragProcessed",INIT_PTS_FOUND:"hlsInitPtsFound",FRAG_LOADING:"hlsFragLoading",FRAG_LOAD_PROGRESS:"hlsFragLoadProgress",FRAG_LOAD_EMERGENCY_ABORTED:"hlsFragLoadEmergencyAborted",FRAG_LOADED:"hlsFragLoaded",FRAG_DECRYPTED:"hlsFragDecrypted",FRAG_PARSING_INIT_SEGMENT:"hlsFragParsingInitSegment",FRAG_PARSING_USERDATA:"hlsFragParsingUserdata",FRAG_PARSING_METADATA:"hlsFragParsingMetadata",FRAG_PARSING_DATA:"hlsFragParsingData",FRAG_PARSED:"hlsFragParsed",FRAG_BUFFERED:"hlsFragBuffered",FRAG_CHANGED:"hlsFragChanged",FPS_DROP:"hlsFpsDrop",FPS_DROP_LEVEL_CAPPING:"hlsFpsDropLevelCapping",ERROR:"hlsError",DESTROYING:"hlsDestroying",KEY_LOADING:"hlsKeyLoading",KEY_LOADED:"hlsKeyLoaded",STREAM_STATE_TRANSITION:"hlsStreamStateTransition"}},{}],33:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=function(){function e(){n(this,e)}return r(e,null,[{key:"getSilentFrame",value:function(e,t){switch(e){case"mp4a.40.2":if(1===t)return new Uint8Array([0,200,0,128,35,128]);if(2===t)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(1===t)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null}}]),e}();i.default=o},{}],34:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=function(){function e(){n(this,e)}return r(e,null,[{key:"isBuffered",value:function(e,t){if(e)for(var i=e.buffered,n=0;n<i.length;n++)if(t>=i.start(n)&&t<=i.end(n))return!0;return!1}},{key:"bufferInfo",value:function(e,t,i){if(e){var n,r=e.buffered,o=[];for(n=0;n<r.length;n++)o.push({start:r.start(n),end:r.end(n)});return this.bufferedInfo(o,t,i)}return{len:0,start:t,end:t,nextStart:void 0}}},{key:"bufferedInfo",value:function(e,t,i){var n,r,o,s,a,u=[];for(e.sort(function(e,t){var i=e.start-t.start;return i||t.end-e.end}),a=0;a<e.length;a++){var l=u.length;if(l){var c=u[l-1].end;e[a].start-c<i?e[a].end>c&&(u[l-1].end=e[a].end):u.push(e[a])}else u.push(e[a])}for(a=0,n=0,r=o=t;a<u.length;a++){var d=u[a].start,h=u[a].end;if(t+i>=d&&h>t)r=d,o=h,n=o-t;else if(d>t+i){s=d;break}}return{len:n,start:r,end:o,nextStart:s}}}]),e}();i.default=o},{}],35:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=e("../utils/logger"),s=function(){function e(){n(this,e)}return r(e,null,[{key:"mergeDetails",value:function(t,i){var n,r=Math.max(t.startSN,i.startSN)-i.startSN,s=Math.min(t.endSN,i.endSN)-i.startSN,a=i.startSN-t.startSN,u=t.fragments,l=i.fragments,c=0;if(r>s)return void(i.PTSKnown=!1);for(var d=r;s>=d;d++){var h=u[a+d],p=l[d];p&&h&&(c=h.cc-p.cc,isNaN(h.startPTS)||(p.start=p.startPTS=h.startPTS,p.endPTS=h.endPTS,p.duration=h.duration,n=p))}if(c)for(o.logger.log("discontinuity sliding from playlist, take drift into account"),d=0;d<l.length;d++)l[d].cc+=c;if(n)e.updateFragPTSDTS(i,n.sn,n.startPTS,n.endPTS,n.startDTS,n.endDTS);else if(a>=0&&a<u.length){var f=u[a].start;for(d=0;d<l.length;d++)l[d].start+=f}i.PTSKnown=t.PTSKnown}},{key:"updateFragPTSDTS",value:function(t,i,n,r,o,s){var a,u,l,c;if(!t||i<t.startSN||i>t.endSN)return 0;if(a=i-t.startSN,u=t.fragments,l=u[a],!isNaN(l.startPTS)){var d=Math.abs(l.startPTS-n);isNaN(l.deltaPTS)?l.deltaPTS=d:l.deltaPTS=Math.max(d,l.deltaPTS),n=Math.min(n,l.startPTS),r=Math.max(r,l.endPTS),o=Math.min(o,l.startDTS),s=Math.max(s,l.endDTS)}var h=n-l.start;for(l.start=l.startPTS=n,l.endPTS=r,l.startDTS=o,l.endDTS=s,l.duration=r-n,c=a;c>0;c--)e.updatePTS(u,c,c-1);for(c=a;c<u.length-1;c++)e.updatePTS(u,c,c+1);return t.PTSKnown=!0,h}},{key:"updatePTS",value:function(e,t,i){var n=e[t],r=e[i],s=r.startPTS;isNaN(s)?r.start=i>t?n.start+n.duration:n.start-r.duration:i>t?(n.duration=s-n.start,n.duration<0&&o.logger.warn("negative duration computed for frag "+n.sn+",level "+n.level+", there should be some duration drift between playlist and fragment!")):(r.duration=n.start-s,r.duration<0&&o.logger.warn("negative duration computed for frag "+r.sn+",level "+r.level+", there should be some duration drift between playlist and fragment!"))}}]),e}();i.default=s},{"../utils/logger":49}],36:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=e("./events"),a=n(s),u=e("./errors"),l=e("./loader/playlist-loader"),c=n(l),d=e("./loader/fragment-loader"),h=n(d),p=e("./utils/xhr-loader"),f=n(p),m=e("./loader/key-loader"),g=n(m),_=e("./controller/stream-controller"),y=n(_),v=e("./controller/level-controller"),b=n(v),A=e("./utils/logger"),w=e("events"),E=n(w),k=e("./config"),C=function(){function e(){var t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,e);var n=e.DefaultConfig;if((i.liveSyncDurationCount||i.liveMaxLatencyDurationCount)&&(i.liveSyncDuration||i.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");for(var o in n)o in i||(i[o]=n[o]);if(void 0!==i.liveMaxLatencyDurationCount&&i.liveMaxLatencyDurationCount<=i.liveSyncDurationCount)throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be gt "liveSyncDurationCount"');if(void 0!==i.liveMaxLatencyDuration&&(i.liveMaxLatencyDuration<=i.liveSyncDuration||void 0===i.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be gt "liveSyncDuration"');(0,A.enableLogs)(i.debug),this.config=i;var s=this.observer=new E.default;s.trigger=function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),n=1;t>n;n++)i[n-1]=arguments[n];s.emit.apply(s,[e,e].concat(i))},s.off=function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),n=1;t>n;n++)i[n-1]=arguments[n];s.removeListener.apply(s,[e].concat(i))},this.on=s.on.bind(s),this.off=s.off.bind(s),this.trigger=s.trigger.bind(s);var a=this.levelController=new b.default(this),u=this.streamController=new y.default(this),l=[a,u],d=i.audioStreamController;d&&l.push(new d(this)),this.networkControllers=l;var p=this.abrController=new i.abrController(this),f=new i.bufferController(this),m=new i.capLevelController(this),_=new i.fpsController(this),v=new c.default(this),w=new h.default(this),k=new g.default(this),C=[v,w,k,p,f,m,_];if(d=i.audioTrackController){var T=new d(this);this.audioTrackController=T,C.push(T)}if(d=i.subtitleTrackController){var x=new d(this);this.subtitleTrackController=x,C.push(x)}[i.subtitleStreamController,i.timelineController].forEach(function(e){e&&C.push(new e(t))}),this.coreComponents=C}return o(e,null,[{key:"isSupported",value:function(){return window.MediaSource=window.MediaSource||window.WebKitMediaSource,window.MediaSource&&"function"==typeof window.MediaSource.isTypeSupported&&window.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')}},{key:"version",get:function(){return"__VERSION__"}},{key:"Events",get:function(){return a.default}},{key:"ErrorTypes",get:function(){return u.ErrorTypes}},{key:"ErrorDetails",get:function(){return u.ErrorDetails}},{key:"DefaultConfig",get:function(){return e.defaultConfig?e.defaultConfig:k.hlsDefaultConfig},set:function(t){e.defaultConfig=t}}]),o(e,[{key:"destroy",value:function(){A.logger.log("destroy"),this.trigger(a.default.DESTROYING),this.detachMedia(),this.coreComponents.concat(this.networkControllers).forEach(function(e){e.destroy()}),this.url=null,this.observer.removeAllListeners()}},{key:"attachMedia",value:function(e){A.logger.log("attachMedia"),this.media=e,this.trigger(a.default.MEDIA_ATTACHING,{media:e})}},{key:"detachMedia",value:function(){A.logger.log("detachMedia"),this.trigger(a.default.MEDIA_DETACHING),this.media=null}},{key:"loadSource",value:function(e){A.logger.log("loadSource:"+e),this.url=e,this.trigger(a.default.MANIFEST_LOADING,{url:e})}},{key:"startLoad",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;A.logger.log("startLoad("+e+")"),this.networkControllers.forEach(function(t){t.startLoad(e)})}},{key:"stopLoad",value:function(){A.logger.log("stopLoad"),this.networkControllers.forEach(function(e){e.stopLoad()})}},{key:"swapAudioCodec",value:function(){A.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()}},{key:"recoverMediaError",value:function(){A.logger.log("recoverMediaError");var e=this.media;this.detachMedia(),this.attachMedia(e)}},{key:"levels",get:function(){return this.levelController.levels}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(e){A.logger.log("set currentLevel:"+e),this.loadLevel=e,this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(e){A.logger.log("set nextLevel:"+e),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(e){A.logger.log("set loadLevel:"+e),this.levelController.manualLevel=e}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(e){this.levelController.nextLoadLevel=e}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.abrController.minAutoLevel)},set:function(e){A.logger.log("set firstLevel:"+e),this.levelController.firstLevel=e}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(e){A.logger.log("set startLevel:"+e),this.levelController.startLevel=e}},{key:"autoLevelCapping",get:function(){return this.abrController.autoLevelCapping},set:function(e){A.logger.log("set autoLevelCapping:"+e),this.abrController.autoLevelCapping=e}},{key:"autoLevelEnabled",get:function(){return-1===this.levelController.manualLevel}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"audioTracks",get:function(){var e=this.audioTrackController;return e?e.audioTracks:[]}},{key:"audioTrack",get:function(){var e=this.audioTrackController;return e?e.audioTrack:-1},set:function(e){var t=this.audioTrackController;t&&(t.audioTrack=e)}},{key:"liveSyncPosition",get:function(){return this.streamController.liveSyncPosition}},{key:"subtitleTracks",get:function(){var e=this.subtitleTrackController;return e?e.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var e=this.subtitleTrackController;return e?e.subtitleTrack:-1},set:function(e){var t=this.subtitleTrackController;t&&(t.subtitleTrack=e)}}]),e}();C.PlaylistLoader=c.default,C.FragmentLoader=h.default,C.XhrLoader=f.default,i.default=C},{"./config":4,"./controller/level-controller":12,"./controller/stream-controller":13,"./errors":30,"./events":32,"./loader/fragment-loader":38,"./loader/key-loader":39,"./loader/playlist-loader":40,"./utils/logger":49,"./utils/xhr-loader":54,events:1}],37:[function(e,t,i){"use strict";t.exports=e("./hls.js").default},{"./hls.js":36}],38:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),u=e("../events"),l=n(u),c=e("../event-handler"),d=n(c),h=e("../errors"),p=e("../utils/logger"),f=function(e){function t(e){r(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,l.default.FRAG_LOADING));return i.loaders={},i}return s(t,e),a(t,[{key:"destroy",value:function(){var e=this.loaders;for(var t in e){var i=e[t];i&&i.destroy()}this.loaders={},d.default.prototype.destroy.call(this)}},{key:"onFragLoading",value:function(e){var t=e.frag,i=t.type,n=this.loaders[i],r=this.hls.config;t.loaded=0,n&&(p.logger.warn("abort previous fragment loader for type:"+i),n.abort()),n=this.loaders[i]=t.loader=void 0!==r.fLoader?new r.fLoader(r):new r.loader(r);var o=void 0,s=void 0,a=void 0;o={url:t.url,frag:t,responseType:"arraybuffer",progressData:!1};var u=t.byteRangeStartOffset,l=t.byteRangeEndOffset;isNaN(u)||isNaN(l)||(o.rangeStart=u,o.rangeEnd=l),s={timeout:r.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:r.fragLoadingMaxRetryTimeout},a={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this),onProgress:this.loadprogress.bind(this)},n.load(o,s,a)}},{key:"loadsuccess",value:function(e,t,i){var n=e.data,r=i.frag;r.loader=void 0,this.loaders[r.type]=void 0,this.hls.trigger(l.default.FRAG_LOADED,{payload:n,frag:r,stats:t})}},{key:"loaderror",value:function(e,t){var i=t.loader;i&&i.abort(),this.loaders[t.type]=void 0,this.hls.trigger(l.default.ERROR,{type:h.ErrorTypes.NETWORK_ERROR,details:h.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:t.frag,response:e})}},{key:"loadtimeout",value:function(e,t){var i=t.loader;i&&i.abort(),this.loaders[t.type]=void 0,this.hls.trigger(l.default.ERROR,{type:h.ErrorTypes.NETWORK_ERROR,details:h.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:t.frag})}},{key:"loadprogress",value:function(e,t,i){var n=t.frag;n.loaded=e.loaded,this.hls.trigger(l.default.FRAG_LOAD_PROGRESS,{frag:n,stats:e})}}]),t}(d.default);i.default=f},{"../errors":30,"../event-handler":31,"../events":32,"../utils/logger":49}],39:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),u=e("../events"),l=n(u),c=e("../event-handler"),d=n(c),h=e("../errors"),p=e("../utils/logger"),f=function(e){function t(e){r(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,l.default.KEY_LOADING));return i.loaders={},i.decryptkey=null,i.decrypturl=null,i}return s(t,e),a(t,[{key:"destroy",value:function(){for(var e in this.loaders){var t=this.loaders[e];t&&t.destroy()}this.loaders={},d.default.prototype.destroy.call(this)}},{key:"onKeyLoading",value:function(e){var t=e.frag,i=t.type,n=this.loaders[i],r=t.decryptdata,o=r.uri;if(o!==this.decrypturl||null===this.decryptkey){var s=this.hls.config;n&&(p.logger.warn("abort previous key loader for type:"+i),n.abort()),t.loader=this.loaders[i]=new s.loader(s),this.decrypturl=o,this.decryptkey=null;var a=void 0,u=void 0,c=void 0;a={url:o,frag:t,responseType:"arraybuffer"},u={timeout:s.fragLoadingTimeOut,maxRetry:s.fragLoadingMaxRetry,retryDelay:s.fragLoadingRetryDelay,maxRetryDelay:s.fragLoadingMaxRetryTimeout},c={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)},t.loader.load(a,u,c)}else this.decryptkey&&(r.key=this.decryptkey,this.hls.trigger(l.default.KEY_LOADED,{frag:t}))}},{key:"loadsuccess",value:function(e,t,i){var n=i.frag;this.decryptkey=n.decryptdata.key=new Uint8Array(e.data),n.loader=void 0,this.loaders[n.type]=void 0,this.hls.trigger(l.default.KEY_LOADED,{frag:n})}},{key:"loaderror",value:function(e,t){var i=t.frag,n=i.loader;n&&n.abort(),this.loaders[t.type]=void 0,this.hls.trigger(l.default.ERROR,{type:h.ErrorTypes.NETWORK_ERROR,details:h.ErrorDetails.KEY_LOAD_ERROR,fatal:!1,frag:i,response:e})}},{key:"loadtimeout",value:function(e,t){var i=t.frag,n=i.loader;n&&n.abort(),this.loaders[t.type]=void 0,this.hls.trigger(l.default.ERROR,{type:h.ErrorTypes.NETWORK_ERROR,details:h.ErrorDetails.KEY_LOAD_TIMEOUT,fatal:!1,frag:i})}}]),t}(d.default);i.default=f},{"../errors":30,"../event-handler":31,"../events":32,"../utils/logger":49}],40:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),u=e("url-toolkit"),l=n(u),c=e("../events"),d=n(c),h=e("../event-handler"),p=n(h),f=e("../errors"),m=e("../utils/attr-list"),g=n(m),_=e("../utils/logger"),y=/#EXT-X-STREAM-INF:([^\n\r]*)[\r\n]+([^\r\n]+)/g,v=/#EXT-X-MEDIA:(.*)/g,b=/#EXTINF:(\d*(?:\.\d+)?)(?:,(.*))?|(?!#)(\S.+)|#EXT-X-BYTERANGE: *(.+)|#EXT-X-PROGRAM-DATE-TIME:(.+)|#.*/g,A=/(?:(?:#(EXTM3U))|(?:#EXT-X-(PLAYLIST-TYPE):(.+))|(?:#EXT-X-(MEDIA-SEQUENCE): *(\d+))|(?:#EXT-X-(TARGETDURATION): *(\d+))|(?:#EXT-X-(KEY):(.+))|(?:#EXT-X-(START):(.+))|(?:#EXT-X-(ENDLIST))|(?:#EXT-X-(DISCONTINUITY-SEQ)UENCE:(\d+))|(?:#EXT-X-(DIS)CONTINUITY))|(?:#EXT-X-(VERSION):(\d+))|(?:#EXT-X-(MAP):(.+))|(?:(#)(.*):(.*))|(?:(#)(.*))(?:.*)\r?\n?/,w=function(){function e(){s(this,e),this.method=null,this.key=null,this.iv=null,this._uri=null}return a(e,[{key:"uri",get:function(){return!this._uri&&this.reluri&&(this._uri=l.default.buildAbsoluteURL(this.baseuri,this.reluri)),this._uri}}]),e}(),E=function(){function e(){s(this,e),this._url=null,this._byteRange=null,this._decryptdata=null,this.tagList=[]}return a(e,[{key:"createInitializationVector",value:function(e){for(var t=new Uint8Array(16),i=12;16>i;i++)t[i]=e>>8*(15-i)&255;return t}},{key:"fragmentDecryptdataFromLevelkey",value:function(e,t){var i=e;return e&&e.method&&e.uri&&!e.iv&&(i=new w,i.method=e.method,i.baseuri=e.baseuri,i.reluri=e.reluri,i.iv=this.createInitializationVector(t)),i}},{key:"cloneObj",value:function(e){return JSON.parse(JSON.stringify(e))}},{key:"url",get:function(){return!this._url&&this.relurl&&(this._url=l.default.buildAbsoluteURL(this.baseurl,this.relurl)),this._url},set:function(e){this._url=e}},{key:"programDateTime",get:function(){return!this._programDateTime&&this.rawProgramDateTime&&(this._programDateTime=new Date(Date.parse(this.rawProgramDateTime))),this._programDateTime}},{key:"byteRange",get:function(){if(!this._byteRange){var e=this._byteRange=[];if(this.rawByteRange){var t=this.rawByteRange.split("@",2);if(1===t.length){var i=this.lastByteRangeEndOffset;e[0]=i||0}else e[0]=parseInt(t[1]);e[1]=parseInt(t[0])+e[0]}}return this._byteRange}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"decryptdata",get:function(){return this._decryptdata||(this._decryptdata=this.fragmentDecryptdataFromLevelkey(this.levelkey,this.sn)),this._decryptdata}}]),e}(),k=function(e){function t(e){s(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,d.default.MANIFEST_LOADING,d.default.LEVEL_LOADING,d.default.AUDIO_TRACK_LOADING,d.default.SUBTITLE_TRACK_LOADING));return i.loaders={},i}return o(t,e),a(t,[{key:"destroy",value:function(){for(var e in this.loaders){var t=this.loaders[e];t&&t.destroy()}this.loaders={},p.default.prototype.destroy.call(this)}},{key:"onManifestLoading",value:function(e){this.load(e.url,{type:"manifest"})}},{key:"onLevelLoading",value:function(e){this.load(e.url,{type:"level",level:e.level,id:e.id})}},{key:"onAudioTrackLoading",value:function(e){this.load(e.url,{type:"audioTrack",id:e.id})}},{key:"onSubtitleTrackLoading",value:function(e){this.load(e.url,{type:"subtitleTrack",id:e.id})}},{key:"load",value:function(e,t){var i=this.loaders[t.type];if(i){var n=i.context;if(n&&n.url===e)return void _.logger.trace("playlist request ongoing");_.logger.warn("abort previous loader for type:"+t.type),i.abort()}var r=this.hls.config,o=void 0,s=void 0,a=void 0,u=void 0;"manifest"===t.type?(o=r.manifestLoadingMaxRetry,s=r.manifestLoadingTimeOut,a=r.manifestLoadingRetryDelay,u=r.manifestLoadingMaxRetryTimeout):(o=r.levelLoadingMaxRetry,s=r.levelLoadingTimeOut,a=r.levelLoadingRetryDelay,u=r.levelLoadingMaxRetryTimeout,_.logger.log("loading playlist for "+t.type+" "+(t.level||t.id))),i=this.loaders[t.type]=t.loader=void 0!==r.pLoader?new r.pLoader(r):new r.loader(r),t.url=e,t.responseType="";var l=void 0,c=void 0;l={timeout:s,maxRetry:o,retryDelay:a,maxRetryDelay:u},c={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)},i.load(t,l,c)}},{key:"resolve",value:function(e,t){return l.default.buildAbsoluteURL(t,e)}},{key:"parseMasterPlaylist",value:function(e,t){var i=[],n=void 0;for(y.lastIndex=0;null!=(n=y.exec(e));){var r={},o=r.attrs=new g.default(n[1]);r.url=this.resolve(n[2],t);var s=o.decimalResolution("RESOLUTION");s&&(r.width=s.width,r.height=s.height),r.bitrate=o.decimalInteger("AVERAGE-BANDWIDTH")||o.decimalInteger("BANDWIDTH"),r.name=o.NAME;var a=o.CODECS;if(a){a=a.split(/[ ,]+/);for(var u=0;u<a.length;u++){var l=a[u];-1!==l.indexOf("avc1")?r.videoCodec=this.avc1toavcoti(l):r.audioCodec=l}}i.push(r)}return i}},{key:"parseMasterPlaylistMedia",value:function(e,t,i){var n=void 0,r=[],o=0;for(v.lastIndex=0;null!=(n=v.exec(e));){var s={},a=new g.default(n[1]);a.TYPE===i&&(s.groupId=a["GROUP-ID"],s.name=a.NAME,s.type=i,s.default="YES"===a.DEFAULT,s.autoselect="YES"===a.AUTOSELECT,s.forced="YES"===a.FORCED,a.URI&&(s.url=this.resolve(a.URI,t)),s.lang=a.LANGUAGE,s.name||(s.name=s.lang),s.id=o++,r.push(s))}return r}},{key:"avc1toavcoti",value:function(e){var t,i=e.split(".");return i.length>2?(t=i.shift()+".",t+=parseInt(i.shift()).toString(16),t+=("000"+parseInt(i.shift()).toString(16)).substr(-4)):t=e,t}},{key:"parseLevelPlaylist",value:function(e,t,i,n){var r,o,s=0,a=0,u={type:null,version:null,url:t,fragments:[],live:!0,startSN:0},l=new w,c=0,d=null,h=new E;for(b.lastIndex=0;null!==(r=b.exec(e));){var p=r[1];if(p){h.duration=parseFloat(p);var f=(" "+r[2]).slice(1);h.title=f||null,h.tagList.push(f?["INF",p,f]:["INF",p])}else if(r[3]){if(!isNaN(h.duration)){var m=s++;h.type=n,h.start=a,h.levelkey=l,h.sn=m,h.level=i,h.cc=c,h.baseurl=t,h.relurl=(" "+r[3]).slice(1),u.fragments.push(h),d=h,a+=h.duration,h=new E}}else if(r[4]){if(h.rawByteRange=(" "+r[4]).slice(1),d){var y=d.byteRangeEndOffset;y&&(h.lastByteRangeEndOffset=y)}}else if(r[5])h.rawProgramDateTime=(" "+r[5]).slice(1),h.tagList.push(["PROGRAM-DATE-TIME",h.rawProgramDateTime]);else{for(r=r[0].match(A),o=1;o<r.length&&void 0===r[o];o++);var v=(" "+r[o+1]).slice(1),k=(" "+r[o+2]).slice(1);switch(r[o]){case"#":h.tagList.push(k?[v,k]:[v]);break;case"PLAYLIST-TYPE":u.type=v.toUpperCase();break;case"MEDIA-SEQUENCE":s=u.startSN=parseInt(v);break;case"TARGETDURATION":u.targetduration=parseFloat(v);break;case"VERSION":u.version=parseInt(v);break;case"EXTM3U":break;case"ENDLIST":u.live=!1;break;case"DIS":c++,h.tagList.push(["DIS"]);break;case"DISCONTINUITY-SEQ":c=parseInt(v);break;case"KEY":var C=v,T=new g.default(C),x=T.enumeratedString("METHOD"),S=T.URI,O=T.hexadecimalInteger("IV");x&&(l=new w,S&&"AES-128"===x&&(l.method=x,l.baseuri=t,l.reluri=S,l.key=null,l.iv=O));break;case"START":var P=v,I=new g.default(P),M=I.decimalFloatingPoint("TIME-OFFSET");isNaN(M)||(u.startTimeOffset=M);break;case"MAP":var D=new g.default(v);h.relurl=D.URI,h.rawByteRange=D.BYTERANGE,h.baseurl=t,h.level=i,h.type=n,h.sn="initSegment",u.initSegment=h,h=new E;break;default:_.logger.warn("line parsed but not handled: "+r)}}}return h=d,h&&!h.relurl&&(u.fragments.pop(),a-=h.duration),u.totalduration=a,u.averagetargetduration=a/u.fragments.length,u.endSN=s-1,u}},{key:"loadsuccess",value:function(e,t,i){var n=e.data,r=e.url,o=i.type,s=i.id,a=i.level,u=this.hls;if(this.loaders[o]=void 0,(void 0===r||0===r.indexOf("data:"))&&(r=i.url),t.tload=performance.now(),0===n.indexOf("#EXTM3U"))if(n.indexOf("#EXTINF:")>0){var l="audioTrack"!==o&&"subtitleTrack"!==o,c=this.parseLevelPlaylist(n,r,a||s||0,"audioTrack"===o?"audio":"subtitleTrack"===o?"subtitle":"main");c.tload=t.tload,"manifest"===o&&u.trigger(d.default.MANIFEST_LOADED,{levels:[{url:r,details:c}],audioTracks:[],url:r,stats:t}),t.tparsed=performance.now(),c.targetduration?l?u.trigger(d.default.LEVEL_LOADED,{details:c,level:a||0,id:s||0,stats:t}):"audioTrack"===o?u.trigger(d.default.AUDIO_TRACK_LOADED,{details:c,id:s,stats:t}):"subtitleTrack"===o&&u.trigger(d.default.SUBTITLE_TRACK_LOADED,{details:c,id:s,stats:t}):u.trigger(d.default.ERROR,{type:f.ErrorTypes.NETWORK_ERROR,details:f.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:!0,url:r,reason:"invalid targetduration"})}else{var h=this.parseMasterPlaylist(n,r);if(h.length){var p=this.parseMasterPlaylistMedia(n,r,"AUDIO"),m=this.parseMasterPlaylistMedia(n,r,"SUBTITLES");if(p.length){var g=!1;p.forEach(function(e){e.url||(g=!0)}),!1===g&&h[0].audioCodec&&!h[0].attrs.AUDIO&&(_.logger.log("audio codec signaled in quality level, but no embedded audio track signaled, create one"),p.unshift({type:"main",name:"main"}))}u.trigger(d.default.MANIFEST_LOADED,{levels:h,audioTracks:p,subtitles:m,url:r,stats:t})}else u.trigger(d.default.ERROR,{type:f.ErrorTypes.NETWORK_ERROR,details:f.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:!0,url:r,reason:"no level found in manifest"})}else u.trigger(d.default.ERROR,{type:f.ErrorTypes.NETWORK_ERROR,details:f.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:!0,url:r,reason:"no EXTM3U delimiter"})}},{key:"loaderror",value:function(e,t){var i,n,r=t.loader;switch(t.type){case"manifest":i=f.ErrorDetails.MANIFEST_LOAD_ERROR,n=!0;break;case"level":i=f.ErrorDetails.LEVEL_LOAD_ERROR,n=!1;break;case"audioTrack":i=f.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,n=!1}r&&(r.abort(),this.loaders[t.type]=void 0),this.hls.trigger(d.default.ERROR,{type:f.ErrorTypes.NETWORK_ERROR,details:i,fatal:n,url:r.url,loader:r,response:e,context:t})}},{key:"loadtimeout",value:function(e,t){var i,n,r=t.loader;switch(t.type){case"manifest":i=f.ErrorDetails.MANIFEST_LOAD_TIMEOUT,n=!0;break;case"level":i=f.ErrorDetails.LEVEL_LOAD_TIMEOUT,n=!1;break;case"audioTrack":i=f.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT,n=!1}r&&(r.abort(),this.loaders[t.type]=void 0),this.hls.trigger(d.default.ERROR,{type:f.ErrorTypes.NETWORK_ERROR,details:i,fatal:n,url:r.url,loader:r,context:t})}}]),t}(p.default);i.default=k},{"../errors":30,"../event-handler":31,"../events":32,"../utils/attr-list":44,"../utils/logger":49,"url-toolkit":2}],41:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){
function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=function(){function e(){n(this,e)}return r(e,null,[{key:"init",value:function(){e.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]};var t;for(t in e.types)e.types.hasOwnProperty(t)&&(e.types[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);var i=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),n=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);e.HDLR_TYPES={video:i,audio:n};var r=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),o=new Uint8Array([0,0,0,0,0,0,0,0]);e.STTS=e.STSC=e.STCO=o,e.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),e.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),e.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),e.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var s=new Uint8Array([105,115,111,109]),a=new Uint8Array([97,118,99,49]),u=new Uint8Array([0,0,0,1]);e.FTYP=e.box(e.types.ftyp,s,u,s,a),e.DINF=e.box(e.types.dinf,e.box(e.types.dref,r))}},{key:"box",value:function(e){for(var t,i=Array.prototype.slice.call(arguments,1),n=8,r=i.length,o=r;r--;)n+=i[r].byteLength;for(t=new Uint8Array(n),t[0]=n>>24&255,t[1]=n>>16&255,t[2]=n>>8&255,t[3]=255&n,t.set(e,4),r=0,n=8;o>r;r++)t.set(i[r],n),n+=i[r].byteLength;return t}},{key:"hdlr",value:function(t){return e.box(e.types.hdlr,e.HDLR_TYPES[t])}},{key:"mdat",value:function(t){return e.box(e.types.mdat,t)}},{key:"mdhd",value:function(t,i){return i*=t,e.box(e.types.mdhd,new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,i>>24,i>>16&255,i>>8&255,255&i,85,196,0,0]))}},{key:"mdia",value:function(t){return e.box(e.types.mdia,e.mdhd(t.timescale,t.duration),e.hdlr(t.type),e.minf(t))}},{key:"mfhd",value:function(t){return e.box(e.types.mfhd,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t]))}},{key:"minf",value:function(t){return"audio"===t.type?e.box(e.types.minf,e.box(e.types.smhd,e.SMHD),e.DINF,e.stbl(t)):e.box(e.types.minf,e.box(e.types.vmhd,e.VMHD),e.DINF,e.stbl(t))}},{key:"moof",value:function(t,i,n){return e.box(e.types.moof,e.mfhd(t),e.traf(n,i))}},{key:"moov",value:function(t){for(var i=t.length,n=[];i--;)n[i]=e.trak(t[i]);return e.box.apply(null,[e.types.moov,e.mvhd(t[0].timescale,t[0].duration)].concat(n).concat(e.mvex(t)))}},{key:"mvex",value:function(t){for(var i=t.length,n=[];i--;)n[i]=e.trex(t[i]);return e.box.apply(null,[e.types.mvex].concat(n))}},{key:"mvhd",value:function(t,i){i*=t;var n=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,t>>24&255,t>>16&255,t>>8&255,255&t,i>>24&255,i>>16&255,i>>8&255,255&i,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return e.box(e.types.mvhd,n)}},{key:"sdtp",value:function(t){var i,n,r=t.samples||[],o=new Uint8Array(4+r.length);for(n=0;n<r.length;n++)i=r[n].flags,o[n+4]=i.dependsOn<<4|i.isDependedOn<<2|i.hasRedundancy;return e.box(e.types.sdtp,o)}},{key:"stbl",value:function(t){return e.box(e.types.stbl,e.stsd(t),e.box(e.types.stts,e.STTS),e.box(e.types.stsc,e.STSC),e.box(e.types.stsz,e.STSZ),e.box(e.types.stco,e.STCO))}},{key:"avc1",value:function(t){var i,n,r,o=[],s=[];for(i=0;i<t.sps.length;i++)n=t.sps[i],r=n.byteLength,o.push(r>>>8&255),o.push(255&r),o=o.concat(Array.prototype.slice.call(n));for(i=0;i<t.pps.length;i++)n=t.pps[i],r=n.byteLength,s.push(r>>>8&255),s.push(255&r),s=s.concat(Array.prototype.slice.call(n));var a=e.box(e.types.avcC,new Uint8Array([1,o[3],o[4],o[5],255,224|t.sps.length].concat(o).concat([t.pps.length]).concat(s))),u=t.width,l=t.height,c=t.pixelRatio[0],d=t.pixelRatio[1];return e.box(e.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,u>>8&255,255&u,l>>8&255,255&l,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),a,e.box(e.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),e.box(e.types.pasp,new Uint8Array([c>>24,c>>16&255,c>>8&255,255&c,d>>24,d>>16&255,d>>8&255,255&d])))}},{key:"esds",value:function(e){var t=e.config.length;return new Uint8Array([0,0,0,0,3,23+t,0,1,0,4,15+t,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([t]).concat(e.config).concat([6,1,2]))}},{key:"mp4a",value:function(t){var i=t.audiosamplerate;return e.box(e.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,i>>8&255,255&i,0,0]),e.box(e.types.esds,e.esds(t)))}},{key:"mp3",value:function(t){var i=t.audiosamplerate;return e.box(e.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,i>>8&255,255&i,0,0]))}},{key:"stsd",value:function(t){return"audio"===t.type?t.isAAC||"mp3"!==t.codec?e.box(e.types.stsd,e.STSD,e.mp4a(t)):e.box(e.types.stsd,e.STSD,e.mp3(t)):e.box(e.types.stsd,e.STSD,e.avc1(t))}},{key:"tkhd",value:function(t){var i=t.id,n=t.duration*t.timescale,r=t.width,o=t.height;return e.box(e.types.tkhd,new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,i>>24&255,i>>16&255,i>>8&255,255&i,0,0,0,0,n>>24,n>>16&255,n>>8&255,255&n,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,r>>8&255,255&r,0,0,o>>8&255,255&o,0,0]))}},{key:"traf",value:function(t,i){var n=e.sdtp(t),r=t.id;return e.box(e.types.traf,e.box(e.types.tfhd,new Uint8Array([0,0,0,0,r>>24,r>>16&255,r>>8&255,255&r])),e.box(e.types.tfdt,new Uint8Array([0,0,0,0,i>>24,i>>16&255,i>>8&255,255&i])),e.trun(t,n.length+16+16+8+16+8+8),n)}},{key:"trak",value:function(t){return t.duration=t.duration||4294967295,e.box(e.types.trak,e.tkhd(t),e.mdia(t))}},{key:"trex",value:function(t){var i=t.id;return e.box(e.types.trex,new Uint8Array([0,0,0,0,i>>24,i>>16&255,i>>8&255,255&i,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}},{key:"trun",value:function(t,i){var n,r,o,s,a,u,l=t.samples||[],c=l.length,d=12+16*c,h=new Uint8Array(d);for(i+=8+d,h.set([0,0,15,1,c>>>24&255,c>>>16&255,c>>>8&255,255&c,i>>>24&255,i>>>16&255,i>>>8&255,255&i],0),n=0;c>n;n++)r=l[n],o=r.duration,s=r.size,a=r.flags,u=r.cts,h.set([o>>>24&255,o>>>16&255,o>>>8&255,255&o,s>>>24&255,s>>>16&255,s>>>8&255,255&s,a.isLeading<<2|a.dependsOn,a.isDependedOn<<6|a.hasRedundancy<<4|a.paddingValue<<1|a.isNonSync,61440&a.degradPrio,15&a.degradPrio,u>>>24&255,u>>>16&255,u>>>8&255,255&u],12+16*n);return e.box(e.types.trun,h)}},{key:"initSegment",value:function(t){e.types||e.init();var i,n=e.moov(t);return i=new Uint8Array(e.FTYP.byteLength+n.byteLength),i.set(e.FTYP),i.set(n,e.FTYP.byteLength),i}}]),e}();i.default=o},{}],42:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=e("../helper/aac"),a=n(s),u=e("../events"),l=n(u),c=e("../utils/logger"),d=e("../remux/mp4-generator"),h=n(d),p=e("../errors"),f=function(){function e(t,i,n,o){r(this,e),this.observer=t,this.id=i,this.config=n,this.typeSupported=o,this.ISGenerated=!1,this.PES2MP4SCALEFACTOR=4,this.PES_TIMESCALE=9e4,this.MP4_TIMESCALE=this.PES_TIMESCALE/this.PES2MP4SCALEFACTOR}return o(e,[{key:"destroy",value:function(){}},{key:"resetTimeStamp",value:function(e){this._initPTS=this._initDTS=e}},{key:"resetInitSegment",value:function(){this.ISGenerated=!1}},{key:"remux",value:function(e,t,i,n,r,o,s,a,u,c){if(this.level=e,this.sn=t,this.ISGenerated||this.generateIS(n,r,a,i),this.ISGenerated)if(n.samples.length){var d=this.remuxAudio(n,a,u,c);if(r.samples.length){var h=void 0;d&&(h=d.endPTS-d.startPTS),this.remuxVideo(r,a,u,h)}}else{var p=void 0;r.samples.length&&(p=this.remuxVideo(r,a,u)),p&&n.codec&&this.remuxEmptyAudio(n,a,u,p)}o.samples.length&&this.remuxID3(o,a),s.samples.length&&this.remuxText(s,a),this.observer.trigger(l.default.FRAG_PARSED,{id:this.id,level:this.level,sn:this.sn})}},{key:"generateIS",value:function(e,t,i,n){var r,o,s=this.observer,a=e.samples,u=t.samples,d=this.PES_TIMESCALE,f=this.typeSupported,m="audio/mp4",g={},_={id:this.id,level:this.level,sn:this.sn,tracks:g,unique:!1},y=void 0===this._initPTS;if(y&&(r=o=1/0),e.config&&a.length){if(e.timescale=e.audiosamplerate,e.timescale*e.duration>Math.pow(2,32)){e.timescale=e.audiosamplerate/function e(t,i){return i?e(i,t%i):t}(e.audiosamplerate,e.isAAC?1024:1152)}c.logger.log("audio mp4 timescale :"+e.timescale),e.isAAC||(f.mpeg?(m="audio/mpeg",e.codec=""):f.mp3&&(e.codec="mp3")),g.audio={container:m,codec:e.codec,initSegment:!e.isAAC&&f.mpeg?new Uint8Array:h.default.initSegment([e]),metadata:{channelCount:e.channelCount}},y&&(r=o=a[0].pts-d*i)}t.sps&&t.pps&&u.length&&(t.timescale=this.MP4_TIMESCALE,g.video={container:"video/mp4",codec:t.codec,initSegment:h.default.initSegment([t]),metadata:{width:t.width,height:t.height}},y&&(r=Math.min(r,u[0].pts-d*i),o=Math.min(o,u[0].dts-d*i),this.observer.trigger(l.default.INIT_PTS_FOUND,{id:this.id,initPTS:r,cc:n}))),Object.keys(g).length?(s.trigger(l.default.FRAG_PARSING_INIT_SEGMENT,_),this.ISGenerated=!0,y&&(this._initPTS=r,this._initDTS=o)):s.trigger(l.default.ERROR,{type:p.ErrorTypes.MEDIA_ERROR,id:this.id,details:p.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"no audio/video samples found"})}},{key:"remuxVideo",value:function(e,t,i,n){var r,o,s,a,u,d,f,m=8,g=this.PES_TIMESCALE,_=this.PES2MP4SCALEFACTOR,y=e.samples,v=[],b=y.length,A=this._PTSNormalize,w=this._initDTS;y.sort(function(e,t){var i=e.dts-t.dts;return i||e.pts-t.pts});var E=y.reduce(function(e,t){return Math.max(Math.min(e,t.pts-t.dts),-18e3)},0);if(0>E){c.logger.warn("PTS < DTS detected in video samples, shifting DTS by "+Math.round(E/90)+" ms to overcome this issue");for(var k=0;k<y.length;k++)y[k].dts+=E}var C=void 0;C=i?this.nextAvcDts:t*g;var T=y[0];u=Math.max(A(T.dts-w,C),0),a=Math.max(A(T.pts-w,C),0);var x=Math.round((u-C)/90);i&&x&&(x>1?c.logger.log("AVC:"+x+" ms hole between fragments detected,filling it"):-1>x&&c.logger.log("AVC:"+-x+" ms overlapping between fragments detected"),u=C,y[0].dts=u+w,a=Math.max(a-x,C),y[0].pts=a+w,c.logger.log("Video/PTS/DTS adjusted: "+Math.round(a/90)+"/"+Math.round(u/90)+",delta:"+x+" ms")),u,T=y[y.length-1],f=Math.max(A(T.dts-w,C),0),d=Math.max(A(T.pts-w,C),0),d=Math.max(d,f);var S=navigator.vendor,O=navigator.userAgent,P=S&&S.indexOf("Apple")>-1&&O&&!O.match("CriOS");P&&(r=Math.round((f-u)/(_*(y.length-1))));for(var I=0,M=0,D=0;b>D;D++){for(var R=y[D],B=R.units.units,L=B.length,F=0,j=0;L>j;j++)F+=B[j].data.length;M+=F,I+=L,R.length=F,P?R.dts=u+D*_*r:(R.dts=Math.max(A(R.dts-w,C),u),R.dts=Math.round(R.dts/_)*_),R.pts=Math.max(A(R.pts-w,C),R.dts),R.pts=Math.round(R.pts/_)*_}var N=M+4*I+8;try{o=new Uint8Array(N)}catch(e){return void this.observer.trigger(l.default.ERROR,{type:p.ErrorTypes.MUX_ERROR,level:this.level,id:this.id,details:p.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:N,reason:"fail allocating video mdat "+N})}var H=new DataView(o.buffer);H.setUint32(0,N),o.set(h.default.types.mdat,4);for(var U=0;b>U;U++){for(var V=y[U],W=V.units.units,G=0,z=void 0,Q=0,Y=W.length;Y>Q;Q++){var K=W[Q],q=K.data,J=K.data.byteLength;H.setUint32(m,J),m+=4,o.set(q,m),m+=J,G+=4+J}if(P)z=Math.max(0,r*Math.round((V.pts-V.dts)/(_*r)));else{if(b-1>U)r=y[U+1].dts-V.dts;else{var X=this.config,Z=V.dts-y[U>0?U-1:U].dts;if(X.stretchShortVideoTrack){var $=X.maxBufferHole,ee=X.maxSeekHole,te=Math.floor(Math.min($,ee)*g),ie=(n?a+n*g:this.nextAudioPts)-V.pts;ie>te?(r=ie-Z,0>r&&(r=Z),c.logger.log("It is approximately "+ie/90+" ms to the next segment; using duration "+r/90+" ms for the last video frame.")):r=Z}else r=Z}r/=_,z=Math.round((V.pts-V.dts)/_)}v.push({size:G,duration:r,cts:z,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:V.key?2:1,isNonSync:V.key?0:1}})}this.nextAvcDts=f+r*_;var ne=e.dropped;if(e.len=0,e.nbNalu=0,e.dropped=0,v.length&&navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var re=v[0].flags;re.dependsOn=2,re.isNonSync=0}e.samples=v,s=h.default.moof(e.sequenceNumber++,u/_,e),e.samples=[];var oe={id:this.id,level:this.level,sn:this.sn,data1:s,data2:o,startPTS:a/g,endPTS:(d+_*r)/g,startDTS:u/g,endDTS:this.nextAvcDts/g,type:"video",nb:v.length,dropped:ne};return this.observer.trigger(l.default.FRAG_PARSING_DATA,oe),oe}},{key:"remuxAudio",value:function(e,t,i,n){var r,o,s,u,d,f,m,g,_,y,v,b,A,w,E,k,C=this.PES_TIMESCALE,T=e.timescale,x=C/T,S=e.timescale*(e.isAAC?1024:1152)/e.audiosamplerate,O=S*x,P=this._PTSNormalize,I=this._initDTS,M=!e.isAAC&&this.typeSupported.mpeg,D=M?0:8,R=[],B=[];if(e.samples.sort(function(e,t){return e.pts-t.pts}),B=e.samples,k=this.nextAudioPts,i|=B.length&&k&&(Math.abs(t-k/C)<.1||Math.abs(B[0].pts-k-this._initDTS)<20*O),i||(k=t*C),n&&e.isAAC)for(var L=0,F=k;L<B.length;){var j=B[L],N=P(j.pts-I,k),H=N-F;if(-O>=H)c.logger.warn("Dropping 1 audio frame @ "+Math.round(F/90)/1e3+"s due to "+Math.round(Math.abs(H/90))+" ms overlap."),B.splice(L,1),e.len-=j.unit.length;else if(H>=O&&F){var U=Math.round(H/O);c.logger.warn("Injecting "+U+" audio frame @ "+Math.round(F/90)/1e3+"s due to "+Math.round(H/90)+" ms gap.");for(var V=0;U>V;V++)E=F+I,E=Math.max(E,I),w=a.default.getSilentFrame(e.manifestCodec||e.codec,e.channelCount),w||(c.logger.log("Unable to get silent frame for given audio codec; duplicating last frame instead."),w=j.unit.subarray()),B.splice(L,0,{unit:w,pts:E,dts:E}),e.len+=w.length,F+=O,L+=1;j.pts=j.dts=F+I,F+=O,L+=1}else Math.abs(H),F+=O,j.pts=j.dts=0===L?I+k:B[L-1].pts+O,L+=1}for(var W=0,G=B.length;G>W;W++){if(o=B[W],u=o.unit,y=o.pts-I,v=o.dts-I,void 0!==_)b=P(y,_),A=P(v,_),s.duration=Math.round((A-_)/x);else{b=P(y,k),A=P(v,k);var z=Math.round(1e3*(b-k)/C),Q=0;if(i&&e.isAAC&&z){if(z>0)Q=Math.round((b-k)/O),c.logger.log(z+" ms hole between AAC samples detected,filling it"),Q>0&&(w=a.default.getSilentFrame(e.manifestCodec||e.codec,e.channelCount),w||(w=u.subarray()),e.len+=Q*w.length);else if(-12>z){c.logger.log(-z+" ms overlapping between AAC samples detected, drop frame"),e.len-=u.byteLength;continue}b=A=k}if(m=Math.max(0,b),g=Math.max(0,A),!(e.len>0))return;var Y=M?e.len:e.len+8;try{d=new Uint8Array(Y)}catch(e){return void this.observer.trigger(l.default.ERROR,{type:p.ErrorTypes.MUX_ERROR,level:this.level,id:this.id,details:p.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:Y,reason:"fail allocating audio mdat "+Y})}M||(r=new DataView(d.buffer),r.setUint32(0,Y),d.set(h.default.types.mdat,4));for(var K=0;Q>K;K++)E=b-(Q-K)*O,w=a.default.getSilentFrame(e.manifestCodec||e.codec,e.channelCount),w||(c.logger.log("Unable to get silent frame for given audio codec; duplicating this frame instead."),w=u.subarray()),d.set(w,D),D+=w.byteLength,s={size:w.byteLength,cts:0,duration:1024,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},R.push(s)}d.set(u,D);var q=u.byteLength;D+=q,s={size:q,cts:0,duration:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},R.push(s),_=A}var J=0,X=R.length;if(X>=2&&(J=R[X-2].duration,s.duration=J),X){this.nextAudioPts=b+x*J,e.len=0,e.samples=R,f=M?new Uint8Array:h.default.moof(e.sequenceNumber++,g/x,e),e.samples=[];var Z={id:this.id,level:this.level,sn:this.sn,data1:f,data2:d,startPTS:m/C,endPTS:this.nextAudioPts/C,startDTS:g/C,endDTS:(A+x*J)/C,type:"audio",nb:X};return this.observer.trigger(l.default.FRAG_PARSING_DATA,Z),Z}return null}},{key:"remuxEmptyAudio",value:function(e,t,i,n){var r=this.PES_TIMESCALE,o=e.timescale?e.timescale:e.audiosamplerate,s=r/o,u=this.nextAudioPts,l=(void 0!==u?u:n.startDTS*r)+this._initDTS,d=n.endDTS*r+this._initDTS,h=1024*s,p=Math.ceil((d-l)/h),f=a.default.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);if(c.logger.warn("remux empty Audio"),!f)return void c.logger.trace("Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec!");for(var m=[],g=0;p>g;g++){var _=l+g*h;m.push({unit:f,pts:_,dts:_}),e.len+=f.length}e.samples=m,this.remuxAudio(e,t,i)}},{key:"remuxID3",value:function(e,t){var i,n=e.samples.length;if(n){for(var r=0;n>r;r++)i=e.samples[r],i.pts=(i.pts-this._initPTS)/this.PES_TIMESCALE,i.dts=(i.dts-this._initDTS)/this.PES_TIMESCALE;this.observer.trigger(l.default.FRAG_PARSING_METADATA,{id:this.id,level:this.level,sn:this.sn,samples:e.samples})}e.samples=[],t=t}},{key:"remuxText",value:function(e,t){e.samples.sort(function(e,t){return e.pts-t.pts});var i,n=e.samples.length;if(n){for(var r=0;n>r;r++)i=e.samples[r],i.pts=(i.pts-this._initPTS)/this.PES_TIMESCALE;this.observer.trigger(l.default.FRAG_PARSING_USERDATA,{id:this.id,level:this.level,sn:this.sn,samples:e.samples})}e.samples=[],t=t}},{key:"_PTSNormalize",value:function(e,t){var i;if(void 0===t)return e;for(i=e>t?-8589934592:8589934592;Math.abs(e-t)>4294967296;)e+=i;return e}}]),e}();i.default=f},{"../errors":30,"../events":32,"../helper/aac":33,"../remux/mp4-generator":41,"../utils/logger":49}],43:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=e("../events"),s=function(e){return e&&e.__esModule?e:{default:e}}(o),a=function(){function e(t,i){n(this,e),this.observer=t,this.id=i}return r(e,[{key:"destroy",value:function(){}},{key:"resetTimeStamp",value:function(){}},{key:"resetInitSegment",value:function(){}},{key:"remux",value:function(e,t,i,n,r,o,a,u,l,c,d){var h=this.observer,p="";n&&(p+="audio"),r&&(p+="video"),h.trigger(s.default.FRAG_PARSING_DATA,{id:this.id,level:e,sn:t,data1:d,startPTS:u,startDTS:u,type:p,nb:1,dropped:0}),h.trigger(s.default.FRAG_PARSED,{id:this.id,level:e,sn:t})}}]),e}();i.default=a},{"../events":32}],44:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=/^(\d+)x(\d+)$/,s=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,a=function(){function e(t){n(this,e),"string"==typeof t&&(t=e.parseAttrList(t));for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i])}return r(e,[{key:"decimalInteger",value:function(e){var t=parseInt(this[e],10);return t>Number.MAX_SAFE_INTEGER?1/0:t}},{key:"hexadecimalInteger",value:function(e){if(this[e]){var t=(this[e]||"0x").slice(2);t=(1&t.length?"0":"")+t;for(var i=new Uint8Array(t.length/2),n=0;n<t.length/2;n++)i[n]=parseInt(t.slice(2*n,2*n+2),16);return i}return null}},{key:"hexadecimalIntegerAsNumber",value:function(e){var t=parseInt(this[e],16);return t>Number.MAX_SAFE_INTEGER?1/0:t}},{key:"decimalFloatingPoint",value:function(e){return parseFloat(this[e])}},{key:"enumeratedString",value:function(e){return this[e]}},{key:"decimalResolution",value:function(e){var t=o.exec(this[e]);return null===t?void 0:{width:parseInt(t[1],10),height:parseInt(t[2],10)}}}],[{key:"parseAttrList",value:function(e){var t,i={};for(s.lastIndex=0;null!==(t=s.exec(e));){var n=t[2];0===n.indexOf('"')&&n.lastIndexOf('"')===n.length-1&&(n=n.slice(1,-1)),i[t[1]]=n}return i}}]),e}();i.default=a},{}],45:[function(e,t,i){"use strict";var n={search:function(e,t){for(var i=0,n=e.length-1,r=null,o=null;n>=i;){r=(i+n)/2|0,o=e[r];var s=t(o);if(s>0)i=r+1;else{if(!(0>s))return o;n=r-1}}return null}};t.exports=n},{}],46:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},s=function(e){var t=e;return o.hasOwnProperty(e)&&(t=o[e]),String.fromCharCode(t)},a=15,u=100,l={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},c={17:2,18:4,21:6,22:8,23:10,19:13,20:15},d={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},h={25:2,26:4,29:6,30:8,31:10,27:13,28:15},p=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],f={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(e){this.time=e},log:function(e,t){var i=this.verboseFilter[e];this.verboseLevel>=i&&console.log(this.time+" ["+e+"] "+t)}},m=function(e){for(var t=[],i=0;i<e.length;i++)t.push(e[i].toString(16));return t},g=function(){function e(t,i,r,o,s){n(this,e),this.foreground=t||"white",this.underline=i||!1,this.italics=r||!1,this.background=o||"black",this.flash=s||!1}return r(e,[{key:"reset",value:function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}},{key:"setStyles",value:function(e){for(var t=["foreground","underline","italics","background","flash"],i=0;i<t.length;i++){var n=t[i];e.hasOwnProperty(n)&&(this[n]=e[n])}}},{key:"isDefault",value:function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash}},{key:"equals",value:function(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash}},{key:"copy",value:function(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash}},{key:"toString",value:function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}}]),e}(),_=function(){function e(t,i,r,o,s,a){n(this,e),this.uchar=t||" ",this.penState=new g(i,r,o,s,a)}return r(e,[{key:"reset",value:function(){this.uchar=" ",this.penState.reset()}},{key:"setChar",value:function(e,t){this.uchar=e,this.penState.copy(t)}},{key:"setPenState",value:function(e){this.penState.copy(e)}},{key:"equals",value:function(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)}},{key:"copy",value:function(e){this.uchar=e.uchar,this.penState.copy(e.penState)}},{key:"isEmpty",value:function(){return" "===this.uchar&&this.penState.isDefault()}}]),e}(),y=function(){function e(){n(this,e),this.chars=[];for(var t=0;u>t;t++)this.chars.push(new _);this.pos=0,this.currPenState=new g}return r(e,[{key:"equals",value:function(e){for(var t=!0,i=0;u>i;i++)if(!this.chars[i].equals(e.chars[i])){t=!1;break}return t}},{key:"copy",value:function(e){for(var t=0;u>t;t++)this.chars[t].copy(e.chars[t])}},{key:"isEmpty",value:function(){for(var e=!0,t=0;u>t;t++)if(!this.chars[t].isEmpty()){e=!1;break}return e}},{key:"setCursor",value:function(e){this.pos!==e&&(this.pos=e),this.pos<0?(f.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>u&&(f.log("ERROR","Too large cursor position "+this.pos),this.pos=u)}},{key:"moveCursor",value:function(e){var t=this.pos+e;if(e>1)for(var i=this.pos+1;t+1>i;i++)this.chars[i].setPenState(this.currPenState);this.setCursor(t)}},{key:"backSpace",value:function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)}},{key:"insertChar",value:function(e){e>=144&&this.backSpace();var t=s(e);return this.pos>=u?void f.log("ERROR","Cannot insert "+e.toString(16)+" ("+t+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(t,this.currPenState),void this.moveCursor(1))}},{key:"clearFromPos",value:function(e){var t;for(t=e;u>t;t++)this.chars[t].reset()}},{key:"clear",value:function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()}},{key:"clearToEndOfRow",value:function(){this.clearFromPos(this.pos)}},{key:"getTextString",value:function(){for(var e=[],t=!0,i=0;u>i;i++){var n=this.chars[i].uchar;" "!==n&&(t=!1),e.push(n)}return t?"":e.join("")}},{key:"setPenStyles",value:function(e){this.currPenState.setStyles(e),this.chars[this.pos].setPenState(this.currPenState)}}]),e}(),v=function(){function e(){n(this,e),this.rows=[];for(var t=0;a>t;t++)this.rows.push(new y);this.currRow=a-1,this.nrRollUpRows=null,this.reset()}return r(e,[{key:"reset",value:function(){for(var e=0;a>e;e++)this.rows[e].clear();this.currRow=a-1}},{key:"equals",value:function(e){for(var t=!0,i=0;a>i;i++)if(!this.rows[i].equals(e.rows[i])){t=!1;break}return t}},{key:"copy",value:function(e){for(var t=0;a>t;t++)this.rows[t].copy(e.rows[t])}},{key:"isEmpty",value:function(){for(var e=!0,t=0;a>t;t++)if(!this.rows[t].isEmpty()){e=!1;break}return e}},{key:"backSpace",value:function(){this.rows[this.currRow].backSpace()}},{key:"clearToEndOfRow",value:function(){this.rows[this.currRow].clearToEndOfRow()}},{key:"insertChar",value:function(e){this.rows[this.currRow].insertChar(e)}},{key:"setPen",value:function(e){this.rows[this.currRow].setPenStyles(e)}},{key:"moveCursor",value:function(e){this.rows[this.currRow].moveCursor(e)}},{key:"setCursor",value:function(e){f.log("INFO","setCursor: "+e),this.rows[this.currRow].setCursor(e)}},{key:"setPAC",value:function(e){f.log("INFO","pacData = "+JSON.stringify(e));var t=e.row-1;if(this.nrRollUpRows&&t<this.nrRollUpRows-1&&(t=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==t){for(var i=0;a>i;i++)this.rows[i].clear();var n=this.currRow+1-this.nrRollUpRows,r=this.lastOutputScreen.rows[n].cueStartTime;if(r&&r<f.time)for(var o=0;o<this.nrRollUpRows;o++)this.rows[t-this.nrRollUpRows+o+1].copy(this.lastOutputScreen.rows[n+o])}this.currRow=t;var s=this.rows[this.currRow];if(null!==e.indent){var u=e.indent,l=Math.max(u-1,0);s.setCursor(e.indent),e.color=s.chars[l].penState.foreground}var c={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(c)}},{key:"setBkgData",value:function(e){f.log("INFO","bkgData = "+JSON.stringify(e)),this.backSpace(),this.setPen(e),this.insertChar(32)}},{key:"setRollUpRows",value:function(e){this.nrRollUpRows=e}},{key:"rollUp",value:function(){if(null===this.nrRollUpRows)return void f.log("DEBUG","roll_up but nrRollUpRows not set yet");f.log("TEXT",this.getDisplayText());var e=this.currRow+1-this.nrRollUpRows,t=this.rows.splice(e,1)[0];t.clear(),this.rows.splice(this.currRow,0,t),f.log("INFO","Rolling up")}},{key:"getDisplayText",value:function(e){e=e||!1;for(var t=[],i="",n=-1,r=0;a>r;r++){var o=this.rows[r].getTextString();o&&(n=r+1,e?t.push("Row "+n+": '"+o+"'"):t.push(o.trim()))}return t.length>0&&(i=e?"["+t.join(" | ")+"]":t.join("\n")),i}},{key:"getTextAndFormat",value:function(){return this.rows}}]),e}(),b=function(){function e(t,i){n(this,e),this.chNr=t,this.outputFilter=i,this.mode=null,this.verbose=0,this.displayedMemory=new v,this.nonDisplayedMemory=new v,this.lastOutputScreen=new v,this.currRollUpRow=this.displayedMemory.rows[a-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}return r(e,[{key:"reset",value:function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[a-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null}},{key:"getHandler",value:function(){return this.outputFilter}},{key:"setHandler",value:function(e){this.outputFilter=e}},{key:"setPAC",value:function(e){this.writeScreen.setPAC(e)}},{key:"setBkgData",value:function(e){this.writeScreen.setBkgData(e)}},{key:"setMode",value:function(e){e!==this.mode&&(this.mode=e,f.log("INFO","MODE="+e),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)}},{key:"insertChars",value:function(e){for(var t=0;t<e.length;t++)this.writeScreen.insertChar(e[t]);var i=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";f.log("INFO",i+": "+this.writeScreen.getDisplayText(!0)),("MODE_PAINT-ON"===this.mode||"MODE_ROLL-UP"===this.mode)&&(f.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())}},{key:"ccRCL",value:function(){f.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")}},{key:"ccBS",value:function(){f.log("INFO","BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())}},{key:"ccAOF",value:function(){}},{key:"ccAON",value:function(){}},{key:"ccDER",value:function(){f.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()}},{key:"ccRU",value:function(e){f.log("INFO","RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)}},{key:"ccFON",value:function(){f.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})}},{key:"ccRDC",value:function(){f.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")}},{key:"ccTR",value:function(){f.log("INFO","TR"),this.setMode("MODE_TEXT")}},{key:"ccRTD",value:function(){f.log("INFO","RTD"),this.setMode("MODE_TEXT")}},{key:"ccEDM",value:function(){f.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate()}},{key:"ccCR",value:function(){f.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate()}},{key:"ccENM",value:function(){f.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()}},{key:"ccEOC",value:function(){if(f.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,f.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate()}},{key:"ccTO",value:function(e){f.log("INFO","TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)}},{key:"ccMIDROW",value:function(e){var t={flash:!1};if(t.underline=e%2==1,t.italics=e>=46,t.italics)t.foreground="white";else{var i=Math.floor(e/2)-16,n=["white","green","blue","cyan","red","yellow","magenta"];t.foreground=n[i]}f.log("INFO","MIDROW: "+JSON.stringify(t)),this.writeScreen.setPen(t)}},{key:"outputDataUpdate",value:function(){var e=f.time
;null!==e&&this.outputFilter&&(this.outputFilter.updateData&&this.outputFilter.updateData(e,this.displayedMemory),null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.lastOutputScreen),this.cueStartTime=this.displayedMemory.isEmpty()?null:e):this.cueStartTime=e,this.lastOutputScreen.copy(this.displayedMemory))}},{key:"cueSplitAtTime",value:function(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))}}]),e}(),A=function(){function e(t,i,r){n(this,e),this.field=t||1,this.outputs=[i,r],this.channels=[new b(1,i),new b(2,r)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}}return r(e,[{key:"getHandler",value:function(e){return this.channels[e].getHandler()}},{key:"setHandler",value:function(e,t){this.channels[e].setHandler(t)}},{key:"addData",value:function(e,t){var i,n,r,o=!1;this.lastTime=e,f.setTime(e);for(var s=0;s<t.length;s+=2)if(n=127&t[s],r=127&t[s+1],0!==n||0!==r){if(f.log("DATA","["+m([t[s],t[s+1]])+"] -> ("+m([n,r])+")"),i=this.parseCmd(n,r),i||(i=this.parseMidrow(n,r)),i||(i=this.parsePAC(n,r)),i||(i=this.parseBackgroundAttributes(n,r)),!i&&(o=this.parseChars(n,r)))if(this.currChNr&&this.currChNr>=0){var a=this.channels[this.currChNr-1];a.insertChars(o)}else f.log("WARNING","No channel found yet. TEXT-MODE?");i?this.dataCounters.cmd+=2:o?this.dataCounters.char+=2:(this.dataCounters.other+=2,f.log("WARNING","Couldn't parse cleaned data "+m([n,r])+" orig: "+m([t[s],t[s+1]])))}else this.dataCounters.padding+=2}},{key:"parseCmd",value:function(e,t){var i=null,n=(20===e||28===e)&&t>=32&&47>=t,r=(23===e||31===e)&&t>=33&&35>=t;if(!n&&!r)return!1;if(e===this.lastCmdA&&t===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,f.log("DEBUG","Repeated command ("+m([e,t])+") is dropped"),!0;i=20===e||23===e?1:2;var o=this.channels[i-1];return 20===e||28===e?32===t?o.ccRCL():33===t?o.ccBS():34===t?o.ccAOF():35===t?o.ccAON():36===t?o.ccDER():37===t?o.ccRU(2):38===t?o.ccRU(3):39===t?o.ccRU(4):40===t?o.ccFON():41===t?o.ccRDC():42===t?o.ccTR():43===t?o.ccRTD():44===t?o.ccEDM():45===t?o.ccCR():46===t?o.ccENM():47===t&&o.ccEOC():o.ccTO(t-32),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=i,!0}},{key:"parseMidrow",value:function(e,t){var i=null;if((17===e||25===e)&&t>=32&&47>=t){if((i=17===e?1:2)!==this.currChNr)return f.log("ERROR","Mismatch channel in midrow parsing"),!1;return this.channels[i-1].ccMIDROW(t),f.log("DEBUG","MIDROW ("+m([e,t])+")"),!0}return!1}},{key:"parsePAC",value:function(e,t){var i=null,n=null,r=(e>=17&&23>=e||e>=25&&31>=e)&&t>=64&&127>=t,o=(16===e||24===e)&&t>=64&&95>=t;if(!r&&!o)return!1;if(e===this.lastCmdA&&t===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,!0;i=23>=e?1:2,n=t>=64&&95>=t?1===i?l[e]:d[e]:1===i?c[e]:h[e];var s=this.interpretPAC(n,t);return this.channels[i-1].setPAC(s),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=i,!0}},{key:"interpretPAC",value:function(e,t){var i=t,n={color:null,italics:!1,indent:null,underline:!1,row:e};return i=t>95?t-96:t-64,n.underline=1==(1&i),13>=i?n.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(i/2)]:15>=i?(n.italics=!0,n.color="white"):n.indent=4*Math.floor((i-16)/2),n}},{key:"parseChars",value:function(e,t){var i=null,n=null,r=null;if(e>=25?(i=2,r=e-8):(i=1,r=e),r>=17&&19>=r){var o=t;o=17===r?t+80:18===r?t+112:t+144,f.log("INFO","Special char '"+s(o)+"' in channel "+i),n=[o]}else e>=32&&127>=e&&(n=0===t?[e]:[e,t]);if(n){var a=m(n);f.log("DEBUG","Char codes =  "+a.join(",")),this.lastCmdA=null,this.lastCmdB=null}return n}},{key:"parseBackgroundAttributes",value:function(e,t){var i,n,r,o,s=(16===e||24===e)&&t>=32&&47>=t,a=(23===e||31===e)&&t>=45&&47>=t;return!(!s&&!a)&&(i={},16===e||24===e?(n=Math.floor((t-32)/2),i.background=p[n],t%2==1&&(i.background=i.background+"_semi")):45===t?i.background="transparent":(i.foreground="black",47===t&&(i.underline=!0)),r=24>e?1:2,o=this.channels[r-1],o.setBkgData(i),this.lastCmdA=null,this.lastCmdB=null,!0)}},{key:"reset",value:function(){for(var e=0;e<this.channels.length;e++)this.channels[e]&&this.channels[e].reset();this.lastCmdA=null,this.lastCmdB=null}},{key:"cueSplitAtTime",value:function(e){for(var t=0;t<this.channels.length;t++)this.channels[t]&&this.channels[t].cueSplitAtTime(e)}}]),e}();i.default=A},{}],47:[function(e,t,i){"use strict";var n=e("./vttparser"),r={newCue:function(e,t,i,r){for(var o,s,a,u,l,c=window.VTTCue||window.TextTrackCue,d=0;d<r.rows.length;d++)if(o=r.rows[d],a=!0,u=0,l="",!o.isEmpty()){for(var h=0;h<o.chars.length;h++)o.chars[h].uchar.match(/\s/)&&a?u++:(l+=o.chars[h].uchar,a=!1);o.cueStartTime=t,s=new c(t,i,(0,n.fixLineBreaks)(l.trim())),u>=16?u--:u++,navigator.userAgent.match(/Firefox\//)?s.line=d+1:s.line=d>7?d-2:d+1,s.align="left",s.position=Math.max(0,Math.min(100,u/32*100+(navigator.userAgent.match(/Firefox\//)?50:0))),e.addCue(s)}}};t.exports=r},{"./vttparser":52}],48:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=function(){function e(t){n(this,e),this.alpha_=t?Math.exp(Math.log(.5)/t):0,this.estimate_=0,this.totalWeight_=0}return r(e,[{key:"sample",value:function(e,t){var i=Math.pow(this.alpha_,e);this.estimate_=t*(1-i)+i*this.estimate_,this.totalWeight_+=e}},{key:"getTotalWeight",value:function(){return this.totalWeight_}},{key:"getEstimate",value:function(){if(this.alpha_){var e=1-Math.pow(this.alpha_,this.totalWeight_);return this.estimate_/e}return this.estimate_}}]),e}();i.default=o},{}],49:[function(e,t,i){"use strict";function n(){}function r(e,t){return t="["+e+"] > "+t}function o(e){var t=self.console[e];return t?function(){for(var i=arguments.length,n=Array(i),o=0;i>o;o++)n[o]=arguments[o];n[0]&&(n[0]=r(e,n[0])),t.apply(self.console,n)}:n}function s(e){for(var t=arguments.length,i=Array(t>1?t-1:0),n=1;t>n;n++)i[n-1]=arguments[n];i.forEach(function(t){l[t]=e[t]?e[t].bind(e):o(t)})}Object.defineProperty(i,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u={trace:n,debug:n,log:n,warn:n,info:n,error:n},l=u;i.enableLogs=function(e){if(!0===e||"object"===(void 0===e?"undefined":a(e))){s(e,"debug","log","info","warn","error");try{l.log()}catch(e){l=u}}else l=u},i.logger=l},{}],50:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=function(){function e(){n(this,e)}return r(e,null,[{key:"toString",value:function(e){for(var t="",i=e.length,n=0;i>n;n++)t+="["+e.start(n).toFixed(3)+","+e.end(n).toFixed(3)+"]";return t}}]),e}();i.default=o},{}],51:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(){function e(e){return"string"==typeof e&&(!!o[e.toLowerCase()]&&e.toLowerCase())}function t(e){return"string"==typeof e&&(!!s[e.toLowerCase()]&&e.toLowerCase())}function i(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)e[n]=i[n]}return e}function n(n,o,s){var a=this,u=function(){return"undefined"!=typeof navigator?/MSIE\s8\.0/.test(navigator.userAgent):void 0}(),l={};u?a=document.createElement("custom"):l.enumerable=!0,a.hasBeenReset=!1;var c="",d=!1,h=n,p=o,f=s,m=null,g="",_=!0,y="auto",v="start",b=50,A="middle",w=50,E="middle";return Object.defineProperty(a,"id",i({},l,{get:function(){return c},set:function(e){c=""+e}})),Object.defineProperty(a,"pauseOnExit",i({},l,{get:function(){return d},set:function(e){d=!!e}})),Object.defineProperty(a,"startTime",i({},l,{get:function(){return h},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");h=e,this.hasBeenReset=!0}})),Object.defineProperty(a,"endTime",i({},l,{get:function(){return p},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");p=e,this.hasBeenReset=!0}})),Object.defineProperty(a,"text",i({},l,{get:function(){return f},set:function(e){f=""+e,this.hasBeenReset=!0}})),Object.defineProperty(a,"region",i({},l,{get:function(){return m},set:function(e){m=e,this.hasBeenReset=!0}})),Object.defineProperty(a,"vertical",i({},l,{get:function(){return g},set:function(t){var i=e(t);if(!1===i)throw new SyntaxError("An invalid or illegal string was specified.");g=i,this.hasBeenReset=!0}})),Object.defineProperty(a,"snapToLines",i({},l,{get:function(){return _},set:function(e){_=!!e,this.hasBeenReset=!0}})),Object.defineProperty(a,"line",i({},l,{get:function(){return y},set:function(e){if("number"!=typeof e&&e!==r)throw new SyntaxError("An invalid number or illegal string was specified.");y=e,this.hasBeenReset=!0}})),Object.defineProperty(a,"lineAlign",i({},l,{get:function(){return v},set:function(e){var i=t(e);if(!i)throw new SyntaxError("An invalid or illegal string was specified.");v=i,this.hasBeenReset=!0}})),Object.defineProperty(a,"position",i({},l,{get:function(){return b},set:function(e){if(0>e||e>100)throw new Error("Position must be between 0 and 100.");b=e,this.hasBeenReset=!0}})),Object.defineProperty(a,"positionAlign",i({},l,{get:function(){return A},set:function(e){var i=t(e);if(!i)throw new SyntaxError("An invalid or illegal string was specified.");A=i,this.hasBeenReset=!0}})),Object.defineProperty(a,"size",i({},l,{get:function(){return w},set:function(e){if(0>e||e>100)throw new Error("Size must be between 0 and 100.");w=e,this.hasBeenReset=!0}})),Object.defineProperty(a,"align",i({},l,{get:function(){return E},set:function(e){var i=t(e);if(!i)throw new SyntaxError("An invalid or illegal string was specified.");E=i,this.hasBeenReset=!0}})),a.displayState=void 0,u?a:void 0}if("undefined"!=typeof window&&window.VTTCue)return window.VTTCue;var r="auto",o={"":!0,lr:!0,rl:!0},s={start:!0,middle:!0,end:!0,left:!0,right:!0};return n.prototype.getCueAsHTML=function(){return window.WebVTT.convertCueToDOMTree(window,this.text)},n}()},{}],52:[function(e,t,i){"use strict";function n(){this.window=window,this.state="INITIAL",this.buffer="",this.decoder=new d,this.regionList=[]}function r(e){function t(e,t,i,n){return 3600*(0|e)+60*(0|t)+(0|i)+(0|n)/1e3}var i=e.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return i?i[3]?t(i[1],i[2],i[3].replace(":",""),i[4]):i[1]>59?t(i[1],i[2],0,i[4]):t(0,i[1],i[2],i[4]):null}function o(){this.values=Object.create(null)}function s(e,t,i,n){var r=n?e.split(n):[e];for(var o in r)if("string"==typeof r[o]){var s=r[o].split(i);if(2===s.length){var a=s[0],u=s[1];t(a,u)}}}function a(e,t,i){function n(){var t=r(e);if(null===t)throw new Error("Malformed timestamp: "+u);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function a(){e=e.replace(/^\s+/,"")}var u=e;if(a(),t.startTime=n(),a(),"--\x3e"!==e.substr(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+u);e=e.substr(3),a(),t.endTime=n(),a(),function(e,t){var n=new o;s(e,function(e,t){switch(e){case"region":for(var r=i.length-1;r>=0;r--)if(i[r].id===t){n.set(e,i[r].region);break}break;case"vertical":n.alt(e,t,["rl","lr"]);break;case"line":var o=t.split(","),s=o[0];n.integer(e,s),n.percent(e,s)&&n.set("snapToLines",!1),n.alt(e,s,["auto"]),2===o.length&&n.alt("lineAlign",o[1],["start",p,"end"]);break;case"position":o=t.split(","),n.percent(e,o[0]),2===o.length&&n.alt("positionAlign",o[1],["start",p,"end","line-left","line-right","auto"]);break;case"size":n.percent(e,t);break;case"align":n.alt(e,t,["start",p,"end","left","right"])}},/:/,/\s/),t.region=n.get("region",null),t.vertical=n.get("vertical","");var r=n.get("line","auto");"auto"===r&&-1===h.line&&(r=-1),t.line=r,t.lineAlign=n.get("lineAlign","start"),t.snapToLines=n.get("snapToLines",!0),t.size=n.get("size",100),t.align=n.get("align",p);var a=n.get("position","auto");"auto"===a&&50===h.position&&(a="start"===t.align||"left"===t.align?0:"end"===t.align||"right"===t.align?100:50),t.position=a}(e,t)}function u(e){return e.replace(/<br(?: \/)?>/gi,"\n")}Object.defineProperty(i,"__esModule",{value:!0}),i.fixLineBreaks=void 0;var l=e("./vttcue"),c=function(e){return e&&e.__esModule?e:{default:e}}(l),d=function(){return{decode:function(e){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}};o.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,i){return i?this.has(e)?this.values[e]:t[i]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,i){for(var n=0;n<i.length;++n)if(t===i[n]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(t=parseFloat(t))>=0&&100>=t)&&(this.set(e,t),!0)}};var h=new c.default(0,0,0),p="middle"===h.align?"middle":"center";n.prototype={parse:function(e){function t(){var e=i.buffer,t=0;for(e=u(e);t<e.length&&"\r"!==e[t]&&"\n"!==e[t];)++t;var n=e.substr(0,t);return"\r"===e[t]&&++t,"\n"===e[t]&&++t,i.buffer=e.substr(t),n}var i=this;e&&(i.buffer+=i.decoder.decode(e,{stream:!0}));try{var n;if("INITIAL"===i.state){if(!/\r\n|\n/.test(i.buffer))return this;n=t();var r=n.match(/^WEBVTT([ \t].*)?$/);if(!r||!r[0])throw new Error("Malformed WebVTT signature.");i.state="HEADER"}for(var o=!1;i.buffer;){if(!/\r\n|\n/.test(i.buffer))return this;switch(o?o=!1:n=t(),i.state){case"HEADER":/:/.test(n)?function(e){s(e,function(e,t){switch(e){case"Region":console.log("parse region",t)}},/:/)}(n):n||(i.state="ID");continue;case"NOTE":n||(i.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(n)){i.state="NOTE";break}if(!n)continue;if(i.cue=new c.default(0,0,""),i.state="CUE",-1===n.indexOf("--\x3e")){i.cue.id=n;continue}case"CUE":try{a(n,i.cue,i.regionList)}catch(e){i.cue=null,i.state="BADCUE";continue}i.state="CUETEXT";continue;case"CUETEXT":var l=-1!==n.indexOf("--\x3e");if(!n||l&&(o=!0)){i.oncue&&i.oncue(i.cue),i.cue=null,i.state="ID";continue}i.cue.text&&(i.cue.text+="\n"),i.cue.text+=n;continue;case"BADCUE":n||(i.state="ID");continue}}}catch(e){"CUETEXT"===i.state&&i.cue&&i.oncue&&i.oncue(i.cue),i.cue=null,i.state="INITIAL"===i.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var e=this;try{if(e.buffer+=e.decoder.decode(),(e.cue||"HEADER"===e.state)&&(e.buffer+="\n\n",e.parse()),"INITIAL"===e.state)throw new Error("Malformed WebVTT signature.")}catch(e){throw e}return e.onflush&&e.onflush(),this}},i.fixLineBreaks=u,i.default=n},{"./vttcue":51}],53:[function(e,t,i){"use strict";var n=e("./vttparser"),r=function(e){return e&&e.__esModule?e:{default:e}}(n),o=function(e){var t=parseInt(e.substr(-3)),i=parseInt(e.substr(-6,2)),n=parseInt(e.substr(-9,2)),r=e.length>9?parseInt(e.substr(0,e.indexOf(":"))):0;return isNaN(t)||isNaN(i)||isNaN(n)||isNaN(r)?-1:(t+=1e3*i,t+=6e4*n,t+=36e5*r)},s=function(e,t,i){var n=e[t],r=e[n.prevCC];if(!r||!r.new&&n.new)return e.ccOffset=e.presentationOffset=n.start,void(n.new=!1);for(;r&&r.new;)e.ccOffset+=n.start-r.start,n.new=!1,n=r,r=e[n.prevCC];e.presentationOffset=i},a={parse:function(e,t,i,n,a,u){var l=/\r\n|\n\r|\n|\r/g,c=String.fromCharCode.apply(null,new Uint8Array(e)).trim().replace(l,"\n").split("\n"),d="00:00.000",h=0,p=0,f=0,m=[],g=void 0,_=!0,y=new r.default;y.oncue=function(e){var t=i[n],r=i.ccOffset;t&&t.new&&(p?r=i.ccOffset=t.start:s(i,n,f)),f&&!p&&(r=f+i.ccOffset-i.presentationOffset),e.startTime+=r-p,e.endTime+=r-p,e.text=decodeURIComponent(escape(e.text)),e.endTime>0&&m.push(e)},y.onparsingerror=function(e){g=e},y.onflush=function(){return g&&u?void u(g):void a(m)},c.forEach(function(e){if(_){if(e.startsWith("X-TIMESTAMP-MAP=")){_=!1,e.substr(16).split(",").forEach(function(e){e.startsWith("LOCAL:")?d=e.substr(6):e.startsWith("MPEGTS:")&&(h=parseInt(e.substr(7)))});try{t=0>t?t+8589934592:t,h-=t,p=o(d)/1e3,f=h/9e4,-1===p&&(g=new Error("Malformed X-TIMESTAMP-MAP: "+e))}catch(t){g=new Error("Malformed X-TIMESTAMP-MAP: "+e)}return}""===e&&(_=!1)}y.parse(e+"\n")}),y.flush()}};t.exports=a},{"./vttparser":52}],54:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=e("../utils/logger"),s=function(){function e(t){n(this,e),t&&t.xhrSetup&&(this.xhrSetup=t.xhrSetup)}return r(e,[{key:"destroy",value:function(){this.abort(),this.loader=null}},{key:"abort",value:function(){var e=this.loader;e&&4!==e.readyState&&(this.stats.aborted=!0,e.abort()),window.clearTimeout(this.requestTimeout),this.requestTimeout=null,window.clearTimeout(this.retryTimeout),this.retryTimeout=null}},{key:"load",value:function(e,t,i){this.context=e,this.config=t,this.callbacks=i,this.stats={trequest:performance.now(),retry:0},this.retryDelay=t.retryDelay,this.loadInternal()}},{key:"loadInternal",value:function(){var e,t=this.context;e="undefined"!=typeof XDomainRequest?this.loader=new XDomainRequest:this.loader=new XMLHttpRequest,e.onreadystatechange=this.readystatechange.bind(this),e.onprogress=this.loadprogress.bind(this),e.open("GET",t.url,!0),t.rangeEnd&&e.setRequestHeader("Range","bytes="+t.rangeStart+"-"+(t.rangeEnd-1)),e.responseType=t.responseType;var i=this.stats;i.tfirst=0,i.loaded=0,this.xhrSetup&&this.xhrSetup(e,t.url),this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),this.config.timeout),e.send()}},{key:"readystatechange",value:function(e){var t=e.currentTarget,i=t.readyState,n=this.stats,r=this.context,s=this.config;if(!n.aborted&&i>=2)if(window.clearTimeout(this.requestTimeout),0===n.tfirst&&(n.tfirst=Math.max(performance.now(),n.trequest)),4===i){var a=t.status;if(a>=200&&300>a){n.tload=Math.max(n.tfirst,performance.now());var u=void 0,l=void 0;"arraybuffer"===r.responseType?(u=t.response,l=u.byteLength):(u=t.responseText,l=u.length),n.loaded=n.total=l;var c={url:t.responseURL,data:u};this.callbacks.onSuccess(c,n,r)}else n.retry>=s.maxRetry||a>=400&&499>a?(o.logger.error(a+" while loading "+r.url),this.callbacks.onError({code:a,text:t.statusText},r)):(o.logger.warn(a+" while loading "+r.url+", retrying in "+this.retryDelay+"..."),this.destroy(),this.retryTimeout=window.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,s.maxRetryDelay),n.retry++)}else this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),s.timeout)}},{key:"loadtimeout",value:function(){o.logger.warn("timeout while loading "+this.context.url),this.callbacks.onTimeout(this.stats,this.context)}},{key:"loadprogress",value:function(e){var t=this.stats;t.loaded=e.loaded,e.lengthComputable&&(t.total=e.total);var i=this.callbacks.onProgress;i&&i(t,this.context,null)}}]),e}();i.default=s},{"../utils/logger":49}]},{},[37])(37)})},function(e,t,i){"use strict";i(300),i(345),i(372)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=i(10),o=n(r),s=i(33),a=n(s),u=i(40),l=n(u),c=i(9),d=n(c),h=i(34),p=n(h),f=i(31),m=n(f),g=i(14),_=n(g),y=i(62),v=n(y),b=i(184),A=n(b),w=i(4),E=n(w),k=i(15),C=n(k),T=i(238),x=n(T),S=i(96),O=n(S),P=i(183),I=n(P),M=i(25),D=n(M),R=i(150),B=n(R),L=i(244),F=n(L),j=i(245),N=n(j),H=i(78),U=n(H),V=i(55),W=n(V),G=i(223),z=n(G),Q=i(239),Y=n(Q),K=void 0,q=void 0;Object.defineProperties&&(K=i(221),q=i(310));var J=o.default;null==J.libjs&&(J.libjs={},J.libjs["utilities/seqid"]=a.default,J.libjs["utilities/core"]=l.default,J.libjs["utilities/obj"]=d.default,J.libjs["utilities/url"]=p.default,J.libjs["player/lib/assets"]=m.default,J.libjs["player/lib/elem"]=_.default,J.libjs["utilities/json"]=v.default,J.libjs["utilities/localstorage"]=A.default,J.libjs["utilities/wlog"]=E.default,J.libjs["utilities/detect"]=C.default,J.libjs["utilities/cacheable"]=x.default,J.libjs["player/lib/jsonp"]=O.default,J.libjs["player/lib/hosts"]=D.default,J.libjs["player/lib/judy"]=I.default,J.libjs["player/lib/ajax"]=B.default,J.libjs["player/lib/media_data"]=F.default,J.libjs["player/lib/playlist_data"]=N.default,J.libjs["player/lib/script-utils"]=U.default,J.libjs["player/lib/timeout-utils"]=W.default,J.libjs["player/engines/simple_video"]=K,J.libjs["player/engines/manual_quality_video"]=q,J.libjs["player/engines/public_methods"]=z.default,J.libjs["utilities/metrics"]=Y.default),J.lib=function(e){var t=J.libjs[e];if(null==t)throw new Error('Internal import for "'+e+'" does not exist. Value is "'+t+'".');return t},e.exports=J},function(e,t,i){"use strict";i(344),i(298),i(346),i(392),i(377),i(356),i(361),i(357),i(382),i(367),i(386),i(353),i(385),i(389),i(391),i(390),i(364),i(369),i(365),i(350),i(362),i(381),i(387),i(352),i(351),i(383),i(330),i(380),i(384),i(376),i(355),i(368),i(354),i(349),i(358),i(373),i(371),i(359),i(374),i(366),i(370),i(378),i(388),i(393),i(360),i(375),i(379),i(363)},function(e,t,i){"use strict";!function(e){e.JSON||(e.JSON=i(62))}(Wistia)},function(e,t){var i;i=function(){function e(t){var i,n,r,o,s,a,u,l,c;if(l=t.seedRange,u=t.seedFunction,c=t.seedStart,r=null!=(o=t.outputStart)?o:0,n=null!=(s=t.outputEnd)?s:1,i=null!=(a=t.easing)?a:e.linear,!l)throw new Error("Must provide seedRange argument");if(null!=u&&"function"!=typeof u)throw new Error("Given seed is not a function");if("function"!=typeof i)throw new Error("Invalid easing function given: "+this.easing);this._seedRange=l,this._seedFunction=u||function(){return(new Date).getTime()},this._outputStart=r,this._outputEnd=n,this._easing=i,this._seedStart=("function"==typeof c?c():void 0)||this.seed()}return e.prototype.seed=function(){return this.seedFunction()()},e.prototype.seedStart=function(){return this._seedStart},e.prototype.seedRange=function(){return this._valOrFn(this._seedRange)},e.prototype.seedFunction=function(){return this._seedFunction},e.prototype.outputStart=function(){return this._valOrFn(this._outputStart)},e.prototype.outputEnd=function(){return this._valOrFn(this._outputEnd)},e.prototype.easing=function(){return this._valOrFn(this._easing)},e.prototype.value=function(){return this._easing.apply(this,this.easingArgs())},e.prototype.atEnd=function(){return 1===this.ratio()},e.prototype.atStart=function(){return 0===this.ratio()},e.prototype.easingArgs=function(){return[this.c(),this.t(),this.d(),this.b()]},e.prototype.seedDelta=function(){return this.seedRange()>0?Math.min(this.seedRange(),this.seed()-this.seedStart()):this.seedRange()<0?Math.max(this.seedRange(),this.seed()-this.seedStart()):0},e.prototype.ratio=function(){return Math.max(0,Math.min(1,this.seedDelta()/this.seedRange()))},e.prototype.c=function(){return this.outputEnd()-this.outputStart()},e.prototype.t=function(){return this.seedDelta()},e.prototype.d=function(){return this.seedRange()},e.prototype.b=function(){return this.outputStart()},e.prototype._valOrFn=function(e){return"function"==typeof e?e():e},e.linear=function(e,t,i,n){return e*t/i+n},e.easeInOut=function(e,t,i,n){return t/=i/2,1>t?e/2*t*t+n:(t-=1,-e/2*(t*(t-2)-1)+n)},e}(),e.exports=i},function(e,t,i){var n,r,o,s;i(51),n=i(150).ajaxPost,r=i(34).objectToQueryParams,s=function(e,t){return t||(t={}),t.key=e,n("/feature_events",{data:r(t)})},o=function(e,t,i){return i||(i={}),i.key=e,i.account_id=t,n("//fast.wistia.net/feature_events",{data:r(i)})},e.exports={trackForCurrentAccount:s,track:o}},function(e,t,i){!function(e){var t;if(!e.embeds)e.embeds={},t=i(4).wlog,e.embeds.setup=function(t){return e.embeds.notEmbedding(function(){var i,n,r,o,s,a,u,l,c;e.embeds.notEmbedding(!1),o=[];try{for(t=e.embeds.uninitialized(t),t&&t.length&&t.length>0&&e.info("initializing",null!=t?t.length:void 0,"embedElems"),a=0,u=t.length;u>a;a++){r=t[a];try{e.info("initializing elem",r),s=e.embeds.hashedIdForElem(r,{asyncOnly:!0}),r.id?document.getElementById(r.id)!==r&&(l=e.embeds.genIdFor(s),e.error('Duplicate DOM ID found for container "'+r.id+'". Changing it to "'+l+'" to avoid issues.',r),r.id=l):r.id=e.embeds.genIdFor(s),c=e.embeds.optionsFromElemClass(r),e.options("__"+r.id+"_dom_options__",c),function(t,i){o.push(function(){return e.embed(t,{container:i.id})})}(s,r)}catch(t){i=t,e.error(i)}}}catch(t){n=t,e.error(n)}return o.push(function(){return e.watchForInit()}),o.push(function(){return e.embeds.notEmbedding(!0)}),e.asyncChain("embeds_setup",o)})},e.embeds._setupThrottled=e.util.throttle(500,e.embeds.setup),e.embeds.optionsFromElemClass=function(t){var i,n,r,o,s,a;for(o=[],a=e.elem.classes(t),i=0,r=a.length;r>i;i++)n=a[i],n.indexOf("=")>0&&o.push(n);return s=e.url.paramsToJson(o.join("&")),e.obj.cast(s),s},e.embeds.hashedIdForElem=function(e,t){var i,n,r,o,s,a;return null==t&&(t={}),t.asyncOnly?(null!=(i=e.className)&&null!=(n=i.match(/wistia_async_([^\s]+)/))?n[1]:void 0)||null:(null!=(r=e.className)&&null!=(o=r.match(/wistia_async_([^\s]+)/))?o[1]:void 0)||(null!=(s=e.className)&&null!=(a=s.match(/wistia_([^\s]+)/))?a[1]:void 0)||null},e.embeds.genIdFor=function(e){var t,i,n;for(t="wistia-"+e,n=1;i=t+"-"+n,document.getElementById(i);)n+=1;return i},e.embeds._options={},e.embeds.options=function(t,i){var n,r,o,s;if(e.obj.isObject(t)&&(i=t,t="__global__"),null!=i)return e.embeds._options[t]=e.obj.cast(e.obj.clone(i));if(t){if(e.embeds._options[t])return e.embeds._options[t];if(null===(n=e.api(t)))return{};o=e.embeds._options;for(r in o)if(s=o[r],e.api(r)===n)return s;return{}}return e.embeds._options},e.options=e.embeds.options,e.embeds.api=function(t){var i,n,r,o,s,a,u;return null==t&&(t="wistia_embed"),document.querySelectorAll?document.querySelectorAll("div."+t+",span."+t):(n=(null!=(o=document.body)?o.getElementsByTagName("div"):void 0)||[],u=(null!=(s=document.body)?s.getElementsByTagName("span"):void 0)||[],i=function(){var i,o,s;for(s=[],i=0,o=n.length;o>i;i++)r=n[i],e.elem.hasClass(r,t)&&s.push(r);return s}(),a=function(){var i,n,o;for(o=[],i=0,n=u.length;n>i;i++)r=u[i],e.elem.hasClass(r,t)&&o.push(r);return o}(),i.concat(a))},e.embeds.uninitialized=function(t){var i,n,r,o;for(null==t&&(t=e.embeds.api()),o=[],n=0,r=t.length;r>n;n++)i=t[n],e.embeds.hashedIdForElem(i,{asyncOnly:!0})&&!i.wistiaApi&&o.push(i);return o},e.embeds.initialized=function(t){var i,n,r,o;n=e._data.video,r=[];for(o in n)i=n[o],r.push(i);return r},e.embeds.observe=function(){var i,n;if(!e.embeds.initObserver){if(e.embeds.initObserver=e.elem.mutationObserver(function(t){var i,n,r,o,s,a,u,l,c,d;for(n=[],i=!1,r=0,s=t.length;s>r;r++)for(u=t[r],(null!=(c=u.addedNodes)?c.length:void 0)>0&&(i=!0),d=u.addedNodes||[],o=0,a=d.length;a>o;o++)l=d[o],e.elem.hasClass(l,"wistia_embed")&&n.push(l);return n.length>0&&setTimeout(function(){return e.embeds.setup(n)},10),i?e.embeds._setupThrottled():void 0}),i={subtree:!0,childList:!0},e.detect.ios.version>0)return e.util.onDocReady(function(){return e.embeds.initObserver.observe(document.body,i)});try{return e.embeds.initObserver.observe(document.body,i)}catch(r){return n=r,t.notice(n),e.util.onDocReady(function(){return e.embeds.initObserver.observe(document.body,i)})}}},e.embeds.unobserve=function(){var t;return null!=(t=e.embeds.initObserver)&&t.disconnect(),e.embeds.initObserver=null},e.embeds.poll=function(t){return null==t&&(t=500),e.eventLoop.add("poll_setup_embeds",t,function(){return e.embeds.setup()})},e.embeds.unpoll=function(){var t;return null!=(t=e.eventLoop)?t.remove("poll_setup_embeds"):void 0},e.embeds.watch=function(){return e.embeds._dontWatch=!1,e.detect.mutationObserver&&!e.detect.trident?(e.embeds.observe(),e.embeds.poll(2e3)):e.embeds.poll()},e.embeds.dontWatch=function(){return e.embeds._dontWatch=!0,e.embeds.unwatch()},e.embeds.unwatch=function(){return e.embeds.unobserve(),e.embeds.unpoll()},e.flushInit=function(){var i,n,r,o;if(window.wistiaInit){if(wistiaInit instanceof Array)for(r=0,o=wistiaInit.length;o>r;r++){n=wistiaInit[r];try{"function"==typeof n&&n(e)}catch(e){i=e,t.error(i)}}else"function"==typeof wistiaInit&&wistiaInit(e);return window.wistiaInit=null}},e.addQueue=function(t){return e._queueNames.push(t),e.watchForInit()},e._queueNames=["_wq","wistiaInitQueue"],e.flushInitQueue=function(){var i,n,r,o,s,a,u,l,c,d,h,p,f,m,g,_;for(f=e._queueNames,m=[],s=0,l=f.length;l>s;s++)if(h=f[s],(d=window[h])&&d instanceof Array&&d.length>0){for(o=[];d.length>0;)if(g=d.shift(),e.obj.isObject(g))if(g.id)p=!1,g.options&&("_all"===g.id?(e.options(g.options),p=!0):(e.options(g.id,g.options),p=!0)),function(t){var i,n;n="_all"===t.id?[]:[t.id],t.onFind&&(i=n.concat([function(e){return t.onFind(e)}]),e.api.apply(e,i),p=!0),t.onHasData&&(i=n.concat([function(e){return e.hasData(function(){return t.onHasData(e)})}]),e.api.apply(e,i),p=!0),t.onEmbedded&&(i=n.concat([function(e){return e.embedded(function(){return t.onEmbedded(e)})}]),e.api.apply(e,i),p=!0),t.onReady&&(i=n.concat([function(e){return e.ready(function(){return t.onReady(e)})}]),e.api.apply(e,i),p=!0),p||e.error("No initialization function provided for ID "+t.id,t)}(g);else{r=function(t,i){var n,r;return"function"==typeof i?(r=function(e){return e.hasData(function(){return i(e)})},n=function(){return"_all"===t?e.api(r):e.api(t,r)},o.push(n)):e.obj.isObject(i)?(n="_all"===t?function(){return e.options(i)}:function(){return e.options(t,i)},o.push(n)):e.error("Unknown initialization object:",i,"Expected Object or Function.")};for(a in g)_=g[a],r(a,_)}else"function"==typeof g?function(t){var i;i=function(){return t(e)},o.push(i)}(g):e.notice(h+": Don't know what to do with "+g+", ignoring.");for(u=0,c=o.length;c>u;u++){n=o[u];try{"function"==typeof n&&n(e)}catch(e){i=e,t.error(i)}}m.push(d.length=0)}return m},e.watchForInit=function(){return null==e._pollInit&&(e._pollInit=function(){return e.flushInitQueue(),e.flushInit()}),e._pollInit(),e.eventLoop?(e.eventLoop.unpause("poll_init"),e.eventLoop.add("poll_init",500,e._pollInit)):void 0},e.api=function(t,i){var n,r,o,s,a,u,l,c,d,h,p;if(null!=t){if(i)return e.api.onFind(t,i);if("function"==typeof t)return e.api.onFind(t);if("string"==typeof t){if(c=t,!(o=document.getElementById(c)))for(r=e.api.all(),u=0,l=r.length;l>u;u++)if(s=r[u],0===(null!=(d=s.hashedId())?d.indexOf(c):void 0)||0===(null!=(h=s.container.id)?h.indexOf(c):void 0)){o=s.container;break}}else"number"==typeof t?(a=t,n=e.api.all(),0>a&&(a=n.length+a),o=(null!=(p=n[a])?p.container:void 0)||null):window.HtmlElement&&t instanceof HtmlElement?o=t:e.error("W.api: Unrecognized matcher",t);return(null!=o?o.wistiaApi:void 0)&&(o.wistiaApi instanceof e.PublicApi||o.wistiaApi instanceof e.IframeApi)?o.wistiaApi:null}return e.api.all()[0]||null},e.api.all=function(){return e.api._apiHandles().concat(e.api._iframeHandles())},e.api._apiHandles=function(){return e.embeds.initialized()},e.api._apiHandlesByDomOrder=function(){var t,i,n,r,o;for(i=e.embeds.api("wistia_embed_initialized"),o=[],n=0,r=i.length;r>n;n++)t=i[n],t.wistiaApi&&t.wistiaApi instanceof e.PublicApi&&o.push(t.wistiaApi);return o},e.api._iframeHandles=function(){var t,i,n,r;i=e._data.iframe_api,n=[];for(r in i)t=i[r],n.push(t)
;return n},e.api.onFind=function(t,i){var n;return"function"==typeof t&&(i=t,t=null),n=function(n){return(null===t||e.api(t)===n)&&(i(n),!0)},wistiaEmbeds.each(n),wistiaEmbeds.bind("initembed",n),wistiaEmbeds.bind("afterreplace",n)},e._asyncInitSoonAfterLoad=function(i){return null==i&&(i=10),setTimeout(function(){var i;try{return e.embeds.setup(),e.embeds._dontWatch||e.embeds.watch(),e.watchForInit()}catch(e){return i=e,t.error(i)}},i)},e._initializers.initAsyncEmbeds=function(){var t,i,n;return e.embeds.notEmbedding=new e.StopGo,e.embeds.notEmbedding(!0),null==e._data&&(e._data={}),null==(t=e._data).video&&(t.video={}),null==(i=e._data).iframe_api&&(i.iframe_api={}),window._inWistiaIframe?setTimeout(function(){return e.watchForInit()},10):(e.detect.ios.version>0?e.util.onDocReady(e._asyncInitSoonAfterLoad):(e.util.isDocReady()||e.util.onDocReady(e._asyncInitSoonAfterLoad),e._asyncInitSoonAfterLoad()),e._asyncInitSoonAfterLoad(500),null!=(n=e.eventLoop)?n.pause("poll_init"):void 0)},e._destructors.destroyAsyncEmbeds=function(){var t,i;return e.clearTimeouts("embeds_setup"),null!=(t=e.eventLoop)&&t.remove("poll_init"),null!=(i=e.embeds)?i.unwatch():void 0}}(Wistia)},function(e,t){!function(e){e.BandwidthTest=function(){function t(t){this.opt=t,this.opt=e.obj.merge({minKbps:2500,timeoutLength:4e3,freshFor:36e5},this.opt),this.opt.uuid||(this.opt.uuid=e.seqId("bandwidth_test_"))}return t.prototype.start=function(){var t,i,n,r;return null!=(n=this._testXhr)&&n.abort(),this._testStart=(new Date).getTime(),this._testXhr=new XMLHttpRequest,this._testXhr.open("GET",this.testFileUrl(),!0),i=Math.floor(100*Math.random()),r=1e6*i,t=r+999999,this._testXhr.setRequestHeader("Range","bytes="+r+"-"+t),e.timeout(this.uuid+".cancel_bandwidth_test",function(e){return function(){return e.trigger("timeout"),e.fail()}}(this),this.opt.timeoutLength),this._testDataLoaded=0,this._onTestXhrProgress=function(e){return function(t){return e._testDataLoaded=t.loaded,e.trigger("progress",t)}}(this),this._testXhr.addEventListener("progress",this._onTestXhrProgress),this._onTestXhrLoaded=function(e){return function(){return e.succeed()}}(this),this._testXhr.addEventListener("load",this._onTestXhrLoaded),this._testXhr.send(null),this.trigger("started")},t.prototype.fail=function(){return this._sampleKbps(),this._supportsHd=!1,this.saveResult(),this.trigger("failed"),this.end()},t.prototype.succeed=function(){return this._sampleKbps(),this._supportsHd=!0,this.saveResult(),this.trigger("succeeded"),this.end(),this._suspiciouslyFast()?this._reportSuspiciousBandwidthTest():void 0},t.prototype._reportSuspiciousBandwidthTest=function(){var t,i,n;try{if(this._suspiciouslyFast())return e.Metrics.count("player/suspicious-bandwidth-test",1,{bw_test_time:this._testTime,visitor_key:e.visitorKey.value(),location:("undefined"!=typeof location&&null!==location&&null!=(i=location.protocol)?i.length:void 0)&&("undefined"!=typeof location&&null!==location&&null!=(n=location.hostname)?n.length:void 0)?location.protocol+"//"+location.hostname:null,connection_type:e.Metrics.connectionType(),agent:navigator.userAgent})}catch(i){return t=i,e.error(t)}},t.prototype._suspiciouslyFast=function(){return this._testTime<.05},t.prototype._sampleKbps=function(){return this._testEnd=(new Date).getTime(),this._testTime=(this._testEnd-this._testStart)/1e3,this._kbps=8*this._testDataLoaded/1e3/this._testTime},t.prototype.endEarly=function(){return null==this._supportsHd&&null!=this._testDataLoaded?(this._sampleKbps(),this._supportsHd=!(this._testTime>1)||this._kbps>=this.opt.minKbps,this.trigger("ended-early"),this.end()):(this.end(),this.trigger("ended-early"))},t.prototype.end=function(){var t,i,n;return this._onTestXhrLoaded&&null!=(t=this._testXhr)&&t.removeEventListener("load",this._onTestXhrLoaded),this._onTestXhrProgress&&null!=(i=this._testXhr)&&i.removeEventListener("progress",this._onTestXhrProgress),null!=(n=this._testXhr)&&n.abort(),this._testXhr=null,e.clearTimeouts(this.uuid+".cancel_bandwidth_test"),this.trigger("ended")},t.prototype.testFileUrl=function(){return this.opt.testFileUrl||("https:"===e.proto()?"https://embed-ssl.wistia.com/deliveries/6992339c876a95a37250fbe5b0a0eaecca3018a5/file.jpg?bust=2015-12-29a":"http://embed-e.wistia.com/deliveries/6992339c876a95a37250fbe5b0a0eaecca3018a5/file.jpg?bust=2015-12-29a")},t.prototype.saveKey=function(){return this.opt.saveKey||"bandwidth_test"},t.prototype.saveResult=function(){return e.localStorage(this.saveKey(),{updatedAt:(new Date).getTime(),supportsHd:this._supportsHd,clientKbps:this._kbps})},t.prototype.savedResult=function(){return e.localStorage(this.saveKey())},t.prototype.isFresh=function(){var e;return(new Date).getTime()-((null!=(e=this.savedResult())?e.updatedAt:void 0)||0)<this.opt.freshFor},t.prototype.supportsHd=function(){return this._supportsHd||!1},t}(),e.mixin(e.BandwidthTest.prototype,e.bindable)}(Wistia)},function(e,t,i){var n;n=i(40),Wistia.extend({base64:{_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",decode:n.base64Decode}})},function(e,t,i){var n;n=i(40),Wistia.extend({base64:{_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:n.base64Encode}})},function(e,t){var i=function(e,t){return function(){return e.apply(t,arguments)}};!function(e){e.BigPlayButton||(e.BigPlayButton=function(){function t(t,n){this.container=t,null==n&&(n={}),this.touchend=i(this.touchend,this),this.touchmove=i(this.touchmove,this),this.touchstart=i(this.touchstart,this),this.click=i(this.click,this),this.mouseup=i(this.mouseup,this),this.mousedown=i(this.mousedown,this),this.mouseout=i(this.mouseout,this),this.mouseover=i(this.mouseover,this),this.blur=i(this.blur,this),this.keyup=i(this.keyup,this),this.focus=i(this.focus,this),this.getBottomTextElemProps=i(this.getBottomTextElemProps,this),this.options=this.getDefaultOptions(n),this.uuid=this.options.uuid+".big_play_button",this.color(this.options.color),this.backgroundElem=this.createBackgroundElem(),this.resetBackground(),this.elem=this.playElem=this.createPlayElem(),this.addTopText(),this.addBottomText(),e.elem.append(this.container,this.backgroundElem),e.elem.append(this.container,this.playElem),this.setupBindings()}return t.prototype.destroy=function(){return this.destroyBindings(),e.elem.remove(this.playElem),e.elem.remove(this.backgroundElem),this._bottomTextElem&&e.elem.remove(this._bottomTextElem),this._topTextElem&&e.elem.remove(this._topTextElem),this.elem=null,this.backgroundElem=null,this.playElem=null,this._bottomTextElem=null,this._topTextElem=null},t.prototype.getDefaultOptions=function(t){var i;return i={tabbable:!0,uuid:e.seqId(),color:"636155",bottomTextColor:"#fff",bottomTextFontFamily:"Courier New, Courier, Sans-Serif",bottomTextBackground:"none",bottomTextInsideButton:!1,topTextColor:"#fff",topTextFontFamily:"Courier New, Courier, Sans-Serif",topTextBackground:"none",widthCorrection:0,heightCorrection:0},e.obj.merge(i,t)},t.prototype.createBackgroundElem=function(){return e.elem.fromObject({id:this.uuid+"_background",style:{height:this.height()+"px",position:"absolute",width:this.width()+"px",zIndex:1}})},t.prototype.createPlayElem=function(){return e.elem.fromObject({id:this.uuid+"_graphic",tabindex:this.options.tabbable?"0":"-1","aria-role":"Button","aria-label":"Play",style:{background:"transparent url("+this.iconBase64()+") no-repeat 0 0",cursor:"pointer",display:"block",height:this.graphicHeight()+"px",outline:"none",position:"absolute",width:this.graphicWidth()+"px",zIndex:1}})},t.prototype.createBottomTextElem=function(){return e.elem.fromObject({id:this.uuid+"_bottom_text",style:this.getBottomTextElemProps(),childNodes:this.options.bottomText})},t.prototype.getBottomTextElemProps=function(){var e,t;return t={color:this.options.bottomTextColor,fontFamily:this.options.bottomTextFontFamily,fontSize:this.textFontSize(),background:this.options.bottomTextBackground,left:0,position:"absolute",textAlign:"center",width:"100%",zIndex:1},this.options.bottomTextInsideButton&&(e="30px",t.lineHeight=e,t.bottom="-"+e),t},t.prototype.createTopTextElem=function(){return e.elem.fromObject({id:this.uuid+"_top_text",style:{color:this.options.topTextColor,fontFamily:this.options.topTextFontFamily,background:this.options.topTextBackground,fontSize:this.textFontSize(),left:0,position:"absolute",textAlign:"center",width:"100%",zIndex:1},childNodes:this.options.topText})},t.prototype.textFontSize=function(){return this.options.bottomTextInsideButton?"18px":this.height()<100?"11px":this.shouldShrink()?"16px":"22px"},t.prototype.oldIe=function(){return e.detect.browser.msie&&e.detect.browser.version<9},t.prototype.setupBindings=function(){return e.elem.bind(this.playElem,"mouseover",this.mouseover),e.elem.bind(this.playElem,"mouseout",this.mouseout),e.elem.bind(this.playElem,"focus",this.focus),e.elem.bind(this.playElem,"blur",this.blur),e.elem.bind(this.playElem,"mousedown",this.mousedown),e.elem.bind(this.playElem,"mouseup",this.mouseup),e.elem.bind(this.playElem,"click",this.click),e.elem.bind(this.playElem,"touchstart",this.touchstart)},t.prototype.destroyBindings=function(){return e.elem.unbind(this.playElem,"mouseover",this.mouseover),e.elem.unbind(this.playElem,"mouseout",this.mouseout),e.elem.unbind(this.playElem,"focus",this.focus),e.elem.unbind(this.playElem,"blur",this.blur),e.elem.unbind(this.playElem,"mousedown",this.mousedown),e.elem.unbind(this.playElem,"mouseup",this.mouseup),e.elem.unbind(this.playElem,"click",this.click),e.elem.unbind(this.playElem,"touchstart",this.touchstart),e.elem.unbind(document,"touchmove",this.touchmove),e.elem.unbind(document,"touchend",this.touchend),e.elem.unbind(document,"keyup",this.keyup)},t.prototype.focus=function(){var t;return e.elem.addClass(this.playElem,"wistia_focus"),this.onMobile()||!1===this.options.autoHighlight||this.highlightBackground(),e.elem.rebind(document,"keyup",this.keyup),this._focus=!0,"function"==typeof(t=this.options).onFocus&&t.onFocus.apply(t,arguments),!0},t.prototype.keyup=function(e){var t,i;return"function"==typeof(t=this.options).onKeyup&&t.onKeyup.apply(t,arguments),(32===e.keyCode||13===e.keyCode)&&"function"==typeof(i=this.options).onActivate&&i.onActivate.apply(i,arguments),!0},t.prototype.blur=function(){var t;return e.elem.unbind(this.playElem,"keyup",this.keyup),e.elem.removeClass(this.playElem,"wistia_focus"),this.onMobile()||!1===this.options.autoHighlight||this.resetBackground(),this._focus=!1,"function"==typeof(t=this.options).onBlur&&t.onBlur.apply(t,arguments),!0},t.prototype.mouseover=function(){var t;return e.elem.addClass(this.playElem,"wistia_mouseover"),this.onMobile()||!1===this.options.autoHighlight||this.highlightBackground(),"function"==typeof(t=this.options).onMouseover&&t.onMouseover.apply(t,arguments),!0},t.prototype.mouseout=function(){var t;return e.elem.removeClass(this.playElem,"wistia_mouseover"),this.onMobile()||!1===this.options.autoHighlight||this.resetBackground(),"function"==typeof(t=this.options).onMouseout&&t.onMouseout.apply(t,arguments),!0},t.prototype.mousedown=function(){var t;return e.elem.addClass(this.playElem,"wistia_mousedown"),"function"==typeof(t=this.options).onMousedown&&t.onMousedown.apply(t,arguments),!0},t.prototype.mouseup=function(){var t;return e.elem.removeClass(this.playElem,"wistia_mousedown"),"function"==typeof(t=this.options).onMouseup&&t.onMouseup.apply(t,arguments),!0},t.prototype.click=function(){var e,t;return"function"==typeof(e=this.options).onClick&&e.onClick.apply(e,arguments),this._blockClickActivate||"function"==typeof(t=this.options).onActivate&&t.onActivate.apply(t,arguments),!0},t.prototype.touchstart=function(){var t;return(this.onMobile()||!1===this.options.autoHighlight)&&this.highlightBackground(),"function"==typeof(t=this.options).onTouchstart&&t.onTouchstart.apply(t,arguments),this._swiped=!1,e.elem.bind(document,"touchmove",this.touchmove),e.elem.bind(document,"touchend",this.touchend),!0},t.prototype.touchmove=function(){var e;return this._highlighted&&this.onMobile()&&!1!==this.options.autoHighlight&&this.resetBackground(),this._swiped=!0,"function"==typeof(e=this.options).onTouchmove&&e.onTouchmove.apply(e,arguments),!0},t.prototype.touchend=function(){var t,i;return e.elem.unbind(document,"touchmove",this.touchmove),e.elem.unbind(document,"touchend",this.touchend),this.onMobile()&&!1!==this.options.autoHighlight&&this.resetBackground(),"function"==typeof(t=this.options).onTouchend&&t.onTouchend.apply(t,arguments),this._swiped||("function"==typeof(i=this.options).onActivate&&i.onActivate.apply(i,arguments),this.blockClickActivateTemporarily()),this._swiped=!1,!0},t.prototype.onMobile=function(){return e.detect.iphone||e.detect.ipad||e.detect.android},t.prototype.blockClickActivateTemporarily=function(){return this._blockClickActivate=!0,e.timeout(this.uuid+".block_click_activate",function(e){return function(){return e._blockClickActivate=!1}}(this),350)},t.prototype.highlightBackground=function(){return this._highlighted=!0,this.oldIe()?this.backgroundElem.style.filter=this.highlightColor().alpha(.8).toIeGradient():this.backgroundElem.style.backgroundColor=this.highlightColor().alpha(.8).toRgbaOrHex()},t.prototype.resetBackground=function(){return this._highlighted=!1,this.oldIe()?this.backgroundElem.style.filter=this.color().alpha(.8).toIeGradient():this.backgroundElem.style.backgroundColor=this.color().alpha(.8).toRgbaOrHex()},t.prototype.fit=function(){return e.elem.style(this.backgroundElem,{height:this.height()+"px",width:this.width()+"px"}),e.elem.style(this.playElem,{backgroundImage:"url("+this.iconBase64()+")",backgroundSize:this.graphicWidth()+"px "+this.graphicHeight()+"px",height:this.graphicHeight()+"px",width:this.graphicWidth()+"px"}),this._bottomTextElem&&e.elem.style(this._bottomTextElem,{fontSize:this.textFontSize()}),this._topTextElem&&e.elem.style(this._topTextElem,{fontSize:this.textFontSize()}),this.center()},t.prototype.show=function(){return this.fit(),e.elem.style([this.backgroundElem,this.playElem],{display:"block"})},t.prototype.hide=function(){return e.elem.style([this.backgroundElem,this.playElem],{display:"none"})},t.prototype.correctedWidth=function(){var e;return e=this.containerWidth(),e+=this.options.widthCorrection},t.prototype.correctedHeight=function(){var e;return e=this.containerHeight(),e+=this.options.heightCorrection},t.prototype.mouseEventTargetIsInside=function(t){return e.elem.isInside(t.target,this.playElem)||this._bottomTextElem&&e.elem.isInside(t.target,this._bottomTextElem)||this._topTextElem&&e.elem.isInside(t.target,this._topTextElem)},t.prototype.center=function(){return e.elem.style(this.backgroundElem,{left:this.leftBackgroundOffset()+"px",top:this.topBackgroundOffset()+"px"}),e.elem.style(this.playElem,{left:this.leftGraphicOffset()+"px",top:this.topGraphicOffset()+"px"}),this._bottomTextElem&&!this.options.bottomTextInsideButton&&e.elem.style(this._bottomTextElem,{left:0,top:this.bottomGraphicOffset()+3+"px"}),this._topTextElem?e.elem.style(this._topTextElem,{bottom:this.bottomGraphicOffset()+3+"px",left:0}):void 0},t.prototype.leftBackgroundOffset=function(){return Math.round((this.correctedWidth()-this.width())/2)},t.prototype.topBackgroundOffset=function(){return Math.round((this.correctedHeight()-this.height())/2)},t.prototype.topGraphicOffset=function(){return Math.round((this.correctedHeight()-this.graphicHeight())/2)},t.prototype.leftGraphicOffset=function(){return Math.round((this.correctedWidth()-this.graphicWidth())/2)},t.prototype.rightGraphicOffset=function(){return this.leftGraphicOffset()+this.graphicWidth()},t.prototype.bottomGraphicOffset=function(){return this.topGraphicOffset()+this.graphicHeight()},t.prototype.containerWidth=function(){return e.elem.width(this.container)},t.prototype.containerHeight=function(){return e.elem.height(this.container)},t.prototype.shouldShrink=function(){return this.containerWidth()<=320||this.containerHeight()<=200},t.prototype.graphicWidth=function(){return this.shouldShrink()?60:127},t.prototype.graphicHeight=function(){return this.shouldShrink()?38:81},t.prototype.width=function(){return this._cover?this.containerWidth():this.graphicWidth()},t.prototype.height=function(){return this._cover?this.containerHeight():this.graphicHeight()},t.prototype.cover=function(){return this._cover=!0,this.supportsMultiply()?(e.elem.style(this.backgroundElem,{mixBlendMode:"multiply"}),this.color(this.color(),.5)):this.color(this.color(),.3),this.addBottomText(),this.addTopText(),this.fit()},t.prototype.uncover=function(){return this._cover=!1,this.supportsMultiply()&&e.elem.style(this.backgroundElem,{mixBlendMode:"normal"}),this.color(this.color(),.76),this.removeBottomText(),this.removeTopText(),this.fit()},t.prototype.addBottomText=function(){var t;if(this.options.bottomText&&!this._bottomTextElem)return t=this.options.bottomTextInsideButton?this.playElem:this.container,this.removeBottomText(),this._bottomTextElem=this.createBottomTextElem(),e.elem.append(t,this._bottomTextElem)},t.prototype.addBottomTextFromNewOptions=function(t){return this.options=e.obj.merge(this.options,t),this.removeBottomText(),this.addBottomText()},t.prototype.removeBottomText=function(){return this._bottomTextElem?(e.elem.remove(this._bottomTextElem),this._bottomTextElem=null):void 0},t.prototype.addTopText=function(){return this.options.topText&&!this._topTextElem?(this.removeTopText(),this._topTextElem=this.createTopTextElem(),e.elem.append(this.container,this._topTextElem)):void 0},t.prototype.removeTopText=function(){return this._topTextElem?(e.elem.remove(this._topTextElem),this._topTextElem=null):void 0},t.prototype.uncoverImmediately=function(){return e.elem.style(this.backgroundElem,{transition:"none"}),e.util.requestAnimationFrame(function(t){return function(){return t.uncover(),e.util.requestAnimationFrame(function(){return e.elem.style(t.backgroundElem,{transition:"all 80ms ease-out"})})}}(this))},t.prototype.supportsMultiply=function(){return e.detect.chrome||e.detect.safari},t.prototype.color=function(t,i){var n,r;return null==i&&(i=.8),null!=t?(this._color=new e.Color(t).alpha(i),e.detect.browser.msie&&e.detect.browser.version<9?null!=(n=this.backgroundElem)&&(n.style.filter=this._color.toIeGradient()):null!=(r=this.backgroundElem)&&(r.style.backgroundColor=this._color.toRgbaOrHex()),this._color):this._color.clone()},t.prototype.highlightColor=function(){return this.color().clone().lighten(40)},t.prototype.iconBase64=function(){return window.devicePixelRatio>1?this.retinaBase64():this.shouldShrink()?this.smallNonRetinaBase64():this.bigNonRetinaBase64()},t.prototype.retinaBase64=function(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAP4AAACiCAYAAABh2nDdAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAulJREFUeNrs3d1tGlEQBtAlSgEpgXSAO8AdxB2QDuwONhWQDpxUAB14OyAdmA5IB+SOvDdCSHnLn/WdI91XP4z1aYY77DIMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAvnc/nQzsrlYCs4JdTOxvVgKzgd7t23qkKZAW/PLezVhnICn43qg7kBb88tbNUJcgKfr/4+6BSkBX8buviD/KCf7bzh8zgd/cqB3nBt/OH0OD3i7+1KkJW8O38ITj4/eJvqaKQFXw7fwgNfvfo4i/PQgleV/D/0J8+tnO3WCy+qXKGN0pAU5/3D3b+Oj5ZHf/SNHf/7yqu45Nj3Y7n/AWfQHXZV4/5bpXCqE/GqH+tLvw+uvjT8cmymrv/Ril0fHI6/qX93P1d/Ak+QcEvx8HO36hPnOXwsvMflULHJ6fjX5oGO38dnzjr4WXn72EfwSdM7fx3XvBp1Cdn1L9m56/jE6jv/D3so+MT1PEv2fnr+ASqC7+Dh30EnzzLefQflcKoT8aof60u/Grnf/Sf1PHJsZpHfzt/wSfMz52/Ugg+WWrk/6oMgk+OL+3c+oLPv/dWCfgLapdfO/29Uuj4ZJjauRF6wSfHpxb4Wys8oz4ZjvNoPymFjk+G/TzaC73gE6Au8B5a4L2Rx6hPCM/h6/iE+dwCfyP0Oj45o73dvOATZBq8XdeoT5S+mxd6HZ8Ax8Ev6Oj4ROm7eaEXfAL0Czyf5436hPCqLB2fMH03L/Q6PiGj/Z3v2ev45Kiwvxd6wSfHg908/KfOv1+97nqlspAT/Ec/aw05wT/5UQvICn6N9kuVhJzgjyoIOcE/+alqyAr+zgUe5AS/uvy9ikFO8O3mISz4W6M95ATfbh7Cgv9kNw9ZwR9VBXKC/+wCD7KCbzcPYcHfqAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAvE4/BBgAB9Vp0xXzB8AAAAAASUVORK5CYII="},t.prototype.bigNonRetinaBase64=function(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAH8AAABRCAYAAAD7G3lVAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAATFJREFUeNrs22FtwkAYx+F2QcAkMAfgYBKQwBxMQh1MwiRQB+CgEoaDzkG5S1a+E5IF+n+e5D4ve3+7N0s4mgYAAAAAAAAAAAAA7jFN06cp5MavjuWsTSMzfjWWszORzPizQzmvJpMZ3xYIj28LiG8LpMeffdsCufGrn3LeTS0z/uzLFsiNbwuEx7cFxL9ugY1pZsafdSaaG78abIHc+LaA+MvbAi/+XG5Sww9L2QLtEm/+P/2oUzkfbduexc+LX51L/DdrP09fzvaZf4GVhjf7/Vv3vVFk/bfvMUhg/PoAZG+6efE9Aw+MP/oCSGZ8tz0wvtseGn9w2zPjdyaXF99n9aHx3fbA+G57aHy3PTC+N/mh8b3DD4zvtofGd9tD47vtAAAAAAAAAAAAADymiwADAOSj1JBfF8xMAAAAAElFTkSuQmCC"},t.prototype.smallNonRetinaBase64=function(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAmCAYAAACYsfiPAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJNJREFUeNrs1ksNhEAURNGWgAQkjAQkIAUJ7QApIwEJSEACEh6PBatJhmZJ1T1JCahU+lMKAACAioj4Zjqnwqc9MzoVvszya8evLTM4FdZeO/7TWzva6Kwd7dbMx6nwpboV3l99rh+WXV5/lh+sOrlcWueqvcOzpLNqQ2GtVW8KT0WZ3MeisXAtLixWBQAAQDoEGACTzSwy3SX7YgAAAABJRU5ErkJggg=="},t}())}(Wistia)},function(e,t,i){!function(e){e.Color||(e.Color=i(294))}(Wistia)},function(e,t){!function(e){e.extend({cookie:function(t,i,n){var r,o,s,a,u;if(arguments.length>1&&"[object Object]"!==String(i)){n=e.extend({},n),null==i&&(n.expires=-1),"number"==typeof n.expires&&(r=n.expires,u=n.expires=new Date,u.setDate(u.getDate()+r)),i=String(i);try{return document.cookie=[encodeURIComponent(t),"=",n.raw?i:encodeURIComponent(i),n.expires?"; expires="+n.expires.toUTCString():"",n.path?"; path="+n.path:"",n.domain?"; domain="+n.domain:"",n.secure?"; secure":""].join("")}catch(t){if(s=t,!/sandbox/i.test(s.message))throw s;e.notice("sandboxed, can't write cookie")}}n=i||{},o=n.raw?function(e){return e}:decodeURIComponent;try{return(a=new RegExp("(?:^|; )"+encodeURIComponent(t)+"=([^;]*)").exec(document.cookie))?o(a[1]):null}catch(t){if(s=t,/sandbox/i.test(s.message))return e.notice("sandboxed, can't get cookie"),null;throw s}}})}(Wistia)},function(e,t,i){var n;n=i(15).cachedDetect,function(e){e._initializers.initDetect=function(){return e.detect?void 0:e.detect=n()}}(Wistia)},function(e,t){!function(e){var t;t=e,t.embed||(t._embed={},t.embed=function(e,i){var n;return null==i&&(i={}),t.info("Wistia.embed",e,i),"string"==typeof e?n=e:(n=e.hashedId,t.remote._convertEmbedSslToAkamai(e),t.cacheMedia(n,e)),new t.PublicApi(n,i)})}(Wistia)},function(e,t){var i=function(e,t){return function(){return e.apply(t,arguments)}};!function(e){var t;t=e,t.EmbedLink||(t.EmbedLink=function(){function e(e,n){var r;this.elem=e,this._apiHandle=n,this._onClickLink=i(this._onClickLink,this),this.defaults={autoPlay:!0,transition:"fade"},this.givenOptions=t.EmbedLink.optionsFromElem(this.elem),this.options=t.obj.merge({},this.defaults,this.givenOptions),this.hashedId=t.EmbedLink.hashedIdFromElem(this.elem),this.uuid=t.seqId("wistia_embed_link_"),!1===this.options.includeInPlaylist&&(this._apiHandle=null),!1!==this.options.includeInPlaylist&&(null!=(r=this._apiHandle)?r._opts.playlistLinks:void 0)&&!this._apiHandle._inPlaylist(this.hashedId)&&this.apiHandle().addToPlaylist(this.hashedId,this.options),t.elem.rebind(this.elem,"click",this._onClickLink),this.elem._wistiaEmbedLink=this}return e.prototype._onClickLink=function(e){return e.preventDefault(),this._followLink()},e.prototype._followLink=function(){var e,t,i,n,r;return this.hashedId===(null!=(e=this.apiHandle())?e.hashedId():void 0)&&this._onlyRunnableOptionsGiven()?(this.apiHandle()._givenOptions=this.options,this.apiHandle()._opts=this.apiHandle()._gatherOptions(),this.options.autoPlay&&null!=(t=this.apiHandle().plugin["postRoll-v1"])&&t.close(),this.apiHandle()._runMethodsFromOptions()):(null!=(i=this.apiHandle().popover)&&i.show(),this.apiHandle().replaceWith(this.hashedId,this.options)),(null!=(n=this.apiHandle())?n.popover:void 0)?!1!==(null!=(r=this.apiHandle())?r._opts.autoPlay:void 0)&&!1!==this.options.autoPlay?this.apiHandle().play():this.apiHandle().popover.show():void 0},e.prototype._onlyRunnableOptionsGiven=function(){var e,t;t=this.options;for(e in t)if(t[e],!this._allRunnableOptions[e])return!1;return!0},e.prototype._allRunnableOptions={autoPlay:!0,container:!0,pause:!0,time:!0,transition:!0,volume:!0},e.prototype.apiHandle=function(){return this._apiHandle||(this.options.container?t.api(this.options.container):this.closestEmbed())},e.prototype.closestEmbed=function(e){var i,n,r,o;return i=t.api._apiHandlesByDomOrder(),0===i.length?null:1===i.length?i[0]:(r=function(){var e,r,o;for(o=[],e=0,r=i.length;r>e;e++)n=i[e],o.push([n,t.elem.domDistance(this.elem,n.container)]);return o}.call(this),"above"===e?r=function(){var e,t,i;for(i=[],e=0,t=r.length;t>e;e++)o=r[e],o[1].across<0&&i.push(o);return i}():"below"===e&&(r=function(){var e,t,i;for(i=[],e=0,t=r.length;t>e;e++)o=r[e],o[1].across>0&&i.push(o);return i}()),r.sort(function(e,t){var i,n;return i=e[1].up+e[1].down+Math.abs(e[1].across),n=t[1].up+t[1].down+Math.abs(t[1].across),i-n}),r[0][0])},e.prototype.destroy=function(){return t.elem.unbind(this.elem,"click",this._onClickLink),this.elem._wistiaEmbedLink=null,t.EmbedLink._all[this.uuid]=null,delete t.EmbedLink._all[this.uuid]},e.inManualPlaylist=function(e){var t;return!!this.hashedIdFromElem(e)&&(t=this.optionsFromElem(e),t.container&&!1!==t.includeInPlaylist)},e.inContainerPlaylist=function(e){var i;return!!this.hashedIdFromElem(e)&&(i=this.optionsFromElem(e),!1!==i.includeInPlaylist&&t.elem.ancestorHasClass(e,"wistia_playlist_links"))},e.optionsFromElem=function(e){var i,n;return n=this.optionsFromHref(e.getAttribute("href")),i=t.embeds.optionsFromElemClass(e),t.obj.merge(n,i)},e.hashedIdFromElem=function(e){return this.hashedIdFromHref(e.getAttribute("href"))||this.optionsFromElem(e).hashedId},e.matchesElem=function(e){return!(!e||!this.hashedIdFromElem(e))},e.EMBED_LINK_REGEXP=/^\#wistia_([^\?]+)/,e.hashedIdFromHref=function(e){return e&&this.EMBED_LINK_REGEXP.test(e)?e.match(this.EMBED_LINK_REGEXP)[1]:null},e.optionsFromHref=function(e){return this.hashedIdFromHref(e)&&e.indexOf("?")>=0?t.obj.cast(t.url.paramsToJson(e.substring(e.indexOf("?")+1,e.length))):{}},e._all={},e.setup=function(e,i){var n;return i?t.info("PlaylistLink setup",e,i.container):t.info("EmbedLink setup",e),e._wistiaEmbedLink&&(e._wistiaEmbedLink.destroy(),e._wistiaEmbedLink=null),n=new t.EmbedLink(e,i),this._all[n.uuid]=n},e.filterPlaylistLinkCandidates=function(e,i){var n,r,o,s,a;for(null==i&&(i=null),a=[],r=0,o=e.length;o>r;r++)n=e[r],t.EmbedLink.matchesElem(n)&&(s=this.optionsFromElem(n),!1===s.includeInPlaylist||i&&!i(n)||a.push(n));return a},e.firstHandleWithPlaylistLinks=function(){var e,i,n,r;for(r=t.api._apiHandlesByDomOrder(),i=0,n=r.length;n>i;i++)if(e=r[i],e._opts.playlistLinks)return e;return null},e.playlistLinkElems=function(e,i,n){var r,o,s,a,u,l,c,d,h,p,f,m,g,_;if(c=this.firstHandleWithPlaylistLinks(),m=(null!=e?e.container:void 0)||null,u=i.container,f=(null!=n?n.container:void 0)||null,"auto"===i._opts.playlistLinks)return a=this.filterPlaylistLinkCandidates(t.elem.allBetween(m,u,"a"),function(e){return function(t){return!e.inManualPlaylist(t)&&!e.inContainerPlaylist(t)}}(this)),s=this.filterPlaylistLinkCandidates(t.elem.allBetween(u,f,"a"),function(e){return function(t){return!e.inManualPlaylist(t)&&!e.inContainerPlaylist(t)}}(this)),i===c&&(a.length>0?(t.info("EmbedLink @_firstHandleHasLinksBefore = true"),this._firstHandleHasLinksBefore=!0):(t.info("EmbedLink @_firstHandleHasLinksBefore = false"),this._firstHandleHasLinksBefore=!1)),this._firstHandleHasLinksBefore?a.length>0?a:s:s.length>0?s:a;if("manual"===i._opts.playlistLinks){for(o=t.util.aps(document.getElementsByTagName("a")),_=[],h=0,p=o.length;p>h;h++)r=o[h],d=t.EmbedLink.hashedIdFromElem(r),l=d&&t.EmbedLink.optionsFromElem(r),u=(null!=l?l.container:void 0)&&document.getElementById(l.container),(null!=u?u.wistiaApi:void 0)?l&&(null!=(g=i.container)?g.id:void 0)===l.container&&_.push(r):(null!=l?l.container:void 0)&&t.error("Embed Link container '"+l.container+"' not found. You must specify the DOM ID of an initialized Wistia embed on the page.");return _}return i._opts.playlistLinks?(u=document.getElementById(i._opts.playlistLinks),u?(o=t.util.aps(u.getElementsByTagName("a")),this.filterPlaylistLinkCandidates(o,function(e){return function(t){return!e.inManualPlaylist(t)}}(this))):(t.error("Embed Link container '"+i._opts.playlistLinks+"' not found. You must specify auto, manual, or the ID of an element on the page."),[])):[]},e.destroyAll=function(e){var i,n,r,o,s,a,u,l,c,d;if(null==e&&(e=document),t.info("EmbedLink.destroyAll",e),e===document){a=this._all,l=[];for(d in a)r=a[d],l.push(r.destroy());return l}for(n=e.getElementsByTagName("a"),c=[],o=0,s=n.length;s>o;o++)i=n[o],c.push(null!=(u=i._wistiaEmbedLink)?u.destroy():void 0);return c},e.setupAll=function(e){var i,n,r,o,s,a,u,l,c,d,h,p;null==e&&(e=document),t.info("EmbedLink.setupAll",e);try{for(t.EmbedLink.destroyAll(e),r=t.api._apiHandlesByDomOrder(),s=function(e,i){return i.hasData(function(n){return function(){var n,o,s,a,u,l,c;if(i._opts.playlistLinks&&(t.info("EmbedLink setup handle",i),c=r[e-1],u=r[e+1],l=t.EmbedLink.playlistLinkElems(c,i,u),l=t.EmbedLink.filterPlaylistLinkCandidates(l,function(e){return!e._wistiaEmbedLink}),l.length>0)){for(i._playlist=[],o=0,s=l.length;s>o;o++)n=l[o],t.EmbedLink.setup(n,i);if(a=i.nextVideo())return i.bind("play",function(){return i.prefetchMedia(a.hashedId,a.options),i.unbind})}}}())},u=l=0,h=r.length;h>=0?h>l:l>h;u=h>=0?++l:--l)a=r[u],s(u,a);for(n=t.util.aps(e.getElementsByTagName("a")),p=[],c=0,d=n.length;d>c;c++)i=n[c],t.EmbedLink.matchesElem(i)?i._wistiaEmbedLink?p.push(t.notice("Conflict setting up embed link",i," already belongs to ",i._wistiaEmbedLink)):p.push(t.EmbedLink.setup(i)):p.push(void 0);return p}catch(e){return o=e,t.error(o)}},e}(),t.EmbedLink.setupAllThrottled=t.util.throttle(1e3,t.EmbedLink.setupAll),t._initializers.initEmbedLinks=function(){return wistiaEmbeds.bind("initembed",function(){return t.timeout("setup_embed_links_1000",t.EmbedLink.setupAllThrottled,1),t.timeout("setup_embed_links_1000",t.EmbedLink.setupAllThrottled,1e3),t.timeout("setup_embed_links_3000",t.EmbedLink.setupAllThrottled,3e3)}),t.EmbedLink.setupAllThrottled(),t.util.onDocReady(function(){return t.EmbedLink.setupAllThrottled(),t.timeout("setup_embed_links_5000",t.EmbedLink.setupAllThrottled,5e3)})},t._destructors.destroyEmbedLinks=function(){var e,i,n;if(t.EmbedLink){i=t.EmbedLink._all;for(n in i)e=i[n],e.destroy();return t.EmbedLink._all={}}})}(Wistia)},function(e,t){var i=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},n={}.hasOwnProperty;!function(e){e.EmbedListener||(e.EmbedListener=function(t){function n(){this.uuid=e.seqId(),this.bindHandles(),this.bind("down",function(t){return function(){return t.info("got down event, prune and rebind handles"),e.timeout("prune_zombies_later",function(){return t.pruneZombies(),t.bindHandles()})}}(this)),this.bind("up",function(e){return function(t){return e.info("got up event, set _bound=false for",t),t._bound=!1,e.bindHandles()}}(this))}return i(n,t),n.prototype.bindHandles=function(){var e,t,i,n,r;for(e=this.allUnboundHandles(),this.info("bindHandles",e),r=[],i=0,n=e.length;n>i;i++)t=e[i],this.info("bind to all events for",t),t._bound=!0,r.push(this.push(t));return r},n.prototype.pruneZombies=function(){var e,t,i,n,r,o,s,a,u,l,c;for(this.info("pruneZombies"),c=[],a=this.allBoundHandles(),i=0,o=a.length;o>i;i++)e=a[i],e.looksDown()?this.info("prune zombie",e):c.push(e);for(t=n=0,u=this.length;u>=0?u>=n:n>=u;t=u>=0?++n:--n)delete this[t];for(this.length=0,l=[],r=0,s=c.length;s>r;r++)e=c[r],l.push(this.push(e));return l},n.prototype.allBoundHandles=function(){var e,t,i,n,r;for(r=[],n=this.allHandles(),t=0,i=n.length;i>t;t++)e=n[t],e._bound&&r.push(e);return r},n.prototype.allUnboundHandles=function(){var e,t,i,n,r;for(r=[],n=this.allHandles(),t=0,i=n.length;i>t;t++)e=n[t],e._bound||r.push(e);return r},n.prototype.allHandles=function(){return this.apiHandles().concat(this.iframeApiHandles())
},n.prototype.iframeApiHandles=function(){var e,t,i,n,r;for(this.iframes||(this.iframes=document.getElementsByTagName("iframe")),r=[],n=this.iframes,t=0,i=n.length;i>t;t++)e=n[t],e.wistiaApi&&r.push(e.wistiaApi);return r},n.prototype.apiHandles=function(){var e,t,i,n;if(t=[],window.Wistia){n=Wistia.data("video");for(i in n)e=n[i],t.push(e)}return t},n.prototype.each=function(e){var t,i,n,r,o;for(r=this.allBoundHandles(),o=[],i=0,n=r.length;n>i;i++)t=r[i],o.push(e(t));return o},n.prototype.onFind=function(e){var t;return t=function(t){return function(i){return i.up(function(){return t.info("onFind",i),e(i),i.unbind})}}(this),this.each(t),this.bind("initembed",t)},n}(Array),e.mixin(e.EmbedListener.prototype,e.bindable),e.mixin(e.EmbedListener.prototype,e.logHelpers),e._initializers.initEmbedShepherd=function(){return window.wistiaEmbeds?(e.info("window.wistiaEmbeds already exists, call bindHandles"),"function"==typeof wistiaEmbeds.bindHandles&&wistiaEmbeds.bindHandles()):(e.info("initialize embed shepherd"),window.wistiaEmbeds=new e.EmbedListener),e.info("call window.wistiaEmbedShepherdReady()"),"function"==typeof window.wistiaEmbedShepherdReady?window.wistiaEmbedShepherdReady():void 0},e._destructors.destroyEmbedShepherd=function(){var e;return null!=(e=window.wistiaEmbeds)&&e.each(function(e){return e._bound=!1}),window.wistiaEmbeds=null})}(Wistia)},function(e,t){!function(e){e._initializers.initSpecificTime=function(){var t,i,n;try{if(e.detect.iphone||e.detect.ipad)return;if(parent!==self)return;if(n=location.href.match(/[\?&]wtime=([\dhms]*)/),!((null!=n?n.length:void 0)>=2))return;if(e._specificTimeInitiated)return;return e._specificTimeInitiated=!0,i=!1,wistiaEmbeds.onFind(function(e){return i?void 0:(i=!0,e.time(n[1]).play())})}catch(i){return t=i,e.error(t),e._specificTimeInitiated=!1}}}(Wistia)},function(e,t,i){!function(e){var t,n;t=e,(null!=(n=t._initializers)?n.initEventLoop:0)||(t._initializers.initEventLoop=function(){var e;return e=i(119).globalEventLoop,t.eventLoop=e},t._destructors.destroyEventLoop=function(){var e;return null!=(e=t.eventLoop)&&e.stop(),t.eventLoop=null})}(Wistia)},function(e,t){var i=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},n={}.hasOwnProperty;!function(e){e.ExternalPlayer||(e.ExternalPlayer=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return i(n,t),n.prototype.playerType="external",n.prototype.elem=function(){return document.getElementById(this.uuid)},n.prototype.chromeElem=function(){return document.getElementById(this.uuid+"_external_player")},n.prototype.createEmbedElem=function(){var t,i;return i={id:this.uuid+"_external_player",style:{background:"transparent",display:"block",height:"100%",position:"relative",width:"100%"}},t={tagName:"a",href:this.sdAsset().url,id:this.uuid,target:"_parent",style:e.generate.relativeBlockCss(),alt:"Click to play video"},i.childNodes=[t],e.elem.fromObject(i)},n.prototype.stillUrl=function(t){return t=e.obj.merge({playButton:!1},t),n.__super__.stillUrl.call(this,t)},n.prototype.embed=function(){var t,i;return this._currentAsset=this.sdAsset(),this.data.asset=this._currentAsset,this.placeEmbed(this.createEmbedElem()),this.elem().wistiaApi=this,this.bigPlayButton=new e.Html5BigPlayButton(this).initialize(),this.bigPlayButton.bpb.elem.style.pointerEvents="none",this.bigPlayButton.bpb.backgroundElem.style.pointerEvents="none",this.still=new e.Html5Still(this).initialize(),this._opts.stillUrl=null!=(t=this.still.thumbnail)&&null!=(i=t.img)?i.getAttribute("src"):void 0,"transparent"!==this._opts.wmode&&this.still.loaded(function(t){return function(){var i;return t.elem()&&e.elem.prepend(t.elem(),t.still.elem),null!=(i=t.chromeElem())?i.style.backgroundColor="#000":void 0}}(this)),e.elem.bind(this.elem(),"click",function(t){return function(){return t.trigger("play"),e.timeout(t.uuid+".fake_video_end",function(){return t.trigger("end"),t.trigger("afterend")},500),!0}}(this)),this.embedded(!0),this.checkForReady()},n.prototype.checkForReady=function(){var t;return this._checkDownState(),t=function(t){return function(){return e.timeout(t.uuid+".async_ready",function(){return t._hasBeenReady=!0,t.ready(!0)})}}(this),this._hasBeenReady?t():this.publicApi.up(t)},n.prototype.fit=function(){return n.__super__.fit.apply(this,arguments),this.embedded(function(e){return function(){var t,i;return null!=(t=e.still)&&t.fitStill(),null!=(i=e.bigPlayButton)?i.reorient():void 0}}(this))},n.prototype.play=function(){return this},n.prototype.time=function(e){return null!=e?this:0},n.prototype.pause=function(){return this},n.prototype.volume=function(e){return null!=e?this:1},n.prototype.bestAsset=function(){return this.sdAsset()},n.prototype.sdAsset=function(){return this.iphoneAsset()||this.mp4Asset()},n.prototype.mdAsset=function(){return this.iphoneAsset()||this.mp4Asset()},n.prototype.hdAsset=function(){return this.iphoneAsset()||this.mp4Asset()},n.prototype.initFrom=function(t){return e.elem.remove(t.wrapperElem),this.embed()},n}(e.Player))}(Wistia)},function(e,t,i){!function(e){e.featureEvent||(e.featureEvent=i(348))}(Wistia)},function(e,t){var i=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},n={}.hasOwnProperty;!function(e){e.FlashPlayer||(e.FlashPlayer=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return i(n,t),n.prototype.playerType="flash",n.prototype.elem=function(){return document[this.uuid]},n.prototype.embed=function(){return this._currentAsset=this.bestAsset(),this.data.asset=this._currentAsset,this.resetStateVariables(),this.placeEmbed(this.createEmbedElem()),null==this._switchToHtml5&&(this._switchToHtml5=function(t){return function(){return e.timeout(t.uuid+".delayed_rebuild_as_html5",function(){return t.savePlatformPreference("romulus"),t.publicApi.rebuildAs("romulus"),t.trigger("widthchange"),t.trigger("heightchange")})}}(this)),e.unbind("switch-to-html5",this._switchToHtml5),e.bind("switch-to-html5",this._switchToHtml5),this.embedded(!0),this.checkForReady(),this},n.prototype.checkForReady=function(){return this.info("checkForReady"),this._checkDownState(),this._readyCheckFunc=function(t){return function(i){var n;return null==i&&(i=0),t.info("_readyCheckFunc",i),i>=25?void 0:t.elem()&&t._allFuncsUp()?e.timeout(t.uuid+".ready_delay",function(){return t.info("ready(true)"),t.ready(!0),t.listenForEvents()},200):(n=Math.max(1e3,50+75*i),e.timeout(t.uuid+".ready_check",function(){return t._readyCheckFunc(i+1)},n))}}(this),this.up(function(e){return function(){return e.info("start _readyCheckFunc"),e._readyCheckFunc()}}(this))},n.prototype.initFrom=function(t){return e.elem.remove(t.wrapperElem),this.embed()},n.prototype.cleanupRefs=function(){return this._switchToHtml5?e.unbind("switch-to-html5",this._switchToHtml5):void 0},n.prototype.bestAsset=function(){return this._forceAsset?this._forceAsset:"sd-only"===this._opts.videoQuality?this.mdOrSdAsset():"hd-only"===this._opts.videoQuality?this.hdAsset()||this.mdAsset()||this.sdAsset():"md"===this._opts.videoQuality?this.mdAsset()||this.sdAsset():this.chosenAsset()?this.chosenAsset():this.isScreencast()&&this.screencastAsset()?this.screencastAsset()||this.mdOrSdAsset():this.mdOrSdAsset()},n.prototype.chosenAsset=function(){var e,t,i;return/width:/.test(this._opts.videoQuality)?(t=this._opts.videoQuality.match(/width:([a-z]*)(\d+)/i),t[0],e=t[1],i=t[2],""===e||"lte"===e?this.flashAsset({width:[0,i],sortBy:"width desc"})||this.flashAsset({width:[i,1e4],sortBy:"width asc"}):"gte"===e?this.flashAsset({width:[i,1e4],sortBy:"width asc"})||this.flashAsset({width:[0,i],sortBy:"width desc"}):null):null},n.prototype.mdOrSdAsset=function(){return this._mdOrSdAsset||(this._mdOrSdAsset="sd-only"===this._opts.videoQuality?this.sdAsset():"md"===this._opts.videoQuality||this._opts.videoFoam||this.grid&&this.videoWidth()>=720?this.mdAsset()||this.sdAsset():this.sdAsset())},n.prototype.screencastAsset=function(){return this._screencastAsset||(this._screencastAsset=this.flashAsset({bitrate:[0,1300],sortBy:"width desc, bitrate asc",width:[0,this.originalAsset().width]}))},n.prototype.sdAsset=function(){return this._sdAsset||(this._sdAsset=this.flashAssetInRange({width:640})||this.flashAssetInRange()||this.flashAsset({width:640})||this.flashAsset({sortBy:"width asc"})||this.iphoneAssetInRange()||this.mp4AssetInRange()||this.smallestNormalMp4Asset()||this.mp4Asset())},n.prototype.mdAsset=function(){return this._mdAsset||(this._mdAsset=this.flashAssetInRange({width:[720,980],sortBy:"width desc, bitrate desc"}))},n.prototype.hdAsset=function(){return this._hdAsset||(this._hdAsset=this.flashAssetInRange({width:[980,this._opts.maxHdWidth||1300],sortBy:"width desc, bitrate desc"}))},n.prototype.playerVersion=function(){return parseFloat(this.playerUrl().match(/_v(\d+(?:\.\d+)?)/)[1]||2)},n.prototype.stillUrl=function(t){return t=e.obj.merge({playButton:!1},t),n.__super__.stillUrl.call(this,t)},n.prototype.generateFlashVars=function(){var t,i;i={autoLoad:this._opts.autoLoad,autoPlay:!this.publicApi.popover&&this._opts.autoPlay&&!this.suppressPlay(),banner:!(!this._mediaData.branding&&!this._opts.branding)||null,chromeless:!!this._opts.chromeless||null,controlsVisibleOnLoad:!!this._opts.controlsVisibleOnLoad,customColor:this.playerVersion()>=2?this.playerColor():null,endVideoBehavior:this._opts.endVideoBehavior||null,endVideoCallback:this._opts.endVideoCallback||null,foreignData:this._opts.foreignData,fullscreenDisabled:!1===this._opts.fullscreenButton||null,mediaDuration:this._mediaData.duration,playButtonVisible:null==this._opts.playButton||this._opts.playButton,quality:e.detect.ps3&&!this._opts.videoQuality?"sd-only":this._opts.videoQuality,referrer:this._attrs.pageUrl,showAbout:null==this._mediaData.showAbout||this._mediaData.showAbout,showPlayButton:!1!==this._opts.smallPlayButton&&null,showPlaybar:!1!==this._opts.playbar&&null,showVolume:!!this._opts.volumeControl,stillUrl:this.stillUrl(),allowSwitchToHtml5:e.detect.vulcanSupport,trackingTransmitInterval:this._opts.trackingTransmitInterval||this._mediaData.trackingTransmitInterval||null,unbufferedSeek:/flash/i.test(this.bestAsset().type),videoUrl:this.bestAsset().url,wemail:this.email(),wmode:this._opts.wmode||"opaque"},e.detect.android&&(i.quality="sd-only"),this.chosenAsset()||(this.hdAsset()?i.hdUrl=this.hdAsset().url:this.mdAsset()&&this.mdAsset().url!==this.mdOrSdAsset().url&&(i.hdUrl=this.mdAsset().url)),this._attrs.shouldTrack&&!this._attrs.trackWithJs&&(i.embedServiceURL=this._mediaData.distilleryUrl,i.accountKey=this._opts.accountKey||this._mediaData.accountKey,i.mediaID=this._opts.mediaKey||this._mediaData.mediaKey);for(t in i)null==i[t]&&delete i[t];return i},n.prototype.createEmbedObject=function(){var t,i,n,r,o;return o=this._opts.wmode||"opaque",n={tagName:"object",id:this.uuid,classid:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",style:e.generate.relativeBlockCss()},"transparent"!==this._opts.wmode&&(n.bgcolor="#000000"),i=this.generateFlashVars(),r=[{tagName:"param",name:"movie",value:this.playerUrl()},{tagName:"param",name:"allowfullscreen",value:"true"},{tagName:"param",name:"allowscriptaccess",value:"always"},{tagName:"param",name:"wmode",value:o},{tagName:"param",name:"flashvars",value:e.url.jsonToParams(i)}],t={tagName:"embed",src:this.playerUrl(),name:this.uuid,type:"application/x-shockwave-flash",allowfullscreen:"true",allowscriptaccess:"always",wmode:o,flashvars:e.url.jsonToParams(i),style:e.generate.relativeBlockCss()},"transparent"!==o&&(t.bgcolor="#000000"),n.childNodes=r.concat(t),n},n.prototype.playerUrl=function(){var t,i;return(null!=(t=this.bestAsset())?t.url:void 0)?(i=e.url.parse(this.bestAsset().url),this.info("using player url derived from bestAsset",i.authority()),e.proto()+"//"+i.authority()+"/flash/embed_player_v2.0.swf?2015-02-27"):(this.info("Couldn't determine player url from bestAsset. Falling back to defaults."),e.proto()+"//"+e.remote.assetHost()+"/flash/embed_player_v2.0.swf?2015-02-27")},n.prototype.createEmbedElem=function(){return e.generate.html(this.createEmbedObject())},n.prototype._allFuncsUp=function(){var e,t,i,n;for(n=["changeColor","getCurrentTime","getCurrentState","videoPlay","videoSeek","getVolume","setVolume","setEmail"],e=0,t=n.length;t>e;e++)if(i=n[e],!this.elem()[i])return!1;return!0},n.prototype.listenForEvents=function(){return this.setupWaitingDetection(),e.eventLoop.add(this.uuid+".events",this._eventLoopDuration,function(e){return function(){var t,i,n;return e.up()&&e.elem()&&e._allFuncsUp()?(t=e.state(),i=e.time(),n=e.volume(),t!==e._lastState&&(e.trigger("statechange",t),"playing"===t&&e.trigger("play")),i!==e._lastTimePosition&&i>0&&(e.trigger("timechange",i),Math.floor(i)!==Math.floor(e._lastTimePosition)&&e.trigger("secondchange",Math.floor(i)),Math.abs(i-e._lastTimePosition)>e._attrs.seekThreshold&&e.trigger("seek",i,e._lastTimePosition),e._lastTimePosition=i),t!==e._lastState&&("paused"===t?e.trigger("pause"):"ended"===t?(e.trigger("end"),e.trigger("afterend")):"playing"===e._lastState&&"beforeplay"===t&&"reset"===e._opts.endVideoBehavior&&(e.trigger("end"),e.trigger("afterend"))),n!==e._lastVolume&&(e.trigger("volumechange",n),e._lastVolume=n),e._lastState=t):void 0}}(this))},n.prototype.play=function(){return this.suppressPlay()?this:(this.trigger("play-method-invoked"),this.ready(function(e){return function(){return e.commandQueueOpen.synchronize(function(t){return e.trigger("play-initiated"),e.elem().videoPlay(),t()})}}(this)),this)},n.prototype.pause=function(){return this.ready(function(e){return function(){return e.commandQueueOpen.synchronize(function(t){return e.elem().videoPause(),t()})}}(this)),this},n.prototype.time=function(e){if(null!=e)return this.suppressPlay()?this:(this.ready(function(t){return function(){return t.commandQueueOpen.synchronize(function(i){var n,r;return r=t.state(),t._streamSet&&"beforeplay"!==r&&"ended"!==r?(t.elem().videoSeek(e),/paused|ended/.test(r)&&t.elem().videoPause(),i()):(t.info("time("+e+"): seek before play from",r),n=function(){return t.info("time("+e+"): seek on play"),t._streamSet=!0,t.elem().videoSeek(e),"playing"===r?t.elem().videoPlay():t.elem().videoPause(),i(),t.unbind},t.bind("timechange",n),t.elem().videoPlay())})}}(this)),this);try{return this.elem().getCurrentTime()||0}catch(e){return e,-1}},n.prototype.state=function(){try{switch(this.elem().getCurrentState()){case 0:return"ended";case 1:return"playing";case 2:return"paused";default:return"beforeplay"}}catch(e){return e,"beforeplay"}},n.prototype.volume=function(e){var t;if(null!=e)return this.ready(function(t){return function(){var i;return i=t.volume(),t.elem().setVolume(Math.min(Math.round(100*e),100)),i!==t.volume()?t.trigger("volumechange",t.volume(),i):void 0}}(this)),this;try{return t=this.elem().getVolume(),t>0&&(t/=100),t}catch(e){return 1}},n.prototype.controlEnabled=function(e,t){return null!=t?this.ready(function(i){return function(){return i.elem()[e+"Enabled"](t)}}(this)):this.elem()[e+"Enabled"]()},n.prototype.bigPlayButtonEnabled=function(e){return this.controlEnabled("bigPlayButton",e),this},n.prototype.smallPlayButtonEnabled=function(e){return this.controlEnabled("playButton",e),this},n.prototype.playbarControlEnabled=function(e){return this.controlEnabled("playbar",e),this},n.prototype.volumeControlEnabled=function(e){return this.controlEnabled("volumeControl",e),this},n.prototype.fullscreenButtonEnabled=function(e){return this.controlEnabled("fullscreenButton",e),this},n.prototype.setPlayerColor=function(e){return this.playerColor(e)},n.prototype.playerColor=function(t){var i;return t?(i=this._attrs.playerColor,t=e.Player._sanePlayerColor(t),this._attrs.playerColor=t,this.playerVersion()>=2&&this.ready(function(e){return function(){return e.elem().changeColor(t),i!==e._attrs.playerColor?e.trigger("playercolorchange",e._attrs.playerColor,i):void 0}}(this)),this):this._attrs.playerColor},n.prototype.email=function(e){return null!=e?this.ready(function(t){return function(){return t.elem().setEmail(e)}}(this)):null},n}(e.Player))}(Wistia)},function(e,t){!function(e){null==e._onFullscreenChange&&(e._onFullscreenChange=function(){return e.elem.fullscreenElement()?e.trigger("enter-fullscreen",e.elem.fullscreenElement()):e.trigger("cancel-fullscreen")}),e._initializers.initFullscreenTriggers=function(){return e.elem.rebind(document,"mozfullscreenchange",e._onFullscreenChange),e.elem.rebind(document,"webkitfullscreenchange",e._onFullscreenChange),e.elem.rebind(document,"MSFullscreenChange",e._onFullscreenChange),e.elem.rebind(document,"fullscreenchange",e._onFullscreenChange)},e._destructors.destroyFullscreenTriggers=function(){return e.elem.unbind(document,"mozfullscreenchange",e._onFullscreenChange),e.elem.unbind(document,"webkitfullscreenchange",e._onFullscreenChange),e.elem.unbind(document,"MSFullscreenChange",e._onFullscreenChange),e.elem.unbind(document,"fullscreenchange",e._onFullscreenChange)}}(Wistia)},function(e,t){!function(e){e.integrations.register("google_analytics",{pushPercentWatchedEvent:function(e,t){return this._pushEvent(Math.round(100*t)+"% Watched",e.name())},pushPlayEvent:function(e){return this._pushEvent("Play",e.name())},pushConversionEvent:function(e,t,i){return this._pushEvent("Conversion",e.name())},pushConversionMidrollLinkEvent:function(e,t){return this._pushEvent("Clicked Link - "+t.link,e.name())},pushConversionPostRollEvent:function(e,t){return this._pushEvent("Clicked Link - "+t.link,e.name())},_gaTrackers:function(){var e,t,i,n,r,o,s,a,u,l,c;if(l=[],"undefined"!=typeof ga&&null!==ga?ga.getAll:void 0)for(s=ga.getAll(),e=0,n=s.length;n>e;e++)c=s[e],l.push(c.get("name"));if("undefined"!=typeof gaTracker&&null!==gaTracker?gaTracker.getAll:void 0)for(a=gaTracker.getAll(),t=0,r=a.length;r>t;t++)c=a[t],l.push(c.get("name"));if("undefined"!=typeof __gaTracker&&null!==__gaTracker?__gaTracker.getAll:void 0)for(u=__gaTracker.getAll(),i=0,o=u.length;o>i;i++)c=u[i],l.push(c.get("name"));return l},_pushEvent:function(t,i){var n,r,o,s,a,u;if(null!=(n=window[window.GoogleAnalyticsObject]||window.ga)){for(s=this._gaTrackers(),a=[],r=0,o=s.length;o>r;r++)u=s[r],n(u+".send","event","Video",t,i),a.push(e.info("Push to "+(window.GoogleAnalyticsObject||"ga")+": "+u+".send, event, Video, "+t+", "+i));return a}return null!=window._gaq?(_gaq.push(["_trackEvent","Video",t,i]),e.info("Push to _gaq: _trackEvent, Video, "+t+", "+i)):void 0}})}(Wistia)},function(e,t){!function(e){e.generate||(e.generate={},e.generate.html=function(t){var i,n,r,o,s,a,u,l,c,d,h,p,f,m;if(/string|number|boolean/.test(typeof t))return t.toString();if(t instanceof Array){for(h="",s=0,l=t.length;l>s;s++)o=t[s],h+=e.generate.html(o);return h}if("object"!=typeof t)return t.toString();n=[];for(u in t)f=t[u],"tagName"===u?p=f:"childNodes"===u?r=f:n.push({key:u,val:f});for(p||(p="div"),h="<"+p,a=0,c=n.length;c>a;a++)i=n[a],"style"===i.key&&e.obj.isObject(i.val)&&(i.val=function(){var e,t;e=i.val,t=[];for(d in e)m=e[d],t.push(d.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()+":"+m);return t}().join(";")+";"),h+=" "+i.key+'="'+i.val+'"';return/^(br|hr|img|link|meta|input)$/i.test(p)?h+=" />":(h+=">",r&&("string"==typeof r?h+=r:"object"==typeof r&&(h+=e.generate.html(r))),h+="</"+p+">"),h},e.generate.stillWidth=function(e){var t,i,n,r,o,s,a,u;for(s=[640,960,1280,1920,3840],e.masterStillWidth<3840&&s.push(e.masterStillWidth),t=[],i=0,r=s.length;r>i;i++)(u=s[i])<=e.masterStillWidth&&t.push(u);for(a=t.sort(function(e,t){return e-t}),n=0,o=a.length;o>n;n++)if(u=a[n],e.videoWidth<=u)return u;return Math.max.apply(Math,t)},e.generate.relativeBlockCss=function(e,t){return null==e&&(e="100%"),null==t&&(t="100%"),"display:inline-block;*display:inline;height:"+t+";margin:0;padding:0;position:relative;vertical-align:top;width:"+e+";zoom:1;"},e.extend({generate:{video:function(t,i,n){switch(n=e.obj.merge({},i.params,n,{uuid:i.uuid,videoWidth:i.videoWidth(),videoHeight:i.videoHeight()}),t){case"flash":return e.generate.flashEmbedCode(i._mediaData,n);case"html5":return e.generate.html5EmbedElem(i._mediaData,n);case"romulus":return e.generate.romulusEmbedElem(i._mediaData,n);case"external":return e.generate.externalEmbedCode(i._mediaData,n);case"flashUrl":return e.generate.flashUrl(i._mediaData,n)}}}}))}(Wistia)},function(e,t){!function(e){e.gridify||e.extend({gridifyCss:function(e){return e.replace(/_grid$/,""),"#"+e+"_wrapper{-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box;font-family:Arial,sans-serif;font-size:14px;height:100%;position:relative;text-align:left;width:100%;}\n#"+e+"_wrapper *{-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box;}\n#"+e+"_above{position:relative;}\n#"+e+"_main{display:block;height:100%;position:relative;}\n#"+e+"_behind{height:100%;left:0;position:absolute;top:0;width:100%;}\n#"+e+"_center{height:100%;overflow:hidden;position:relative;width:100%;}\n#"+e+"_front{display:none;height:100%;left:0;position:absolute;top:0;width:100%;}\n#"+e+"_top_inside{position:absolute;left:0;top:0;width:100%;}\n#"+e+"_top{width:100%;position:absolute;bottom:0;left:0;}\n#"+e+"_bottom_inside{position:absolute;left:0;bottom:0;width:100%;}\n#"+e+"_bottom{width:100%;position:absolute;top:0;left:0;}\n#"+e+"_left_inside{height:100%;position:absolute;left:0;top:0;}\n#"+e+"_left{height:100%;position:absolute;right:0;top:0;}\n#"+e+"_right_inside{height:100%;right:0;position:absolute;top:0;}\n#"+e+"_right{height:100%;left:0;position:absolute;top:0;}\n#"+e+"_below{position:relative;}"},gridifyHtml:function(e){return{id:e+"_wrapper",childNodes:[{id:e+"_above"},{id:e+"_main",childNodes:[{id:e+"_behind"},{id:e+"_center"},{id:e+"_front"},{id:e+"_top_inside",childNodes:{id:e+"_top"}},{id:e+"_bottom_inside",childNodes:{id:e+"_bottom"}},{id:e+"_left_inside",childNodes:{id:e+"_left"}},{id:e+"_right_inside",childNodes:{id:e+"_right"}}]},{id:e+"_below"}]}},createGrid:function(e){var t;return t=this.createGridSkeleton(),this.initGridDimensions(e,t),t},createGridSkeleton:function(){var t,i,n,r,o,s,a,u;for(i=e.seqId("wistia_grid_"),n=e.elem.fromObject(e.gridifyHtml(i)),t=e.css(n,e.gridifyCss(i)),s={},s.css=t,s.root=n,e.elem.style(n,{display:"none"}),e.elem.append(document.body,n),u=["wrapper","main","above","below","top","right","bottom","left","top_inside","right_inside","bottom_inside","left_inside","front","center","behind"],r=0,o=u.length;o>r;r++)a=u[r],s[a]=document.getElementById(i+"_"+a);return e.elem.remove(n),e.elem.style(n,{display:"block"}),s},initGridDimensions:function(t,i){var n,r,o;return r=t._embedContainer,n=t.chrome,o=t._opts,e.detect.browser.old&&(n.style.width=r.style.width=e.elem.width(r)+"px",n.style.height=r.style.height=e.elem.height(r)+"px"),e.detect.browser.old?o.rawEmbed&&o.aspectRatio?i.main.style.height=e.elem.width(i.center)/o.aspectRatio+"px":void 0:(n.style.height=e.elem.height(r)+"px",i.main.style.width=e.elem.width(r)+"px")},gridify:function(t,i){var n,r,o,s,a,u;for(a={},n=i.id+"_grid",e.detect.browser.old&&(i.style.width=e.elem.width(i)+"px",i.style.height=e.elem.height(i)+"px"),i.innerHTML=e.generate.html(e.gridifyHtml(n)),s=["wrapper","main","above","below","top","right","bottom","left","top_inside","right_inside","bottom_inside","left_inside","front","center","behind"],r=0,o=s.length;o>r;r++)u=s[r],a[u]=document.getElementById(n+"_"+u);return e.util.addInlineCss(a.wrapper,e.gridifyCss(n)),e.detect.browser.old?t.rawEmbed&&t.aspectRatio&&(a.main.style.height=e.elem.width(a.center)/t.aspectRatio+"px"):(a.wrapper.style.height=e.elem.height(i)+"px",a.main.style.width=e.elem.width(i)+"px"),a},isGridElem:function(e,t){var i,n;for(n in e)if(i=e[n],t===i)return!0;return!1},grid:{allNodesHidden:function(e){var t,i,n;if(0===e.length)return!0;for(t=0,i=e.length;i>t;t++)if(n=e[t],n.style&&"none"!==n.style.display)return!1;return!0},zeroEmptySections:function(e){var t,i,n,r,o,s;for(r=["top","bottom","left","right","above","below"],o=[],i=0,n=r.length;n>i;i++)s=r[i],t=e.grid[s],t.childNodes.length?this.allNodesHidden(t.childNodes)?(t.style.height="0px",t.style.fontSize="0px",t.style.lineHeight="0px",o.push(t.isEmpty=!0)):(t.style.height="",t.style.fontSize="",o.push(t.style.lineHeight="")):(t.appendChild(document.createTextNode(" ")),t.style.height="0px",t.style.fontSize="0px",t.style.lineHeight="0px",o.push(t.isEmpty=!0));return o},wrapperHeight:function(t){var i,n;return i=t.grid.wrapper,n=e.elem.height(i),e.detect.browser.old&&(t._attrs.rawEmbed&&t._embedContainer&&(n=parseInt(t._embedContainer.currentStyle.height,10)),t._attrs.rawEmbed||(n=e.util.winHeight())),n},wrapperWidth:function(t){var i,n;return i=t.grid.wrapper,n=e.elem.width(i),e.detect.browser.old&&(t._attrs.rawEmbed&&t._embedContainer&&(n=parseInt(t._embedContainer.currentStyle.width,10)),t._attrs.rawEmbed||(n=e.util.winWidth())),n},fitVertical:function(t){var i,n,r,o,s;t._opts.dontFit||(this.zeroEmptySections(t),n=t.grid,r=n.main,n.wrapper,s=Math.max(e.elem.height(n.above),e.elem.height(n.top)),i=Math.max(e.elem.height(n.below),e.elem.height(n.bottom)),o=Math.max(0,this.wrapperHeight(t)-s-i),r.style.height=o+"px",0===e.elem.width(n.left)&&(r.style.left="0px"),r.style.marginTop=e.elem.height(n.top)+"px")},fitHorizontal:function(t){var i,n,r,o,s;t._opts.dontFit||(this.zeroEmptySections(t),i=t.grid,i.wrapper,r=i.main,n=e.elem.width(i.left),s=e.elem.width(i.right),o=this.wrapperWidth(t)-n-s,r.style.width=o+"px",r.style.left=n+"px")},fit:function(e,t){/left|right/.test(t)?this.fitHorizontal(e):/top|bottom|above|below/.test(t)&&this.fitVertical(e),e.ieSizeHack()}}})}(Wistia)},function(e,t,i){var n=function(e,t){return function(){return e.apply(t,arguments)}},r=function(e,t){function i(){this.constructor=e}for(var n in t)o.call(t,n)&&(e[n]=t[n]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},o={}.hasOwnProperty,s=[].slice;!function(e){var t,o;t=e,t.Html5Player||(o=i(25).cdnFastWistiaComHost,t.Html5Player=function(e){function i(){return this.hideControls=n(this.hideControls,this),this.showControls=n(this.showControls,this),i.__super__.constructor.apply(this,arguments)}return r(i,e),i.prototype.playerType="html5",i.prototype.elem=function(){return document.getElementById(this.uuid)},i.prototype.source=function(){return this.elem().childNodes[0]},i.prototype.chromeElem=function(){return document.getElementById(this.uuid+"_html5_player")},i.prototype.embed=function(){return this.info("embed"),this.onIos8Plus()?(this.info("wait for docReady"),t.util.onDocReady(function(e){return function(){return e.embedForReal()}}(this))):this.embedForReal(),this},i.prototype.embedForReal=function(){return this.info("embedForReal"),this.resetStateVariables(),this._currentAsset=this.bestAsset(),this.data.asset=this._currentAsset,this.placeEmbed(this.createEmbedElem()),this._opts.uiWebView?t.timeout(this.uuid+".inject_source",function(e){return function(){return t.elem.append(e.elem(),t.elem.fromObject(e.sourceElemObj())),e.setupEmbed()}}(this),100):this.setupEmbed()},i.prototype.setupEmbed=function(){return this.info("setupEmbed"),this._currentAsset=this.bestAsset(),this.data.asset=this._currentAsset,this.setupControls(),this.applyHacks(),this.setupBindings(),this.listenForEvents(),this.pollForEvents(),this._oldVideoElem&&(this.trigger("rebuild",this._oldVideoElem,this.elem()),this._oldVideoElem=null),this.embedded(!0),this.checkForReady()},i.prototype.checkForReady=function(){var e;return this.info("checkForReady"),this._checkDownState(),e=function(e){return function(){return t.detect.iphone||t.detect.ipad?(e.info("ready"),e._hasBeenReady=!0,e.info("@ready(true) synchronous"),e.ready(!0)):t.timeout(e.uuid+".delayed_ready",function(){return e.info("ready"),e._hasBeenReady=!0,e.info("@ready(true) async"),e.ready(!0)})}}(this),this._hasBeenReady&&this.looksUp()?e():(this.info("set ready on up"),this.up(e))},i.prototype.createEmbedElem=function(){var e,i,n;return n={id:this.uuid+"_html5_player",style:{background:"transparent",display:"block",height:"100%",position:"relative",width:"100%"}},i={tagName:"video",style:{background:"transparent",display:"block",height:"100%",left:"-100%",position:"relative",top:0,visibility:"visible",width:"100%"},id:this.uuid,preload:"none",poster:"//"+o()+"/assets/images/blank.gif"},(t.detect.browser.msie||t.detect.trident)&&(i.style.minWidth="10px",i.style.minHeight="10px"),this._opts.chromeless||(i.controls="controls"),"loop"===this._opts.endVideoBehavior&&(i.loop="loop"),this._opts.uiWebView||(e=this.sourceElemObj(),i.childNodes=[e]),n.childNodes=[i],t.elem.fromObject(n)},i.prototype.sourceElemObj=function(){return{tagName:"source",src:this.properAssetUrl(this._currentAsset.url),type:"video/mp4"}},i.prototype.setupControls=function(){return this.info("setupControls"),this.still=new t.Html5Still(this).initialize(),"transparent"!==this._opts.wmode&&this.still.loaded(function(e){return function(){var t;return null!=(t=e.chromeElem())?t.style.backgroundColor="#000":void 0}}(this)),this.bigPlayButton=new t.Html5BigPlayButton(this).initialize(),this.loadingIndicator=new t.Html5LoadingIndicator(this).initialize(),this.showControls(),"playing"===this.state()?t.timeout(this.video.uuid+".hide_still",this.hideControls):void 0},i.prototype.showControls=function(){return this._controlsVisible?void 0:(this.info("showControls"),this.still.show(),this.bigPlayButton.show(),this.hideVideoElem(),this._controlsVisible=!0)},i.prototype.hideControls=function(){return this._controlsVisible?(this.info("hideControls"),this.still.hide(),this.bigPlayButton.hide(),this.showVideoElem(),this._controlsVisible=!1):void 0},i.prototype.controlsVisible=function(){return!!this._controlsVisible},i.prototype.hideVideoElem=function(){return this.info("hideVideoElem"),this.elem().style.left="-100%"},i.prototype.showVideoElem=function(){return this.info("showVideoElem"),this.elem().style.left=0,this.correctForIntegers()},i.prototype.setupBindings=function(){return this.rebind("play",this.hideControls),this.rebind("startplay",this.hideControls),this.setupIosBindings()},i.prototype.setupIosBindings=function(){return t.detect.ipad||t.detect.iphone?(null==this._iosOnEnd&&(this._iosOnEnd=function(e){return function(){return e.info("_iosOnEnd"),e.publicApi.nextVideo()?void 0:(e.showControls(),e.elem().load())}}(this)),null==this._iosOnPause&&(this._iosOnPause=function(e){return function(){return e.info("_iosOnPause"),e.showControls()}}(this)),t.detect.iphone&&this.rebind("pause",this._iosOnPause),t.detect.iphone||t.detect.ipad?this.rebind("end",this._iosOnEnd):void 0):void 0},i.prototype.fixWebkitControlsBug=function(){return this.info("fixWebkitControlsBug"),this.elem().removeAttribute("controls"),this.elem().setAttribute("controls","controls")},i.prototype.fit=function(){return i.__super__.fit.apply(this,arguments),this.embedded(function(e){return function(){return e.still.fitStill(),e.bigPlayButton.reorient(),e.loadingIndicator.reorient(),e.correctForIntegers()}}(this))},i.prototype.cancelFullscreen=function(){return this.inFullscreen()?(this.info("cancelFullscreen"),t.elem.cancelFullscreen(this.elem())):void 0},i.prototype.correctForIntegers=function(){return this.controlsVisible()?void 0:i.__super__.correctForIntegers.apply(this,arguments)},i.prototype.applyHacks=function(){return t.detect.iphone||t.detect.ipad?void 0:(this.disableTextTracks(),this.fixWebkitControlsBug())},i.prototype.inFullscreen=function(){return!!this._inFullscreen},i.prototype.inVideoEventContext=function(){return this._inPlayEventContext||this._inPauseEventContext||this._inEndEventContext},i.prototype.listenForEvents=function(){return null==this._relayPlay&&(this._relayPlay=function(e){return function(){var t,i;return e._inPlayEventContext=!0,e._hasPlayed=!0,e._beforePlay=!1,e.playing(!0),
e.trigger("play"),e._inPlayEventContext=!1,null!=(t=e.publicApi)&&null!=(i=t._impl)?i._inPlayEventContext=!1:void 0}}(this)),null==this._relayPause&&(this._relayPause=function(e){return function(){var t,i;return e._inPauseEventContext=!0,e.fireTimeChangedEventsIfChanged(),e.playing(!1),e.trigger("pause"),e._inPauseEventContext=!1,null!=(t=e.publicApi)&&null!=(i=t._impl)?i._inPauseEventContext=!1:void 0}}(this)),null==this._relayEnd&&(this._relayEnd=function(e){return function(){var t,i;return e._inEndEventContext=!0,e.fireTimeChangedEventsIfChanged(),e.playing(!1),e.trigger("end"),e.trigger("afterend"),e._inEndEventContext=!1,null!=(t=e.publicApi)&&null!=(i=t._impl)?i._inEndEventContext=!1:void 0}}(this)),null==this._relayRatechange&&(this._relayRatechange=function(e){return function(){return e.trigger("ratechange",e.playbackRate())}}(this)),null==this._relayVolumeChange&&(this._relayVolumeChange=function(e){return function(){return e.trigger("volumechange",e.volume())}}(this)),null==this._beginFullscreen&&(this._beginFullscreen=function(e){return function(){return e._inFullscreen?void 0:(e._inFullscreen=!0,e.trigger("enter-fullscreen"))}}(this)),null==this._endFullscreen&&(this._endFullscreen=function(e){return function(){return e._inFullscreen?(e._inFullscreen=!1,e.trigger("cancel-fullscreen")):void 0}}(this)),null==this._onEnterFullscreen&&(this._onEnterFullscreen=function(e){return function(t){return t===e.elem()&&(e.info("_onEnterFullscreen"),e._inFullscreen=!0,e.trigger("enter-fullscreen")),!0}}(this)),null==this._onCancelFullscreen&&(this._onCancelFullscreen=function(e){return function(){return e._inFullscreen&&(e.info("_onCancelFullscreen"),e._inFullscreen=!1,e.trigger("cancel-fullscreen")),!0}}(this)),null==this._onContextMenu&&(this._onContextMenu=function(e){return function(e){return e.preventDefault()}}()),this.unbindListeners(),this.info("listenForEvents"),t.elem.bind(this.elem(),"playing",this._relayPlay),t.elem.bind(this.elem(),"pause",this._relayPause),t.elem.bind(this.elem(),"ended",this._relayEnd),t.elem.bind(this.elem(),"volumechange",this._relayVolumeChange),t.elem.bind(this.elem(),"ratechange",this._relayRatechange),t.elem.bind(this.elem(),"webkitbeginfullscreen",this._beginFullscreen),t.elem.bind(this.elem(),"webkitendfullscreen",this._endFullscreen),t.elem.bind(this.chromeElem(),"contextmenu",this._onContextMenu),t.bind("enter-fullscreen",this._onEnterFullscreen),t.bind("cancel-fullscreen",this._onCancelFullscreen)},i.prototype.unbindListeners=function(){return this.info("unbindListeners"),this.elem()&&(t.elem.unbind(this.elem(),"playing",this._relayPlay),t.elem.unbind(this.elem(),"pause",this._relayPause),t.elem.unbind(this.elem(),"ended",this._relayEnd),t.elem.unbind(this.elem(),"volumechange",this._relayVolumeChange),t.elem.unbind(this.elem(),"ratechange",this._relayRateChange),t.elem.unbind(this.elem(),"webkitbeginfullscreen",this._beginFullscreen),t.elem.unbind(this.elem(),"webkitendfullscreen",this._endFullscreen)),this.chromeElem()?t.elem.unbind(this.chromeElem(),"contextmenu",this._onContextMenu):void 0},i.prototype.pollForEvents=function(){return this.info("pollForEvents"),this.setupWaitingDetection(),t.eventLoop.add(this.uuid+".events",this._eventLoopDuration,function(e){return function(){var t;return e.looksDown()?void 0:(t=e.state(),t!==e._lastState&&(e.trigger("statechange",t),e._lastState=t),e.fireTimeChangedEventsIfChanged(),e.fireCaptionsChangedEventIfChanged())}}(this))},i.prototype.fireTimeChangedEventsIfChanged=function(){var e;return(e=this.time())!==this._lastTimePosition&&e>0?(this.trigger("timechange",e),Math.floor(e)!==Math.floor(this._lastTimePosition)&&this.trigger("secondchange",Math.floor(e)),Math.abs(e-this._lastTimePosition)>this._attrs.seekThreshold&&this.trigger("seek",e,this._lastTimePosition),this._lastTimePosition=e):void 0},i.prototype.fireCaptionsChangedEventIfChanged=function(){var e,t,i,n,r,o;if(this.elem()){for(t=this._captionsOn,e=!1,r=this.elem().textTracks||[],i=0,n=r.length;n>i;i++)o=r[i],"showing"===o.mode&&(e=!0);if(t&&!e&&(this._captionsOn=!1,this.trigger("captionschange",{visible:!1})),!t&&e)return this._captionsOn=!0,this.trigger("captionschange",{visible:!0})}},i.prototype.onIos8Plus=function(){return parseInt(t.detect.ios.version,10)>=8},i.prototype.canAutoPlay=function(){return!this.suppressPlay()&&this.inUserEventContext()},i.prototype.bestAsset=function(){return null==this._hlsChoice&&(this._hlsChoice=this.chooseHlsAsset()),t.detect.iphone&&!t.detect.trident&&this._hlsChoice.useHls?this.masterM3u8Asset(this._hlsChoice.segmentDuration):t.detect.gearvr?this.mp4Asset({width:[0,1e4],sortBy:"width desc, bitrate desc"}):t.detect.iphone||t.detect.android?this.iphoneAssetInRange()||this.mp4AssetInRange()||this.mp4Asset():"hd-only"===this._opts.videoQuality||t.detect.retina&&t.detect.ipad?this.hdAsset()||this.mdAsset()||this.sdAsset():this.chosenAsset()?this.chosenAsset():t.detect.ipad?this.iphoneAssetInRange()||this.iphoneAsset():this.mdOrSdAsset()},i.prototype.chosenAsset=function(){var e,t,i;return/width:/.test(this._opts.videoQuality)?(t=this._opts.videoQuality.match(/width:([a-z]*)(\d+)/i),t[0],e=t[1],i=t[2],""===e||"lte"===e?this.mp4Asset({width:[0,i],sortBy:"width desc"})||this.mp4Asset({width:[i,1e4],sortBy:"width asc"}):"gte"===e?this.mp4Asset({width:[i,1e4],sortBy:"width asc"})||this.mp4Asset({width:[0,i],sortBy:"width desc"}):null):null},i.prototype.mdOrSdAsset=function(){return this._mdOrSdAsset||(this._mdOrSdAsset="sd-only"===this._opts.videoQuality?this.sdAsset():"md"===this._opts.videoQuality||this._opts.videoFoam||this.videoWidth()>=720?this.mdAsset()||this.sdAsset():this.sdAsset())},i.prototype.sdAsset=function(){return this._sdAsset||(this._sdAsset=this.isScreencast()?this.screencastAsset()||this.smallestNormalMp4Asset()||this.mp4Asset():this.iphoneAssetInRange()||this.mp4AssetInRange()||this.iphoneAsset()||this.mp4Asset())},i.prototype.mdAsset=function(){return this._mdAsset||(this._mdAsset=this.isScreencast()&&this.screencastAsset()?this.screencastAsset():this.mp4AssetInRange({width:[720,980],sortBy:"width desc"}))},i.prototype.hdAsset=function(){return this._hdAsset||(this._hdAsset=this.mp4AssetInRange({width:[980,this._opts.maxHdWidth||1300],sortBy:"width desc, bitrate desc"}))},i.prototype.screencastAsset=function(){return this._screencastAsset||(this._screencastAsset=this.mp4Asset({bitrate:[0,1300],sortBy:"width desc, bitrate asc",width:[0,this.originalAsset().width]}))},i.prototype.stillUrl=function(e){return e=t.obj.merge({playButton:!1},e),i.__super__.stillUrl.call(this,e)},i.prototype.play=function(){return this.suppressPlay()?this:(this.info("play"),this.trigger("play-method-invoked"),this.ready(function(e){return function(){var i;return i=function(i,n){return null==n&&(n=!1),n||e.trigger("play-initiated"),t.detect.iphone||t.detect.ipad||t.detect.android||(e.hideControls(),e.trigger("startplay")),e.elem().play(),e.playing(function(){return e.hideControls(),e.info("play: done"),"function"==typeof i?i():void 0})},t.detect.iphone||t.detect.ipad||t.detect.android?e.inUserEventContext()?e.commandQueueOpen.synchronize(i):(e.info("play received, but cannot execute because not in the context of a user generated event. calling issuePlay() anyway, for devices that may respond."),i(null,!0)):e.commandQueueOpen.synchronize(i)}}(this)),this)},i.prototype.inUserEventContext=function(){return!(t.detect.ipad||t.detect.iphone||t.detect.android)||(this.inVideoEventContext()||window.event&&window.UIEvent&&event instanceof UIEvent)},i.prototype.pause=function(){return this.info("pause"),this.ready(function(e){return function(){return e.commandQueueOpen.synchronize(function(t){return e.elem().pause(),t()})}}(this)),this},i.prototype.time=function(e,i){var n;return null==i&&(i={}),null!=e?this.suppressPlay()?this:(this.info("time",e),this.ready(function(n){return function(){return"beforeplay"===n.state()||"ended"===n.state()?!n.inUserEventContext()&&(t.detect.iphone||t.detect.ipad||t.detect.android)?(n.warn("time("+e+") received, but cannot execute because not in the context of a user generated event. Ignoring."),n):n.commandQueueOpen.synchronize(function(r){var o,s;return"beforeplay"===n.state()||"ended"===n.state()?(n.info("seek before play"),s=n.state(),n.info("time "+e+": state before seek is "+s),o=function(){return t.detect.iphone||t.detect.ipad?(n.info("time "+e+": doing iOS event chain to seek before play"),t.elem.bindOnce(n.elem(),"canplaythrough",function(){return t.elem.bindOnce(n.elem(),"progress",function(){return t.elem.bindOnce(n.elem(),"seeked",function(){return"playing"===s?n.info("time: "+e+": play after seek"):(n.info("time: "+e+": pause after seek"),n.elem().pause()),r()}),n.elem().currentTime=e})})):(n.info("time "+e+": changing currentTime and waiting for seek"),n._waitForTimeChangeOrSeek(function(){return"playing"===s?n.info("time: "+e+": play after seek"):(n.info("time: "+e+": pause after seek"),n.elem().pause()),r()}),n.elem().currentTime=e)},n._hasPlayed?(n.info("time "+e+": already played, seeking"),o()):(n.info("time "+e+": starting stream by calling play()"),i.lazy?(n.bind("play",function(){return n.elem().currentTime=e}),r()):(n.bind("play",function(){return o(),n.unbind}),n.elem().play()))):(n.info("time "+e+": already played, just change currentTime"),n._waitForTimeChangeOrSeek(r),n.elem().currentTime=e,r())}):n.commandQueueOpen(function(){return n.info("time "+e+": already played, just change currentTime immediately"),n.elem().currentTime=e})}}(this)),this):(null!=(n=this.elem())?n.currentTime:void 0)||0},i.prototype._waitForTimeChangeOrSeek=function(e){return t.detect.browser.msie?this.bind("timechange",function(t){return function(){return e(),t.unbind}}(this)):t.elem.bindOnce(this.elem(),"seeked",function(t){return function(){return e()}}())},i.prototype.state=function(){try{return this._beforePlay?"beforeplay":this.elem().ended?"ended":this.elem().paused?"paused":"playing"}catch(e){return e,"unknown"}},i.prototype.volume=function(e){var t;return null!=e?(this.info("volume",e),e=Math.max(0,Math.min(1,e)),this.ready(function(t){return function(){return t.elem().volume=e}}(this)),this):(null!=(t=this.elem())?t.volume:void 0)||0},i.prototype.playerColor=function(e){return null!=e?(this.info("playerColor",e),this.embedded(function(i){return function(){var n,r;return n=i._attrs.playerColor,i._attrs.playerColor=t.Player._sanePlayerColor(e),null!=(r=i.bigPlayButton)&&r.updateColor(),n!==i._attrs.playerColor?i.trigger("playercolorchange",i._attrs.playerColor,n):void 0}}(this)),this):this._attrs.playerColor},i.prototype.playbackRate=function(e){return null!=this.elem().playbackRate?null!=e?(this.embedded(function(t){return function(){return t.info("playbackRate",e),t.elem().playbackRate=e,t._eventLoopDuration=Math.max(50,Math.min(500,t._baseEventLoopDuration*e)),t._playbackRate=e,t.trigger("playbackratechange",t._playbackRate)}}(this)),this):this.elem().playbackRate:(this.info("playbackRate",e,"not supported"),i.__super__.playbackRate.call(this,e))},i.prototype.stopStreaming=function(){var e,t,i,n;this.info("stopStreaming");try{return null!=(t=this.elem())&&(t.src=this.cdnProtocolAndHost()+"/tiny.mp4"),null!=(i=this.elem())&&i.load(),null!=(n=this.elem())?n.currentTime=0:void 0}catch(t){return e=t,this.notice(e)}},i.prototype.removeNonVideoElements=function(){return this.info("removeNonVideoElements"),this.embedded(function(e){return function(){return e.still.remove(),e.bigPlayButton.remove()}}(this))},i.prototype.initFrom=function(e){return this.info("initFrom",e),this.uuid=e.uuid,e.embedded(function(t){return function(){return t.wrapperElem=e.wrapperElem,t._inFullscreen=e._inFullscreen,t._inEndEventContext=e._inEndEventContext,t._inPlayEventContext=e._inPlayEventContext,t._inPauseEventContext=e._inPauseEventContext,t.resetStateVariables(),e.unbindListeners(),e.removeNonVideoElements(),t.setupEmbed(),t._opts.autoPlay&&t.canAutoPlay()&&t.hideControls(),t.switchToAsset(t._currentAsset,!0)}}(this))},i.prototype.hasForcedTrack=function(){var e,t,i,n;for(i=this.elem().textTracks,e=0,t=i.length;t>e;e++)if(n=i[e],"forced"===n.kind)return!0;return!1},i.prototype.hasTrackWithCues=function(){var e,t,i,n;for(i=this.elem().textTracks,e=0,t=i.length;t>e;e++)if(n=i[e],null!=n.cues)return!0;return!1},i.prototype.hasVisibleTrack=function(){var e,t,i,n;for(i=this.elem().textTracks,e=0,t=i.length;t>e;e++)if(n=i[e],"showing"===n.mode)return!0;return!1},i.prototype.wipeTextTrackCues=function(e){var t,i,n,r,o;if(e.cues){for(i=function(){var i,n,r,o;for(r=e.cues,o=[],i=0,n=r.length;n>i;i++)t=r[i],o.push(t);return o}(),o=[],n=0,r=i.length;r>n;n++)t=i[n],o.push(e.removeCue(t));return o}},i.prototype.wipeTextTrackCuesWithNote=function(e){return this.wipeTextTrackCues(e),e.addCue(new VTTCue(1,5,"No subtitles are available for the selected language."))},i.prototype.wipeAllTextTrackCues=function(){var e,t,i,n,r;for(i=this.elem().textTracks,n=[],e=0,t=i.length;t>e;e++)r=i[e],n.push(this.wipeTextTrackCuesWithNote(r));return n},i.prototype.tapTextTrack=function(e){return t.timeout(this.uuid+".tap_text_track_disable",function(i){return function(){return i._savedTapMode||(i._savedTapMode=e.mode),e.mode="disabled",t.timeout(i.uuid+".tap_text_track_reset",function(){return e.mode=i._savedTapMode,i._savedTapMode=null},100)}}(this),50)},i.prototype.updateTextTrack=function(e){var i,n,r,o,s,a;if(i=2e3,a=this.findOrAddTextTrack(e),this._waitForCuesStart||(this._waitForCuesStart=Date.now()),a.cues){for(this._waitForCuesStart=null,this.wipeTextTrackCues(a),s=e.hash.lines,n=0,r=s.length;r>n;n++)o=s[n],a.addCue(new VTTCue(o.start,o.end,o.text.join("\n")));return this.tapTextTrack(a)}return Date.now()-this._waitForCuesStart<i?t.timeout(this.uuid+".wait_for_cues_ready",function(t){return function(){return t.updateTextTrack(e)}}(this),100):this._waitForCuesStart=null},i.prototype.findOrAddTextTrack=function(e){var t;return(t=this.findTextTrack(e))?t:this.addTextTrack(e)},i.prototype.addTextTrack=function(e){var t;return t=this.elem().addTextTrack("subtitles",e.native_name,e.language),t.id=e.language,t.wistia=!0,t},i.prototype.findTextTrack=function(e){var t,i,n,r,o;for(r=(null!=(n=this.elem())?n.textTracks:void 0)||[],t=0,i=r.length;i>t;t++)if(o=r[t],"subtitles"===o.kind&&o.language===e.language)return o;return null},i.prototype.hideTextTracks=function(){var e,t,i,n,r,o;for(n=null!=(i=this.elem())?i.textTracks:void 0,r=[],e=0,t=n.length;t>e;e++)o=n[e],"showing"===o.mode?r.push(o.mode="hidden"):r.push(void 0);return r},i.prototype.selectTextTrack=function(e){var t;if(e)return this.hideTextTracks(),t=this.findTextTrack(e),null!=t&&(t.mode="showing"),t},i.prototype.trigger=function(){var e,t;return t=arguments[0],e=2<=arguments.length?s.call(arguments,1):[],/timechange|secondchange/.test(t)&&this._suppressTimechange?void 0:i.__super__.trigger.apply(this,[t].concat(s.call(e)))},i.prototype.switchToAsset=function(e,i){return null==i&&(i=!1),this.info("switchToAsset",e,i),i||e.type!==this._currentAsset.type?this.commandQueueOpen.synchronize(function(n){return function(r){return t.detect.browser.mozilla?(n.switchToAssetWithoutLoad(e,i),n.elem().load(),r()):(n._suppressTimechange=!0,t.elem.rebind(n.elem(),"loadeddata",function(){return n._suppressTimechange=!1,r(),t.elem.unbind}),n.switchToAssetWithoutLoad(e,i),n.elem().load())}}(this)):void 0},i.prototype.switchToAssetWithoutLoad=function(e,t){return null==t&&(t=!1),this.info("switchToAssetWithoutLoad",e,t),t||e.type!==this._currentAsset.type?(this._currentAsset=e,this.data.asset=e,this.elem().src=this.source().src=this.properAssetUrl(e.url),this.trigger("switched-to-asset-without-load",e.type)):void 0},i.prototype.totalBuffered=function(){var e,i;return e=null!=(i=this.elem())?i.buffered:void 0,t.Metrics.sumTimeRanges(e)},i.prototype.totalPlayed=function(){var e,i;return e=null!=(i=this.elem())?i.played:void 0,t.Metrics.sumTimeRanges(e)},i}(t.Player))}(Wistia)},function(e,t){var i=[].slice;!function(e){e.integrations.register("hubspot",{onFind:function(t){return this._setVideoForeignData(t),e.visitorKey.ready(function(i){return function(){return i._setVisitorForeignData(t,e.visitorKey.value())}}(this)),window._hsq.push(function(e){return function(i){return e._setHubSpotForeignData(t,i)}}(this))},onInit:function(){var t;return null==window._hsq&&(window._hsq=[]),t=!1,e.visitorKey.ready(function(){return t?void 0:(_hsq.push(["identify",{wistia_visitor_key:e.visitorKey.value()}]),t=!0)})},pushPercentWatchedEvent:function(e,t){return this._pushEvent(e.name(),Math.round(100*t)+"% Watched")},pushPlayEvent:function(e){return this._pushEvent(e.name(),"play")},pushConversionEvent:function(){var e;return e=arguments[0],arguments[1],3<=arguments.length?i.call(arguments,2):[],this._pushEvent(e.name(),"conversion")},pushConversionMidrollLinkEvent:function(e,t){return this._pushEvent(e.name(),"click - "+t.link)},pushConversionPostRollEvent:function(e,t){return this._pushEvent(e.name(),"click - "+t.link)},_pushEvent:function(e,t){return _hsq.push(["trackEvent",{id:'Video "'+e+'": '+t}])},_setVideoForeignData:function(e){var t,i,n;return i=document.location.href.split("?")[0],t=(null!=(n=document.getElementsByTagName("title")[0])?n.innerHTML:void 0)||"",t=t.replace(/^[\n\s]+/,"").replace(/[\n\s]+$/,""),t=t.replace(/[^\x00-\x7F]/g,""),e.foreignData(Wistia.obj.merge({},e.foreignData(),{page_url:i,page_name:t}))},_setVisitorForeignData:function(e,t){return e.foreignData(Wistia.obj.merge({},e.foreignData(),{wistia_visitor_key:t}))},_setHubSpotForeignData:function(e,t){return e.foreignData(Wistia.obj.merge({},e.foreignData(),{hubspot_hutk:t.utk.visitor,canonical_url:t.canonicalUrl,page_id:t.pageId,content_type:t.contentType}))}})}(Wistia)},function(e,t){var i=[].slice,n=function(e,t){function i(){this.constructor=e}for(var n in t)r.call(t,n)&&(e[n]=t[n]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},r={}.hasOwnProperty;!function(e){var t;e.IframeApi=function(){function t(t,i){this.iframe=t,null==i&&(i={}),this.enableFullscreen(),this._bindings={},this._injectedPlugins={},this._firedPlayCount=0,this.options=this.params=i,this.plugin||(this.plugin={}),this.container=this.iframe,this.relay=e.obj.clone(e.bindable),this.ready=new e.StopGo,this.bound=new e.StopGo,this.hasData=new e.StopGo,this._hasImpl=new e.StopGo,this.embedded=new e.StopGo,this.down=new e.StopGo,this.down(!1),this.up=new e.StopGo,this.up(!0),this.uuid=this.uuid||i.uuid||""+(this.iframe.id||e.seqId()),this.signature=i.signature||"wistia-iframe-"+this.uuid.replace(/"/g,"__QUOTE__").replace(/\n/g,"__NEWLINE__"),this.inferParamsFromSrc(),this.monitor(),e.detect.browser.ltie8&&e.timeout(this.uuid+".ie8_ready",function(e){return function(){return e.ready(!0)}}(this))}return t.prototype.inferParamsFromSrc=function(){var t,i;return this.src=this.iframe.src,this.parsedSrc=e.url.parse(this.src),this.origWidth=parseInt(this.iframe.width||e.elem.width(this.iframe),10),this.origHeight=parseInt(this.iframe.height||e.elem.height(this.iframe),10),this.origVideoWidth=parseInt(this.parsedSrc.params.videoWidth||(null!=(t=this.parsedSrc.params.videoOptions)?t.videoWidth:void 0)||this.origWidth,10),this.origVideoHeight=parseInt(this.parsedSrc.params.videoHeight||(null!=(i=this.parsedSrc.params.videoOptions)?i.videoHeight:void 0)||this.origHeight,10),this.origPluginWidth=this.origWidth-this.origVideoWidth,this.origPluginHeight=this.origHeight-this.origVideoHeight,this.origAspectRatio=this.origVideoHeight?this.origVideoWidth/this.origVideoHeight:1.333,this.parsedSrc.params.videoFoam?this._videoFoam=e.obj.cast(this.parsedSrc.params.videoFoam):void 0},t.prototype.init=function(){var t,i,n,r;if(e.detect.browser.ltie8)return this;this.inferParamsFromSrc(),this.relay.bind("iframebound",function(e){return function(){return e.bound(!0)}}(this)),this.relay.bind("videoready",function(e){return function(){return e.bound(function(){return e.looksDown()?void 0:e.ready(!0)})}}(this)),e.elem.bind(this.iframe,"load",function(e){return function(){return e.startIframeHandshake()}}(this)),this.startIframeHandshake(),this.bind("sphericaltap",function(e){return window.location=e}),this.ready(function(e){return function(){return"playing"===e.state()?(e._firedSyntheticPlay=!0,e.trigger("play")):void 0}}(this)),i=this.parsedSrc.params.plugin||{};for(t in i)r=i[t],"true"===(null!=(n=r.outsideIframe)?n.toString():void 0)&&this.addPlugin(t,r);return this.monitor(),this.ready(function(e){return function(){return e._wvideoInUrl()?(e._scrollToContainer(),e.play()):void 0}}(this)),this},t.prototype._wvideoInUrl=function(){var t;return t=e.url.parse(location.href),t.params.wvideo===this.hashedId()},t.prototype._scrollToContainer=function(){var t;return t=e.elem.offset(this.container),e.util.scrollTop(t.top-100)},t.prototype.rebuild=function(){var t,i,n,r,o;return(r=this.iframe.parentNode)&&(this.bound(!1),this.ready(!1),o=document.createElement("span"),o.style.display="none",n=null,i=function(e){return function(){return e.trigger("beforerebuild"),n=e.iframe.src,r.insertBefore(o,e.iframe),r.removeChild(e.iframe),e.iframe.src="javascript:return false;"}}(this),t=function(e){return function(){return e.iframe.src=n,r.insertBefore(e.iframe,o.nextSibling),r.removeChild(o),o=null,e._state="beforeplay",e.trigger("afterrebuild")}}(this),e.detect.browser.msie&&e.detect.browser.version<9?(i(),e.timeout(this.uuid+".rebuild_delay",t,50)):(i(),t())),this},t.prototype.remove=function(){return this._hasImpl(!1),this.hasData(!1),this.ready(!1),this.embedded(!1),e.eventLoop.remove(this.uuid),e.clearTimeouts(this.uuid),this.bound(function(t){return function(){var i;return i=function(){var i;return e.elem.remove(t._foamDummyElem),t.iframe&&(i=t.iframe.parentNode)&&(t.iframe.wistiaApi=null,i.removeChild(t.iframe),t.iframe.src="javascript:return false;",t.iframe=t.container=null),t.trigger("down"),e.clearTimeouts(t.uuid),e.eventLoop.remove(t.uuid),t.ready.setQueue([]),t.hasData.setQueue([]),t._hasImpl.setQueue([]),t.trigger("afterremove"),t._bindings={},e.removeData("iframe_api."+t.signature),t.unbind},t.relay.bind("_afterremove",i),t.postMessage("remove")}}(this))},t.prototype.reinitializePlugins=function(){return this.postMessage("reinitializePlugins")},t.prototype.monitor=function(){var t,i,n,r;return n=this.width(),r=e.elem.width(this.iframe),i=e.elem.height(this.iframe),t=!1,this.embedded(function(o){return function(){return e.eventLoop.add(o.uuid+".monitor",500,function(){var s,a,u,l,c,d,h,p,f,m,g;if(o.up()&&o.looksDown()){if(o._stateBeforeDown=o._state,"flash"===o.embedType())try{o.rebuild()}catch(e){e}else o.pause();o.ready(!1),o.down(!0),o.up(!1),o.trigger("down")}else o.down()&&o.looksUp()&&(o.down(!1),o.up(!0),"flash"===o.embedType()?o.rebuild():(o.ready(!0),"playing"===o._stateBeforeDown&&o.play()),o.trigger("up"));return o.hasVideoFoam()&&o.up()&&o.looksUp()&&(null==o._parentBoxSizing&&(o._parentBoxSizing=e.elem.style(o.iframe.parentNode,"box-sizing")),"border-box"===o._parentBoxSizing||e.detect.browser.msie&&e.detect.browser.version<9?(o._foamDummyElem||(o._foamDummyElem=e.elem.fromObject({class:"wistia_video_foam_dummy","data-source-container-id":o.container.id,style:{border:0,display:"block",height:0,margin:0,padding:0,position:"static",visibility:"hidden",width:"auto"}}),e.elem.before(o.iframe,o._foamDummyElem)),d=e.elem.width(o._foamDummyElem)):d=e.elem.width(o.iframe.parentNode),n===d&&t||(t=!0,c=d,l=c-o.extraWidth(),u=o.heightForWidth(l),a=u+o.extraHeight(),(null!=(h=o.videoFoam())?h.maxHeight:void 0)&&a>o.videoFoam().maxHeight&&(a=o.videoFoam().maxHeight,u=a-o.extraHeight(),l=o.widthForHeight(u),c=l+o.extraWidth()),(null!=(p=o.videoFoam())?p.maxWidth:void 0)&&c>o.videoFoam().maxWidth&&(c=o.videoFoam().maxWidth,l=c-o.extraWidth(),u=o.heightForWidth(l),a=u+o.extraHeight()),(null!=(f=o.videoFoam())?f.minHeight:void 0)&&a<o.videoFoam().minHeight&&(a=o.videoFoam().minHeight,u=a-o.extraHeight(),l=o.widthForHeight(u),c=l+o.extraWidth()),(null!=(m=o.videoFoam())?m.minWidth:void 0)&&c<o.videoFoam().minWidth&&(c=o.videoFoam().minWidth,l=c-o.extraWidth(),u=o.heightForWidth(l),a=u+o.extraHeight()),o.width(c).height(a),e.timeout(o.uuid+".delayed_resize",function(){return o.width(c).height(a)},1e3),n=d)),e.detect.browser.ltie8&&(g=e.elem.width(o.iframe),s=e.elem.height(o.iframe),g!==r&&(o.trigger("widthchange",g,r),r=g),s!==r)?(o.trigger("heightchange",s,i),i=s):void 0})}}(this))},t.prototype.hasVideoFoam=function(){return null!=this.videoFoam()?this.videoFoam():/videoFoam=true/.test(this.src)},t.prototype.stopMonitoring=function(){return e.eventLoop.remove(this.uuid+".monitor")},t.prototype.looksDown=function(){return!this.iframe||!e.elem.inDom(this.iframe)||e.elem.isHidden(this.iframe)},t.prototype.looksUp=function(){return!this.looksDown()},t.prototype._trigger=function(){var t,n;return n=arguments[0],t=2<=arguments.length?i.call(arguments,1):[],"play"===n&&(this._firedPlayCount+=1,"flash"===this.embedType()&&this.params.autoPlay&&1===this._firedPlayCount&&this._firedSyntheticPlay)?void 0:e.timeout(this.uuid+".trigger."+n,function(e){return function(){return e.trigger.apply(e,[n].concat(i.call(t)))}}(this))},t.prototype.play=function(){return this.ready(function(e){return function(){return e.postMessage("play")}}(this)),this},t.prototype.pause=function(){return this.ready(function(e){return function(){return e.postMessage("pause")}}(this)),this},t.prototype.time=function(e){return null!=e?(this.ready(function(t){return function(){return t.postMessage("time",e)}}(this)),this):this._time||0},t.prototype.volume=function(e){return null!=e?(this.ready(function(t){return function(){return t.postMessage("volume",e)}}(this)),this):this._volume||0},t.prototype.setEmail=function(e){return this.email(e)},t.prototype.email=function(e){var t;return void 0===e?this._email||(null!=(t=this.params)?t.trackEmail:void 0)||null:(this.bound(function(t){return function(){return t.postMessage("email",e)}}(this)),this._email=e)},t.prototype.foreignData=function(t){if(e.detect.json){if(void 0===t)return this._foreignData||null;if(null===t)return this.bound(function(e){return function(){return e.postMessage("foreignData",t)}}(this)),this._foreignData=null;if(!e.obj.isObject(t))throw"foreignData can only be an Object";return t=e.obj.clone(t),this.bound(function(e){return function(){return e.postMessage("foreignData",t)}}(this)),this._foreignData=t}},t.prototype.height=function(t){return null!=t?(t=parseInt(t,10),this.bound(function(e){return function(){return e.postMessage("height",t)}}(this)),this.iframe.style.height=t+"px",this.iframe.height=t,this):e.elem.isHidden(this.iframe)?null!=this.iframe.style.height?parseInt(this.iframe.style.height,10):parseInt(this.iframe.height,10):e.elem.height(this.iframe)},t.prototype.width=function(t){return null!=t?(t=parseInt(t,10),this.bound(function(e){return function(){return e.postMessage("width",t)}}(this)),this.iframe.style.width=t+"px",this.iframe.width=t,this):e.elem.isHidden(this.iframe)?null!=this.iframe.style.width?parseInt(this.iframe.style.width,10):parseInt(this.iframe.width,10):e.elem.width(this.iframe)},t.prototype.videoHeight=function(t){var i;return null!=t?(t=parseInt(t,10),this.bound(function(e){return function(){return e.postMessage("videoHeight",t)}}(this)),this.embedded(function(i){return function(){var n;return n=null!=i._height?t+i._height-i._videoHeight:t+i.origPluginHeight,i.iframe.style.height=n+"px",i.iframe.height=n,e.detect.browser.ltie8?i._videoHeight=t:void 0}}(this)),this):this._videoHeight>0?this._videoHeight:(i=this.src.match(/videoHeight=(\d+)/))?parseInt(i[1],10):e.elem.height(this.iframe)},t.prototype.videoWidth=function(t){var i;return null!=t?(t=parseInt(t,10),this.bound(function(e){return function(){return e.postMessage("videoWidth",t)}}(this)),this.embedded(function(i){return function(){var n;return n=null!=i._width?t+i._width-i._videoWidth:t+i.origPluginWidth,i.iframe.style.width=n+"px",i.iframe.width=n,e.detect.browser.ltie8?i._videoWidth=t:void 0}}(this)),this):this._videoWidth>0?this._videoWidth:(i=this.src.match(/videoWidth=(\d+)/))?parseInt(i[1],10):e.elem.width(this.iframe)},t.prototype.extraHeight=function(){return this.origPluginHeight?this.origPluginHeight:this._height?this._height-this._videoHeight:0},t.prototype.extraWidth=function(){return this.origPluginWidth?this.origPluginWidth:this._width?this._width-this._videoWidth:0},t.prototype.heightForWidth=function(e){return Math.round(e/this.aspect())},t.prototype.widthForHeight=function(e){return Math.round(e*this.aspect())},t.prototype.aspect=function(){return this.origAspectRatio||1.333},t.prototype.addPlugin=function(t,i){var n;return null==i&&(i={}),!1!==i.on&&(this.injectedPlugin(t)||(i.outsideIframe?e.plugin._inject(this,t,i):e.detect.browser.msie?(n=e.url.parse(this.iframe.src),e.obj.set(n.params,["plugin",t],i),this.iframe.src=n.absolute()):this.bound(function(e){return function(){return e.postMessage("addPlugin",t,i)}}(this)),this._injectedPlugins[t]=!0)),this},t.prototype.videoFoam=function(e){return null!=e?this._videoFoam=e:this._videoFoam},t.prototype.hasPlugin=function(e){var t;return!!(this._injectedPlugins[e]||(null!=(t=this.parsedSrc.params.plugin)?t[e]:void 0))},t.prototype.injectedPlugin=function(e){return!!this._injectedPlugins[e]},t.prototype.duration=function(){return this._duration||null},t.prototype.state=function(){return this._state||"beforeplay"},t.prototype.name=function(){return this._name||""},t.prototype.hashedId=function(){return this._hashedId||this.parsedSrc.path[this.parsedSrc.path.length-1]},t.prototype.embedType=function(){return this._embedType},t.prototype.eventKey=function(){return this._eventKey||null},t.prototype.visitorKey=function(){return this._visitorKey||null},t.prototype.percentWatched=function(){return this._percentWatched||0},t.prototype.getEventKey=function(){return this.eventKey()},t.prototype.getVisitorKey=function(){return this.visitorKey()},t.prototype.startIframeHandshake=function(){return this.postMessage("startIframeHandshake",this.signature)},t.prototype.postMessage=function(){var t,n,r;if(r=arguments[0],t=2<=arguments.length?i.call(arguments,1):[],!e.detect.browser.ltie8){try{if(!this.iframe.contentWindow.postMessage)return}catch(e){return void e}return n={signature:this.signature,method:r,args:t},n=JSON.stringify(n),this.iframe.contentWindow.postMessage(n,"*")}},t.prototype.updateProperties=function(t){var i,n,r;n=[];for(i in t)r=t[i],e.obj.isObject(r)?n.push(this[i]=e.obj.merge({},this[i],r)):n.push(this[i]=r);return n},t.prototype.enableFullscreen=function(){var e,t,i,n,r,o;for(n="allowfullscreen mozallowfullscreen webkitallowfullscreen oallowfullscreen msallowfullscreen".split(" "),o=[],t=0,i=n.length;i>t;t++)e=n[t],o.push(null!=(r=this.iframe)?r.setAttribute(e,e):void 0);return o},t}(),e.mixin(e.IframeApi.prototype,e.bindable),t=e.IframeApi.prototype.trigger,e.IframeApi.prototype.trigger=function(){var e,n,r;return n=arguments[0],e=2<=arguments.length?i.call(arguments,1):[],t.call.apply(t,[this,n].concat(i.call(e))),null!=(r=window.wistiaEmbeds)?r.trigger.apply(r,[n,this].concat(i.call(e))):void 0},e.mixin(e.IframeApi.prototype,e.logHelpers),e.IframeApi.prototype._logPrefix=function(){var e;return[this.constructor.name,this.hashedId()||"no hashedId",null!=(e=this.container)?e.id:void 0,this.uuid]},e.PlaylistIframeAPI=function(t){function i(){i.__super__.constructor.apply(this,arguments),this.relay.bind("boundcurrentvideo",function(t){return function(){return t._currentVideo=new e.IframeApi(t.iframe,{uuid:t.uuid+"-current-video",signature:t.signature+"-current-video"}).init()}}(this))}return n(i,t),i.prototype.embed=function(e,t){return this.ready(function(i){return function(){return i.postMessage("embed",e,t)}}(this))},i.prototype.play=function(e,t){return this.ready(function(i){return function(){return i.postMessage("play",e,t)}}(this))},i.prototype.currentVideo=function(){
return this._currentVideo},i}(e.IframeApi),window.wistiaBindIframes=function(){var t,i,n,r,o,s,a,u,l,c;for(r=document.getElementsByTagName("iframe"),u=[],i=0,s=r.length;s>i;i++)n=r[i],n.wistiaApi||!/wistia_embed/.test(n.className)&&"wistia_embed"!==n.name?n.wistiaApi||!/wistia_playlist/.test(n.className)&&"wistia_playlist"!==n.name||(n.wistiaApi=new e.PlaylistIframeAPI(n),e.data("iframe_api."+n.wistiaApi.signature,n.wistiaApi),n.wistiaApi.init(),u.push(n.wistiaApi),window.wistiaApi=n.wistiaApi):(n.wistiaApi=new e.IframeApi(n),e.data("iframe_api."+n.wistiaApi.signature,n.wistiaApi),n.wistiaApi.init(),u.push(n.wistiaApi),window.wistiaApi=n.wistiaApi);for(null!=(l=window.wistiaEmbeds)&&l.bindHandles(),c=[],o=0,a=u.length;a>o;o++)t=u[o],c.push(t.trigger("initembed"));return c},e._initializers.initIframeApi=function(){return wistiaBindIframes(),window._inWistiaIframe||window.wistiaDispatch||window._wistiaIframeShim?void 0:(null==window.wistiaDispatch&&(window.wistiaDispatch=function(t){var i,n;if("new-wistia-iframe"===t.data)return wistiaBindIframes();if(n="string"==typeof t.data&&/wistia-iframe-/.test(t.data)?e.JSON.parse(t.data):t.data,/wistia-iframe-/.test(n.signature)){if(!(i=e.data("iframe_api."+n.signature)))return"undefined"!=typeof console&&null!==console?console.log("Ignored "+n.method+" call, no handle for "+n.signature):void 0;if("relay.trigger"===n.method)return e.obj.get(i,n.method).apply(i.relay,n.args);if("play"!==n.method||!(e.detect.iphone||e.detect.ipad||e.detect.android))return e.obj.get(i,n.method).apply(i,n.args)}}),e.elem.bind(window,"message",wistiaDispatch))},e._destructors.destroyIframeApi=function(){return window.wistiaDispatch&&e.elem.unbind(window,"message",window.wistiaDispatch),window.wistiaDispatch=null}}(Wistia)},function(e,t){!function(e){e.initializeOnce=function(){return e._initializers.initDetect(),e._initializers.initLocalStorage(),e._initializers.initWLog(),e._initializers.initVisitorKey(),e._initializers.initEventLoop(),e._initializers.initFullscreenTriggers(),e._editInPlaceTest=!1,e.timeout("setup_edit_in_place_test",function(t){return function(){return e._editInPlaceTest?void 0:(e._editInPlaceTest=!0,e.api.onFind(function(t){return e.elem.bind(t.container,"mouseover",function(i){return t.hasData(function(){var n,r;return n=/weditInPlace=true/.test(location.href),null==e._allowEditInPlace&&(e._allowEditInPlace="wistia-production_97"===(null!=(r=t._mediaData)?r.accountKey:void 0)),n||e._allowEditInPlace?e.remote.canEditMedia(t.hashedId()).then(function(n){return e.info("experiment: canEditMedia",t.hashedId(),n),t.plugin("editInPlace",function(e){return e.onMouseoverVideo(i)}),t.addPlugin("editInPlace",{on:!0})}):void 0}),e.elem.unbind})}))}}())},e.initializeEveryTime=function(){var t;return e._initializers.initEmbedShepherd(),e._initializers.initMux(),e._initializers.initAsyncEmbeds(),e._initializers.initIframeApi(),e._initializers.initEmbedLinks(),e._initializers.initSpecificTime(),e._initializers.initIntegrations(),null!=(t=e.eventLoop)?t.resync():void 0},e.destroy=function(){return e._destructors.destroyAsyncEmbeds(),e._destructors.destroyIframeApi(),e._destructors.destroyEmbedShepherd(),e._destructors.destroyEmbedLinks(),e._destructors.destroyFullscreenTriggers(),e._destructors.destroyEventLoop(),e._destructors.destroyVisitorKey(),e._destructors.destroyWLog(),e._destructors.destroyIntegrations(),e._destructors.destroyMux()},e.destroyGlobals=function(){var e,t;window.Wistia=null,window.wistiaApi=null,window.wistiaDispatch=null,window.wistiaBindIframes=null,window.wistiaEmbeds=null,window._wistiaElemId=null,window.wistiaInitQueue=null,window.wistiaInit=null,window.wistiaEmbedShepherdReady=null,t=[];for(e in window)window[e],/^wistiajson/.test(e)?t.push(window[e]=null):t.push(void 0);return t},e.reinitialize=function(){return e.destroy(),e.initializeOnce(),e.initializeEveryTime()},e._initialized||(e._initialized=!0,e.initializeOnce()),e.initializeEveryTime()}(Wistia)},function(e,t){var i=[].slice;!function(e){e.iframeInit||(e.iframeInit=function(t,n){var r,o,s,a,u,l,c,d,h,p,f;p=e.url.parse(location.href),r=e.extend(n,p.params),r.pageUrl||(r.pageUrl=(document.referrer||"").replace(/\#.*$/,"")||p.absolute().replace(/\#.*$/,"")),r.pageTitle=document.title,e.obj.castDeep(r),r.container="wistia_video",r.canonicalUrl||(r.canonicalUrl=r.pageUrl),r.canonicalTitle||(r.canonicalTitle=r.pageTitle),c=r.plugin||{};for(a in c)f=c[a],r.plugin[a].outsideIframe&&(r.plugin[a]=null,delete r.plugin[a]);if(p.params.popover&&(e.obj.get(p.params,"plugin.requireEmail")?r.autoPlay=!1:r.autoPlay=!0),!1!==r.autoPlay&&r.autoplay&&(r.autoPlay=!0),p.params.twitter&&!1!==r.autoPlay&&(r.autoPlay=!!r.autoplay),r._inIframe=!0,window.wistiaEmbed=e.embed(t,r),e.timeout(wistiaEmbed.uuid+".fit_later",function(){return window.wistiaEmbed.fit()},100),(e.detect.iphone||e.detect.ipad)&&wistiaEmbed.ready(function(){return setInterval(function(){return wistiaEmbed.elem().style.zoom="",wistiaEmbed.elem().style.zoom=1},3e3)}),h=function(t){var i;return i={},Wistia.obj.eachLeaf(t,function(t,n){return/^string|number|boolean$/i.test(typeof t)?e.obj.set(i,n,t):void 0}),i},!e.detect.browser.ltie8){if(parent===self)return;if(window.apiSignature=null,window.iframeUuid=Math.random().toString(36).replace(/[^a-z0-9]+/g,""),window._allIframes=["wistia-iframe-"+iframeUuid],parent.postMessage("new-wistia-iframe","*"),e.util.parentFramesLength()<=25)for(d=parent.frames,s=0,u=d.length;u>s;s++)(o=d[s])!==self&&o!==parent&&(o.postMessage("wistia-iframe-"+iframeUuid,"*"),o.postMessage("declare-existing-wistia-iframe","*"));return wistiaEmbed.postMessage=function(){var t,n,r;return r=arguments[0],t=2<=arguments.length?i.call(arguments,1):[],parent!==self?(n={signature:apiSignature,method:r,args:t},n=e.JSON.stringify(n),parent.postMessage(n,"*")):void 0},wistiaEmbed.ping=function(){var e;return e=1<=arguments.length?i.call(arguments,0):[],wistiaEmbed.postMessage.apply(wistiaEmbed,["pong"].concat(i.call(e)))},wistiaEmbed.updateProperties=function(t){for(a in t)f=t[a],e.obj.isObject(f)?this[a]=e.obj.merge({},this[a],f):this[a]=f;return this.postMessage("updateProperties",h(t))},wistiaEmbed.bind("down",function(){return wistiaEmbed.postMessage("updateProperties",{_down:!0})}),wistiaEmbed.bind("up",function(){return wistiaEmbed.postMessage("updateProperties",{_down:!1})}),wistiaEmbed.bind("volumechange",function(e){return wistiaEmbed.postMessage("updateProperties",{_volume:e})}),wistiaEmbed.bind("emailchange",function(e){return wistiaEmbed.postMessage("updateProperties",{_email:e,params:{trackEmail:e}})}),wistiaEmbed.bind("timechange",function(e){return wistiaEmbed.postMessage("updateProperties",{_time:e})}),wistiaEmbed.bind("statechange",function(e){return wistiaEmbed.postMessage("updateProperties",{_state:e})}),wistiaEmbed.bind("widthchange",function(){return wistiaEmbed.postMessage("updateProperties",{_videoWidth:wistiaEmbed.videoWidth(),_width:wistiaEmbed.width()})}),wistiaEmbed.bind("heightchange",function(){return wistiaEmbed.postMessage("updateProperties",{_videoHeight:wistiaEmbed.videoHeight(),_height:wistiaEmbed.height()})}),wistiaEmbed.bind("foreigndatachange",function(e){return wistiaEmbed.postMessage("updateProperties",{_foreignData:e})}),wistiaEmbed.bind("percentwatchedchanged",function(e){return wistiaEmbed.postMessage("updateProperties",{_percentWatched:e})}),wistiaEmbed.bind("all",function(){var e;return e=1<=arguments.length?i.call(arguments,0):[],"afterremove"===e[0]?wistiaEmbed.postMessage("relay.trigger","_afterremove"):/^up|down$/.test(e[0])?void 0:wistiaEmbed.postMessage.apply(wistiaEmbed,["_trigger"].concat(i.call(e)))}),l=function(t){var i,n,r;if("remove"===t.data)return void wistiaEmbed.remove();if(!/^(visitor_key|send_visitor_key|clear_visitor_key)/.test(t.data)){if(/^wistia-iframe-/.test(t.data))return void(window._allIframes.join(" ").indexOf(t.data)<0&&window._allIframes.push(t.data));if("declare-existing-wistia-iframe"===t.data)return void t.source.postMessage("wistia-iframe-"+iframeUuid,"*");if("string"==typeof t.data)try{n=e.JSON.parse(t.data)}catch(i){i,e.notice("inside_iframe","receiveMessage","Could not parse message from "+t.origin),e.notice("inside_iframe","receiveMessage",t.data),n={}}else n=t.data;if(r=n.method,i=n.args,"startIframeHandshake"===r){if(window.apiSignature=i[0],!window.wistiaEmbed)return;return wistiaEmbed.postMessage("relay.trigger","iframebound"),wistiaEmbed.postMessage("updateProperties",{options:h(wistiaEmbed.options),params:h(wistiaEmbed.params),_embedType:wistiaEmbed.embedType,_hashedId:wistiaEmbed.hashedId(),_width:wistiaEmbed.width(),_height:wistiaEmbed.height(),_videoWidth:wistiaEmbed.videoWidth(),_videoHeight:wistiaEmbed.videoHeight()}),wistiaEmbed._hasImpl(function(){return wistiaEmbed.postMessage("_hasImpl",!0)}),wistiaEmbed.hasData(function(){return wistiaEmbed.postMessage("updateProperties",{_embedType:wistiaEmbed.embedType,options:h(wistiaEmbed.options),params:h(wistiaEmbed.params),_name:wistiaEmbed.name(),_duration:wistiaEmbed.duration(),_videoWidth:wistiaEmbed.videoWidth(),_videoHeight:wistiaEmbed.videoHeight(),_mediaData:wistiaEmbed._mediaData}),wistiaEmbed.postMessage("hasData",!0)}),wistiaEmbed.embedded(function(){return wistiaEmbed.postMessage("updateProperties",{_embedType:wistiaEmbed.embedType,options:h(wistiaEmbed.options),params:h(wistiaEmbed.params),origAspectRatio:wistiaEmbed.aspect(),origVideoHeight:wistiaEmbed.videoHeight(),origVideoWidth:wistiaEmbed.videoWidth(),origHeight:wistiaEmbed.height(),origWidth:wistiaEmbed.width(),origPluginWidth:wistiaEmbed.extraWidth(),origPluginHeight:wistiaEmbed.extraHeight(),_videoWidth:wistiaEmbed.videoWidth(),_videoHeight:wistiaEmbed.videoHeight(),_width:wistiaEmbed.width(),_height:wistiaEmbed.height()}),wistiaEmbed.postMessage("embedded",!0)}),wistiaEmbed.ready(function(){return wistiaEmbed.postMessage("updateProperties",{options:h(wistiaEmbed.options),params:h(wistiaEmbed.params),_embedType:wistiaEmbed.embedType,_visitorKey:wistiaEmbed.visitorKey(),_eventKey:wistiaEmbed.eventKey(),_width:wistiaEmbed.width(),_height:wistiaEmbed.height(),_videoWidth:wistiaEmbed.videoWidth(),_videoHeight:wistiaEmbed.videoHeight(),_state:wistiaEmbed.state(),_time:wistiaEmbed.time(),_volume:wistiaEmbed.volume()}),wistiaEmbed.postMessage("relay.trigger","videoready"),e.visitorKey.ready(function(){return wistiaEmbed.postMessage("updateProperties",{_visitorKey:wistiaEmbed.visitorKey()})})})}return r&&"undefined"!=typeof wistiaEmbed&&null!==wistiaEmbed?wistiaEmbed[r].apply(wistiaEmbed,i):void 0}},e.elem.bind(window,"message",l)}})}(Wistia)},function(e,t){var i=[].slice;!function(e){e.integrations||(e.integrations={},e.integrations._all={},e.integrations.register=function(t,n){var r,o,s;return r=function(r){return n[r]?function(){var o,s;return s=arguments[0],o=2<=arguments.length?i.call(arguments,1):[],s.hasData(function(){var a,u,l;if(!1!==(null!=(a=s.params)?a[e.util.camelCase(t)]:void 0))return(null!=(u=s._mediaData)&&null!=(l=u.integrations)?l[t]:void 0)?n[r].apply(n,[s].concat(i.call(o))):void 0})}:null},o=function(r){return n[r]?(n.initialized=!1,function(){var o,s;return s=arguments[0],o=2<=arguments.length?i.call(arguments,1):[],s.hasData(function(){var a,u,l;if(!1!==(null!=(a=s.params)?a[e.util.camelCase(t)]:void 0)&&!0!==window.disableWistiaIntegrationTracking)return!n.initialized&&(null!=(u=s._mediaData)&&null!=(l=u.integrations)?l[t]:void 0)?(n[r].apply(n,[s].concat(i.call(o))),n.initialized=!0):void 0})}):null},s={pushPercentWatchedEvent:r("pushPercentWatchedEvent"),pushPlayEvent:r("pushPlayEvent"),pushConversionEvent:r("pushConversionEvent"),pushConversionMidrollLinkEvent:r("pushConversionMidrollLinkEvent"),pushConversionPostRollEvent:r("pushConversionPostRollEvent"),onFind:r("onFind"),onInit:o("onInit")},e.integrations._all[t]=s},e.integrations.each=function(){var t,n,r,o,s,a;n=arguments[0],t=2<=arguments.length?i.call(arguments,1):[],s=e.integrations._all,a=[];for(o in s)r=s[o],"string"==typeof n?a.push("function"==typeof r[n]?r[n].apply(r,t):void 0):a.push(n(r,o));return a},e._initializers.initIntegrations=function(){return e.integrations._setup?void 0:e.integrations.setup()},e._destructors.destroyIntegrations=function(){return"undefined"!=typeof wistiaEmbeds&&null!==wistiaEmbeds&&wistiaEmbeds.each(function(e){return"function"==typeof e._destroyIntegrations?e._destroyIntegrations():void 0}),this._all={},e.integrations._setup=!1},e.integrations.setup=function(){return window._inWistiaIframe?void 0:(e.integrations._setup=!0,wistiaEmbeds.onFind(function(t){var n,r,o,s,a,u,l;return a=function(i){return e.integrations.each("pushPercentWatchedEvent",t,i)},r=function(){var n;return(n=e.integrations).each.apply(n,["pushConversionEvent",t].concat(i.call(arguments)))},o=function(i){return e.integrations.each("pushConversionMidrollLinkEvent",t,i)},s=function(i){return e.integrations.each("pushConversionPostRollEvent",t,i)},u=function(){return e.integrations.each("pushPlayEvent",t),t.unbind},n=function(){return t.hasData(function(){return t.bind("percentWatchedThreshold",a),t.bind("conversion",r),t.bind("conversion-link",o),t.bind("conversion-postRoll",s),t.bind("play",u)})},l=function(){return t.unbind("play",u),t.unbind("conversion",r),t.unbind("percentWatchedThreshold",a)},t._initIntegrations=function(){return n()},t._destroyIntegrations=function(){return l()},t.bind("beforereplace",l),t.bind("afterreplace",n),n(),e.integrations.each("onInit",t),e.integrations.each("onFind",t),"playing"===t.state?u():void 0}))})}(Wistia)},function(e,t,i){!function(e){e.Interpolation||(e.Interpolation=i(347))}(Wistia)},function(e,t,i){!function(e){var t;if(!e.localStorage)t=i(184),e.localStorage=t.setOrGet,e.removeLocalStorage=t.removeLocalStorage,e.dumpLocalStorage=t.dumpLocalStorage,e._initializers.initLocalStorage=function(){return t.init()},e._destructors.destroyLocalStorage=function(){return t.uncache()}}(Wistia)},function(e,t,i){var n=[].slice;!function(e){var t,r,o,s;r=e,r.wlog||(o=i(4),s=o.wlog,t=o.LOG_LEVELS,r.wlog=s,r.log=s.error,r.error=s.error,r.warn=s.warn,r.notice=s.notice,r.info=s.info,r.debug=s.debug,r.logLevels=t,r.stacktrace=function(){var e;try{throw new Error("stacktrace")}catch(t){return e=t,e.stack}},r.logHelpers={_log:function(){var e,t,i;return i=arguments[0],t=2<=arguments.length?n.call(arguments,1):[],e=r[i],t=[].concat(this._logPrefix()).concat(t),e.apply(null,t)},_logPrefix:function(){return[this.constructor.name]},error:function(){var e;return e=1<=arguments.length?n.call(arguments,0):[],this._log.apply(this,["error"].concat(n.call(e)))},warn:function(){var e;return e=1<=arguments.length?n.call(arguments,0):[],this._log.apply(this,["notice"].concat(n.call(e)))},notice:function(){var e;return e=1<=arguments.length?n.call(arguments,0):[],this._log.apply(this,["notice"].concat(n.call(e)))},info:function(){var e;return e=1<=arguments.length?n.call(arguments,0):[],this._log.apply(this,["info"].concat(n.call(e)))},debug:function(){var e;return e=1<=arguments.length?n.call(arguments,0):[],this._log.apply(this,["debug"].concat(n.call(e)))},log:function(){var e;return e=1<=arguments.length?n.call(arguments,0):[],this._log.apply(this,["error"].concat(n.call(e)))}},r._initializers.initWLog=function(){var e,t,i,n,o,a,u,l,c,d,h;return t=r.url.parse(location.href),document.referrer&&(c=r.url.parse(document.referrer)),((e=null!=t&&null!=(i=t.params)?i.wlog:void 0)||top!==self&&(e=null!=c&&null!=(n=c.params)?n.wlog:void 0))&&s.setLevel(e),((d=null!=t&&null!=(o=t.params)?o.wgrep:void 0)||(d=null!=c&&null!=(a=c.params)?a.wgrep:void 0))&&s.setGrep(new RegExp(d,"i")),(h=null!=t&&null!=(u=t.params)?u.wgrepv:void 0)||(h=null!=c&&null!=(l=c.params)?l.wgrepv:void 0)?s.setGrepv(new RegExp(h,"i")):void 0},r._destructors.destroyWLog=function(){return null!=s?s.reset():void 0})}(Wistia)},function(e,t){!function(e){var t;t={onFind:function(e){return this._setForeignData(e)},pushPercentWatchedEvent:function(e,t){return this._pushEvent(e,Math.round(100*t)+"% Watched")},pushPlayEvent:function(e){return this._pushEvent(e,"Played")},pushConversionEvent:function(e,t,i){return this._pushEvent(e,"Conversion: "+i)},pushConversionMidrollLinkEvent:function(e,t){return this._pushEvent(e,"Clicked Link - "+t.link)},pushConversionPostRollEvent:function(e,t){return this._pushEvent(e,"Clicked Link - "+t.link)},_pushEvent:function(e,t){var i;if(window.Munchkin)return this._setForeignData(e),i=this._marketoUrlFormat(' - Wistia Video: "'+e.name()+'" - '+t),Munchkin.munchkinFunction("visitWebPage",{url:i})},_marketoUrlFormat:function(e){return encodeURIComponent(e.replace(/[?;]/g," "))},_setForeignData:function(e,t){return null==t&&(t=""),this._cookie||this._setCookie(),e.foreignData({marketoCookie:this._cookie})},_setCookie:function(){return this._cookie=e.cookie("_mkto_trk")}},e.integrations.register("marketo_v2",t),e.integrations.register("marketo",t)}(Wistia)},function(e,t,i){!function(e){e.mux||(null==e.mux&&(e.mux={}),e.mux.experiments={"control-20170110":1},e.mux.chooseExperiment=function(){var t,i,n,r,o,s,a,u;if(e.mux.experiment)return e.mux.experiment;a=0,o=e.mux.experiments;for(n in o)u=o[n],a+=u;r=Math.random(),i=0,s=e.mux.experiments;for(n in s)if(u=s[n],t=i+u/a,i=t,t>=r)return void(e.mux.experiment=n);return e.mux.experiment="control"},e.mux.experimentEnabled=function(t){var i,n,r,o,s;for(n=(null!=(s=e.mux.experiment)?s.split(/\s*\+\s*/):void 0)||[],r=0,o=n.length;o>r;r++)if(i=n[r],t===i)return!0;return!1},e.mux.loaded=new e.StopGo,e.mux._startedLoad=!1,e.mux.load=function(){return e.util.pageLoaded(function(){return e.remote.script(e.proto()+"//src.litix.io/core/2/mux.js",function(){return e.util.poll(function(){return"undefined"!=typeof mux},function(){return e.mux.loaded(!0)})},15e3,{once:!0})})},e.mux._shouldDisable=function(){return!!(e.detect.browser.msie&&e.detect.browser.version<9)||(!!/[\?\&]wmux=false(?:\&|$)/.test(location.href)||!/[\?\&]wmux=true(?:\&|$)/.test(location.href)&&(!0===window.wistiaDisableCookies||!0===window.wistiaDisableMux))},e.mux.setup=function(){return e.mux._shouldDisable()?void 0:e.api.onFind(function(t){var i,n,r,o,s;if(t instanceof e.PublicApi)return e.mux._startedLoad||(e.mux._startedLoad=!0,e.mux.load()),i=(new Date).getTime(),s=function(){var n,r,o,s,a,u,l;return o=(r=t.asset({status:e.Player.READY}))?e.url.parse(r.url):e.url.parse("/no-ready-assets"),n=t._impl._currentAsset?"mp4"===t._impl._currentAsset.ext?"video/mp4":"m3u8"===t._impl._currentAsset.ext?"application/x-mpegURL":"":"",u=t.playerType,t.popover&&(u="popover_"+u),"vulcan"===t.playerType&&t.plugin.hlsVideo&&(u+="_hlsjs"),"vulcan"===t.playerType&&t.plugin.nativeHlsVideo&&(u+="_nativehls"),"html5"===t.playerType&&"m3u8"===(null!=(l=t._impl._currentAsset)?l.ext:void 0)&&(u+="_nativehls"),s=t._mediaData.stats.playCount,a=s||0===s?100>s?"0-99":1e3>s?"100-999":1e4>s?"1000-9999":"10000-":"undef",{debug:!1,minimumRebufferDuration:250,data:{property_key:"fg8vvsvnieiv3ej16jby",page_type:t._opts._inIframe?"iframe":"",viewer_user_id:t.visitorKey(),experiment_name:e.mux.experiment,player_source_type:a,video_series:t._mediaData.accountKey,player_name:u,player_version:"",player_init_time:i,video_id:t.hashedId(),video_title:t.name(),video_producer:t._mediaData.accountKey,video_content_type:n,video_language_code:"",video_variant_name:"",video_variant_id:"",video_duration:1e3*t.duration(),video_is_live:!1,video_encoding_variant:"",video_cdn:o.host}}},t._setupMux?void 0:(t._setupMux=!0,n=function(){var i;return t._muxVideoElem=t.elem(),t.elem()._setupMux?void 0:(t.elem()._setupMux=!0,i=s(),t.info("mux.monitor","#"+t.elem().id,e.obj.clone(i)),mux.monitor("#"+t.elem().id,i))},r=function(){var i;return t._muxVideoElem&&t.elem()===t._muxVideoElem?(i=s(),t.info("mux.emit","#"+t.elem().id,"videochange",e.obj.clone(i)),mux.emit("#"+t.elem().id,"videochange",i)):n()},o=function(){var e,i;return!0===t._attrs.shouldTrack&&"video"===(null!=(e=t.elem())&&null!=(i=e.tagName)?i.toLowerCase():void 0)},t.embedded(function(){var i;if(o())return"wistia-production_5585"===(null!=(i=t._mediaData)?i.accountKey:void 0)?"romulus"===t.playerType?e.mux.experiment=Math.random()<.5?"rom-no-loading":"rom-loading":e.mux.experiment=Math.random()<.5?"less-to-load":"normal-load":e.mux.chooseExperiment(),e.info("mux experiment is",e.mux.experiment),e.timeout(t.uuid+".setup_mux",function(i){return function(){return t.info("setupMuxBindings on embedded"),e.mux.loaded(r)}}(),100)}),t.bind("afterreplace",function(){return o()?e.timeout(t.uuid+".setup_mux",function(i){return function(){return t.info("setupMuxBindings afterreplace"),e.mux.loaded(r)}}(),100):void 0}),t.bind("rebuild",function(e,i){return o()&&e.mux?(t.info("oldVideoElem.mux.swapElement on beforerebuild"),e.mux.swapElement(i)):void 0}),t.bind("before-swapped-video-elem",function(e,i){return o()&&e.mux?(t.info("oldVideoElem.mux.swapElement on swapped-video-elem"),e.mux.swapElement(i)):void 0}))})},e._initializers.initMux=function(){return e.mux._setup?void 0:(e.mux._setup=!0,e.mux.setup())},e._destructors.destroyMux=function(){return e.mux._setup=!1,e.mux.experiment=null})}(Wistia)},function(e,t){!function(e){e.Plugin||(e.Plugin={}),e.Plugin.Base||(e.Plugin.Base=function(){function t(){this.pluginName="plugin"}return t.prototype.instances=function(){return e.data(["plugins",this.pluginName,this.video.uuid])},t.prototype.register=function(t){var i;return i=this.playlist||this.video,i.plugins[this.uuid]=t,e.data(["plugins",this.pluginName,i.uuid,this.uuid],t)},t.prototype.remove=function(t){var i;return null==t&&(t={}),i=this.playlist||this.video,i.plugins[this.uuid]=null,e.removeData(["plugins",this.pluginName,i.uuid,this.uuid]),i.plugins[this.uuid]===this&&delete i.plugins[this.uuid],i.plugin[this.pluginName]===this&&delete i.plugin[this.pluginName],t.dontFit?void 0:(e.grid.fitHorizontal(i),e.grid.fitVertical(i))},t.prototype.fit=function(){},t.prototype.init=function(t,i){return null==t.plugins&&(t.plugins={}),(null!=t?t.playlist:void 0)?this.playlist=t:this.video=t,this.target=this.playlist||this.video,this.options=i||{},this.params=e.extend({},i||{}),this.uuid=this.params.uuid||e.seqId("wistia_","_plugin")},t}(),e.plugin||(e.plugin=function(t,i){var n,r,o,s,a,u;return(n=null!=(s=e.pluginQueue)&&null!=(a=s[t])?a.shift():void 0)&&(o=function(){var e,r;return n.video.info("initializing plugin",t,n.options),e=i(n.video,n.options)||!0,n.video.plugin[t]=e,n.video._impl&&(n.video._impl.plugin[t]=e),null!=(r=n.video._pluginStopGos)&&"function"==typeof r[t]?r[t](!0):void 0},r=function(){return n.options.initBeforeHasData?o():n.video.hasData(o)},(null!=(u=n.video)?u.looksDown():void 0)?(n.video.notice('W.plugin: delaying initialization of plugin until "up"',t,n.options),n.video.bind("up",function(){return r(),this.unbind})):n.video._implVersion===n.implVersion?r():n.video.notice("W.plugin impl changed, ignoring initialization",t,n.options)),e.plugin[t]?void 0:e.plugin[t]=i},e.plugin._scriptsFromVideo=function(t){var i;return i=e.plugin._scriptsFromOptions(t._opts),i=i.concat(e.plugin._scriptsFromOptions({plugin:t._playerPlugins||[]})),e.plugin._setFnForDefinedPlugins(t,i),i},e.plugin._prefetched={},e.plugin._scriptsFromOptions=function(t){var i,n,r,o,s,a,u;o=[],s=t.plugin;for(n in s)r=s[n],!1!==(null!=r?r.on:void 0)&&(a=e.plugin._getSourceName(n),i={name:a,options:r,src:e.proto()+"//"+e.remote.embedHost()+"/assets/external/"+a+".js",async:null!=r.async?r.async:!/^(requireEmail|socialbar|transcript|midrollLink|share)/.test(n)},r.src&&e.plugin._allow3rdParty(t)&&(i.src=r.src),/transcript/.test(n)&&(u="https:"===e.proto()?"https://s3.amazonaws.com/origin-p3.3playmedia.com/javascripts/vendor/jquery-1.6.2.min.js":"http://p3.3playmedia.com/javascripts/vendor/jquery-1.6.2.min.js",o.push({src:u,async:!1})),o.push(i));return e.plugin._orderScripts(o)},e.plugin._orderScripts=function(e){var t;return t=function(e){var t;return t=0,null!=(null!=e?e.options:void 0)&&"loadWeight"in e.options&&(t=e.options.loadWeight),t},e.sort(function(e,i){return t(e)-t(i)})},e.plugin._getSourceName=function(e){return function(){switch(e){case"socialbar":return"socialbar-v1";case"requireEmail":return"requireEmail-v1";case"postRoll":return"postRoll-v1";case"transcript":return"transcript-v2";default:return e}}()},e.plugin._inject=function(t,i,n){var r,o;return null==n&&(n={}),!1!==n.on?(r=e.proto()+"//"+e.remote.embedHost()+"/assets/external/"+i+".js",o=[{name:i,options:n,src:n.src&&e.plugin._allow3rdParty(t.options)?n.src:r,async:!0}],e.plugin._setFnForDefinedPlugins(t,o),e.plugin._execQueue(t,o)):void 0},e.plugin._allow3rdParty=function(e){return!1!==(null!=e?e.allowThirdParty:void 0)&&!/([\w\_\-]+\.)?wistia\.(com|st)$/.test(window.location.hostname)},e.plugin._setFnForDefinedPlugins=function(t,i){var n,r,o,s;for(o=[],n=0,r=i.length;r>n;n++)s=i[n],e.plugin[s.name]&&o.push(function(i){return i.fn=function(){var n;return n=function(){var n,r,o;return r=e.plugin[i.name](t,i.options)||!0,t.plugin[i.name]=r,t._impl&&(t._impl.plugin[i.name]=r),null!=(o=t._pluginStopGos)&&"function"==typeof o[n=i.name]?o[n](!0):void 0},i.options.initBeforeHasData?n():t.hasData(n)},i.async=!1}(s));return o},e.plugin._queueUndefinedPlugins=function(t,i){var n,r,o,s,a,u;for(null==e.pluginQueue&&(e.pluginQueue={}),a=[],n=0,r=i.length;r>n;n++)s=i[n],s.subScripts?a.push(function(){var i,n,r,a;for(r=s.subScripts,a=[],i=0,n=r.length;n>i;i++)u=r[i],o=u.name||u.src,null==e.pluginQueue[o]&&(e.pluginQueue[o]=[]),s.fn?a.push(void 0):a.push(e.pluginQueue[o].push({video:t,implVersion:t._implVersion,options:u.options}));return a}()):(o=s.name||s.src,null==e.pluginQueue[o]&&(e.pluginQueue[o]=[]),s.fn?a.push(void 0):a.push(e.pluginQueue[o].push({video:t,implVersion:t._implVersion,options:s.options})));return a},e.plugin._execQueue=function(t,i,n){return e.plugin._queueUndefinedPlugins(t,i),e.remote.scripts(i,n)},e.plugin._init=function(t,i,n){var r,o,s;return s=t.charAt(0).toUpperCase()+t.substr(1),o=e.Plugin[s],r=new o,r.init(i,n),r},e.plugin._instance=function(t,i,n){return e.data(["plugins",t,i.uuid,n])},e.plugin._remove=function(t,i,n){var r;null!=(r=e.plugin._instance(t,i,n))&&r.remove()},e.plugin._isActive=function(t,i,n){return!!e.plugin._instance(t,i,n)},e.plugin._defined=function(){var t,i,n,r;i=e.plugin,n=[];for(t in i)r=i[t],/^_/.test(t)||n.push({name:t,options:r});return n}))}(Wistia)},function(e,t,i){var n=function(e,t){return function(){return e.apply(t,arguments)}};!function(e){var t;if(!e.Popover)t=i(25).cdnFastWistiaComHost,e.Popover=function(){function i(t){var i;this.video=t,this.fitVideo=n(this.fitVideo,this),this.show=n(this.show,this),this.showAndPlay=n(this.showAndPlay,this),this.hide=n(this.hide,this),this.fitCloseButton=n(this.fitCloseButton,this),this.fitOverlay=n(this.fitOverlay,this),this.fit=n(this.fit,this),this._onLeaveVideoOrCloseButton=n(this._onLeaveVideoOrCloseButton,this),this._onEnterVideoOrCloseButton=n(this._onEnterVideoOrCloseButton,this),this.unexpandPlayButtonOnMouseOut=n(this.unexpandPlayButtonOnMouseOut,this),this.unexpandPlayButtonImmediately=n(this.unexpandPlayButtonImmediately,this),this.unexpandPlayButton=n(this.unexpandPlayButton,this),this.expandPlayButton=n(this.expandPlayButton,this),this.setupThumbnailAfterMediaData=n(this.setupThumbnailAfterMediaData,this),this.click=n(this.click,this),this.info("init"),this.uuid=e.seqId(),this._embedContainer=this.video._embedContainer,e.elem.addClass(this._embedContainer,"wistia_popover_embed"),this._thumbContainer=e.elem.fromObject({id:e.seqId()+".thumb_container",class:"wistia_click_to_play",style:{position:"relative"}}),"inline"===this.video.container.style.display&&e.elem.style(this._thumbContainer,{display:"inline"}),e.elem.append(this.video.container,this._thumbContainer),i=this.video._gatherOptions(),this.info("opts",i),"thumbnail"===i.popoverContent||null==i.popoverContent?this.video.hasData(this.setupThumbnailAfterMediaData):(this.info("init with bare html",this.video._startingHtml),this._thumbContainer.innerHTML=this.video._startingHtml,e.elem.bind(this._thumbContainer,"click",this.click)),this.resizeToContainer(),this.createCloseButton(),this.hide(!0),this.setupBindings(),this.video.embedded(function(e){return function(){return e.video._opts.popoverShowOnLoad?!1===e.video._opts.autoPlay?e.show():e.showAndPlay():void 0}}(this))}return i.prototype.click=function(e){return e.preventDefault(),this.showAndPlay()},i.prototype.isMobile=function(){return e.detect.ipad||e.detect.iphone||e.detect.android},i.prototype.setupThumbnailAfterMediaData=function(){return this.info("setupThumbnailAfterMediaData"),e.asyncChain(this.video.uuid+".popover.setup_thumbnail",[function(t){return function(){return t.initThumbnail(),e.elem.style(t.thumbnail.elem,{cursor:"pointer"})}}(this),function(e){return function(){return e.resizeToContainer()}}(this),function(e){return function(){return e.monitor()}}(this)])},i.prototype.initThumbnail=function(){var t,i;return this.thumbnail=new e.Thumbnail(this._thumbContainer,{tabbable:!0,fitStrategy:"cropfill",onActivate:this.showAndPlay,images:this.video._impl.thumbnailAssets(),bigPlayButton:!!e.util.notSetOrTrue(this.video._opts.playButton)&&(t={color:this.video.playerColor(),tabbable:!0},this.shouldAnimate()&&(t.autoHighlight=!1,e.util.notSetOrTrue(this.video._opts.popoverHoverDuration)&&(t.bottomText=this.shortHumanDuration(this.video.duration())),this.video._opts.popoverHoverName&&(t.topText=this.video.name())),t),onMouseover:this.shouldAnimate()?this.expandPlayButton:null,onMouseout:this.shouldAnimate()?this.unexpandPlayButtonOnMouseOut:null}),null!=(i=this.thumbnail.bigPlayButton)&&"function"==typeof i.removeBottomText&&i.removeBottomText(),this.thumbnail},i.prototype.shortHumanDuration=function(t){var i,n,r,o,s;return o=e.TimeHelper.secondsToIso8601(t),r=o.split(":"),i=r[0],n=r[1],s=r[2],0===parseInt(i)&&0===parseInt(n)?"0:"+s:0===parseInt(i)?parseInt(n)+":"+s:parseInt(i)+":"+n+":"+s},i.prototype.shouldAnimate=function(){return!0===this.video._opts.popoverAnimateThumbnail},i.prototype.expandPlayButton=function(){var e,t;return null!=(e=this.thumbnail)&&null!=(t=e.bigPlayButton)?t.cover():void 0},i.prototype.unexpandPlayButton=function(){var e,t;return null!=(e=this.thumbnail)&&null!=(t=e.bigPlayButton)?t.uncover():void 0},i.prototype.unexpandPlayButtonImmediately=function(){var e,t;return null!=(e=this.thumbnail)&&null!=(t=e.bigPlayButton)?t.uncoverImmediately():void 0},i.prototype.unexpandPlayButtonOnMouseOut=function(t){var i;return i=e.elem.containsOffset(this.thumbnail.elem,t.pageX,t.pageY),i?void 0:this.unexpandPlayButton()},i.prototype.fixedSizeTooBigForWindow=function(){return this.video._popoverSize().width+160>e.elem.width(window)||this.video._popoverSize().height+160>e.elem.height(window)},i.prototype.isResponsive=function(){return!this.isFixedSize()},i.prototype.isFixedSize=function(){return!!this.video._opts.popoverSize},i.prototype.monitor=function(){return this.info("monitor container size"),this._lastWidth=this.containerWidth(),this._lastHeight=this.containerHeight(),e.eventLoop.add(this.video.uuid+"_popover.watch_popover_thumb_elem",300,function(e){return function(){return e._lastWidth!==e.containerWidth()||e._lastHeight!==e.containerHeight()?(e.preventAnimation(),e.resizeToContainer(),e.allowAnimation(),e._lastWidth=e.containerWidth(),e._lastHeight=e.containerHeight()):void 0}}(this))},i.prototype.resizeToContainer=function(){var t;return e.elem.style(this._thumbContainer,{height:this.containerHeight()+"px",width:this.containerWidth()+"px"}),null!=(t=this.thumbnail)?t.fit():void 0},i.prototype.containerWidth=function(){return e.elem.width(this.video.container)},i.prototype.containerHeight=function(){return e.elem.height(this.video.container)},i.prototype.setupBindings=function(){return this.video.videoFoam()||e.elem.bind(window,"resize",this.fit),this.video.bind("widthchange",this.fit),this.video.bind("heightchange",this.fit),
null==this._showIfHidden&&(this._showIfHidden=function(e){return function(){return e._visible?void 0:e.show()}}(this)),this.video.bind("play",this._showIfHidden),e.elem.bind(this._embedContainer,"mouseover",this._onEnterVideoOrCloseButton),e.elem.bind(this._embedContainer,"mouseout",this._onLeaveVideoOrCloseButton),e.elem.bind(this._closeButton,"mouseover",this._onEnterVideoOrCloseButton),e.elem.bind(this._closeButton,"mouseout",this._onLeaveVideoOrCloseButton)},i.prototype._onEnterVideoOrCloseButton=function(t){var i;if(this._visible)return i=t.target||t.srcElement,i&&(e.elem.isInside(i,this._embedContainer)||e.elem.isInside(i,this._closeButton))?e.elem.style(this._closeButton,{opacity:.8}):void 0},i.prototype._onLeaveVideoOrCloseButton=function(t){var i;return i=t.relatedTarget||t.toElement,i&&e.elem.isInside(i,this._overlay)?e.elem.style(this._closeButton,{opacity:0}):void 0},i.prototype.unbindAll=function(){return e.elem.unbind(window,"resize",this.fit),this._overlay&&this._hideOnClick&&e.elem.unbind(this._overlay,"click",this._hideOnClick),this._hideOnEscape&&e.elem.unbind(document,"keyup",this._hideOnEscape),this.video.unbind("widthchange",this.fit),this.video.unbind("heightchange",this.fit),this._showIfHidden&&this.video.unbind("play",this._showIfHidden),e.elem.unbindAllInside(this._thumbContainer),e.elem.unbind(this._thumbContainer,"click",this.showAndPlay)},i.prototype.remove=function(){var t;return null!=(t=this.thumbnail)&&t.destroy(),this.unbindAll(),e.eventLoop.remove(this.video.uuid+"_popover"),e.clearTimeouts(this.video.uuid+"_popover"),e.elem.remove(this._thumbContainer),e.elem.remove(this._overlay),e.elem.remove(this._closeButton),e.elem.remove(this._captionElem),this._thumbContainer=this._overlay=this._captionElem=this.thumbnail=null},i.prototype.fit=function(){return this.fitOverlay(),this.fitCloseButton(),this.fitVideo()},i.prototype.bestOverlayHeight=function(){return Math.max(e.elem.height(document),e.elem.height(window))},i.prototype.bestOverlayWidth=function(){return Math.max(e.elem.width(document),e.elem.width(window))},i.prototype.createCloseButton=function(){return this._closeButton=e.elem.fromObject({id:this._embedContainer.id+"_popover_close_button",class:"wistia_placebo_close_button",style:{cursor:"pointer",height:"34px",left:0,opacity:0,position:"absolute",top:0,width:"34px",zIndex:10002},childNodes:[{tagName:"img",style:{height:"34px",verticalAlign:"top",width:"34px"}}]}),null==this._hideOnClickClose&&(this._hideOnClickClose=function(e){return function(){return e.hide()}}(this)),e.elem.rebind(this._closeButton,"click",this._hideOnClickClose),e.elem.append(document.body,this._closeButton)},i.prototype._closeButtonBase64=function(){return"data:image/gif;base64,R0lGODlhRABEAIABAP///////yH5BAEAAAEALAAAAABEAEQAAAKVjI+py+0Po5y02oszBPxyoGFfR41gWJlnpKJWu5muJzvw/NbLjefjruvRfgiecPg5GI/IzpLZfEKjyelMtbKisFoXltQVfcHhkkxaZtzQ6WIwwG4/42E03Rq/M+/6Xr9/RTTxVkc2aNiWqLjI2Oj4CBkpOUlZaXmJmam5ydnp+QkaKjpKWmp6ipqqusra6voKGyvbUwAAOw=="},i.prototype.createOverlay=function(){return this.destroyOverlay(),this.info("createOverlay"),this._overlay=e.elem.fromObject({id:this._embedContainer.id+"_overlay",class:"wistia_popover_overlay",style:{backgroundImage:"url("+e.proto()+"//"+t()+"/assets/images/blank.gif)",height:this.bestOverlayHeight()+"px",left:0,opacity:0,position:"absolute",top:0,width:this.bestOverlayWidth()+"px",zIndex:1e4}}),e.detect.browser.msie&&e.detect.browser.version<9?e.elem.style(this._overlay,{filter:this._overlayColor().toIeGradient()}):e.elem.style(this._overlay,{backgroundColor:this._overlayColor().toRgba()}),e.elem.append(document.body,this._overlay),this._blockClick=!0,null==this._hideOnClick&&(this._hideOnClick=function(e){return function(){return e.info("hideOnClick",e._blockClick),e._blockClick?void 0:e.hide()}}(this)),e.elem.rebind(this._overlay,"click",this._hideOnClick),e.timeout(this.video.uuid+".popover.allow_click",function(e){return function(){return e._blockClick=!1}}(this),600)},i.prototype._overlayColor=function(){var t,i;return t=e.Player._sanePlayerColor(this.video._opts.popoverOverlayColor||"000000"),i=null!=this.video._opts.popoverOverlayOpacity?this.video._opts.popoverOverlayOpacity:.5,new e.Color(t).alpha(i)},i.prototype._playerColor=function(){return new e.Color(this.video.playerColor()).alpha(.9)},i.prototype.destroyOverlay=function(){return this.info("destroyOverlay"),e.elem.remove(this._overlay),this._overlay=null},i.prototype.fitOverlay=function(){return this._visible&&this._overlay?e.elem.style(this._overlay,{height:this.bestOverlayHeight()+"px",width:this.bestOverlayWidth()+"px"}):void 0},i.prototype.fitCloseButton=function(){var t,i;return t=Math.min(34,this.bestVideoBoundingBox().left),i=t+"px",e.elem.style(this._closeButton,{width:i,height:i}),e.elem.style(this._closeButton.childNodes[0],{width:i,height:i})},i.prototype.hide=function(t){var i,n,r,o;return null==t&&(t=!1),this.info("hide"),o=this._visible,this._visible=!1,e.elem.removeClass(document.body,"wistia_popover_mode"),e.detect.browser.msie&&(e.detect.browser.version<9||e.detect.browser.quirks)&&(t=!0),(null!=(r=this.video._opts)?r.popoverResume:void 0)&&this.video.time()>0&&this.video._saveState(),n=function(t){return function(){return e.elem.style([t._embedContainer,t._closeButton],{boxShadow:"",left:"-99999px",position:"absolute",top:0}),t.destroyOverlay(),t.destroyCaption(),!t.video._opts||t.video._opts.popoverPreventScroll?t.allowScroll():t.allowHorizontalScroll()}}(this),this.video.pause(),o&&e.timeout(this.uuid+".delayed_rebuild",function(e){return function(){return e.video.rebuild()}}(this),600),this.video.embedded(function(e){return function(){return e.video._pauseEventLoop(),e.shouldAnimate()?e.unexpandPlayButtonImmediately():void 0}}(this)),this.video.trigger("popoverhide"),!0===t?n():(i=this.animateArgs(),i.push(n),this.animateClose.apply(this,i))},i.prototype.animateClose=function(t,i,n){return null==t&&(t=!0),this.info("animateClose",t,i),this._overlay&&(t||e.elem.style(this._overlay,{opacity:0}),setTimeout(function(t){return function(){return e.elem.animate(t._overlay,{opacity:0})}}(this),1)),t||e.elem.style([this._embedContainer,this._closeButton],{opacity:0}),setTimeout(function(t){return function(){return e.elem.animate([t._embedContainer,t._closeButton],{opacity:0,transform:t.transformProp(i)},{callback:n})}}(this),1),this._captionElem?(t||e.elem.style(this._captionElem,{opacity:0}),setTimeout(function(t){return function(){return e.elem.animate(t._captionElem,{opacity:0,transform:t.transformProp(i)})}}(this),1)):void 0},i.prototype.showAndPlay=function(){return this.info("showAndPlay"),this.show(),this.video.play()},i.prototype.transformProp=function(e){return"up"===e?"translate(0, "+Math.round(this.fullHeight()/6)+"px)":"down"===e?"translate(0, "+-Math.round(this.fullHeight()/6)+"px)":"left"===e?"translate("+Math.round(this.fullWidth()/6)+"px, 0)":"right"===e?"translate("+-Math.round(this.fullWidth()/6)+"px, 0)":""},i.prototype.animateOpen=function(t,i){return null==t&&(t=!0),this.info("animateOpen",t,i),t||e.elem.style(this._overlay,{opacity:1}),t||e.elem.style([this._embedContainer],{opacity:1}),e.elem.style([this._embedContainer],{transform:this.transformProp(i)}),setTimeout(function(t){return function(){return e.elem.animate([t._embedContainer],{opacity:1,transform:"translate(0px, 0px)"}),e.elem.animate(t._overlay,{opacity:1})}}(this),1),this._captionElem?(t||e.elem.style(this._captionElem,{opacity:1}),e.elem.style(this._captionElem,{transform:this.transformProp(i)}),setTimeout(function(t){return function(){return e.elem.animate(t._captionElem,{opacity:1,transform:"translate(0px, 0px)"})}}(this),1)):void 0},i.prototype.animateArgs=function(){return e.detect.browser.msie&&(e.detect.browser.version<9||e.detect.browser.quirks)?[!1,"none"]:"fade"===this.video._opts.popoverAnimation?[!0,"none"]:"slide"===this.video._opts.popoverAnimation?this.slideOrFadeBasedOnPlayerType():"none"===this.video._opts.popoverAnimation?[!1,"none"]:this.slideOrFadeBasedOnPlayerType()},i.prototype.slideOrFadeBasedOnPlayerType=function(){return this.video.playerType,[!0,"none"]},i.prototype.show=function(){var t;return this.info("show"),this._visible=!0,e.elem.addClass(document.body,"wistia_popover_mode"),e.clearTimeouts(this.uuid+".delayed_rebuild"),this.video._opts.popoverPreventScroll?this.preventScroll():this.preventHorizontalScroll(),this._closeButton.childNodes[0].setAttribute("src",this._closeButtonBase64()),this.createOverlay(),this.applyVisibleStyles(),this.addCaption(),this.fitVideo(),this.animateOpen.apply(this,this.animateArgs()),this.setupVisibleBindings(),(null!=(t=this.video._opts)?t.popoverResume:void 0)&&this.video.resume(),this.video.embedded(function(e){return function(){return e.video._unpauseEventLoop()}}(this)),this.video.trigger("popovershow")},i.prototype.preventScroll=function(){return this._savedCss?void 0:(this._savedCss={height:document.body.style.height||"",overflow:document.body.style.overflow||""},e.elem.style(document.body,{height:"100%",overflow:"hidden"}))},i.prototype.allowScroll=function(){return this._savedCss?(e.elem.style(document.body,{height:this._savedCss.height,overflow:this._savedCss.overflow}),this._savedCss=null):void 0},i.prototype.preventHorizontalScroll=function(){return this._savedCss?void 0:(this._savedCss={width:document.body.style.width||"","overflow-x":document.body.style["overflow-x"]||""},e.elem.style(document.body,{width:"100%","overflow-x":"hidden"}))},i.prototype.allowHorizontalScroll=function(){return this._savedCss?(e.elem.style(document.body,{width:this._savedCss.width,"overflow-x":this._savedCss["overflow-x"]}),this._savedCss=null):void 0},i.prototype.setupVisibleBindings=function(){return null==this._hideOnEscape&&(this._hideOnEscape=function(t){return function(i){return 27===i.keyCode?(t.info("hide on escape"),t.hide(),e.elem.unbind(document,"keyup",t._hideOnEscape)):void 0}}(this)),e.elem.rebind(document,"keyup",this._hideOnEscape)},i.prototype.applyVisibleStyles=function(){var t,i,n,r,o,s,a;return n=this.video._opts.popoverBorderWidth||0,t=new e.Color(this.video._opts.popoverBorderColor||"#ffffff").toHex(),i=this.video._opts.popoverBorderRadius||0,o=null!=this.video._opts.popoverBoxShadowBlur?this.video._opts.popoverBoxShadowBlur:50,a=null!=this.video._opts.popoverBoxShadowSpread?this.video._opts.popoverBoxShadowSpread:20,s=null==this.video._opts.popoverBoxShadow||this.video._opts.popoverBoxShadow,r=s?"0 0 "+o+"px "+a+"px rgba(0,0,0,.2)":"",e.elem.style(this._embedContainer,{border:n+"px solid #"+t,borderRadius:i+"px",boxShadow:r,left:0,opacity:0,position:"absolute",top:0,zIndex:10001})},i.prototype.addCaption=function(){return this.video._opts.popoverCaption||this.video._opts.popoverCaptionContainer?(this.destroyCaption(),this.info("addCaption"),this._captionElem=e.elem.fromObject({id:this.video.uuid+"_popover_caption",style:{color:"#ffffff",fontFamily:"Verdana, Geneva, sans-serif",fontSize:"14px",left:0,opacity:0,position:"absolute",top:0,width:0,zIndex:10001}}),e.elem.append(document.body,this._captionElem),this.video._opts.popoverCaption?(this.info("build new caption with content",this.video._opts.popoverCaption),this._captionContainer?this._captionContainer.style.display="block":this._captionContainer=e.elem.fromObject({innerHTML:this.video._opts.popoverCaption,style:{padding:"10px 0 0 0"}}),e.elem.append(this._captionElem,this._captionContainer)):this.video._opts.popoverCaptionContainer?(this.info("use caption container",this.video._opts.popoverCaptionContainer),this._captionContainer?this._captionContainer.style.display="block":this._captionContainer=document.getElementById(this.video._opts.popoverCaptionContainer),e.elem.style(this._captionContainer,{display:"block"}),e.elem.append(this._captionElem,this._captionContainer)):void 0):void 0},i.prototype.destroyCaption=function(){return this.info("destroyCaption"),this._captionContainer&&(e.elem.style(this._captionContainer,{display:"none"}),e.elem.append(document.body,this._captionContainer)),e.elem.remove(this._captionElem),this._captionElem=null},i.prototype.fitCaption=function(){return this._captionElem?e.elem.style(this._captionElem,{left:parseInt(e.elem.style(this._embedContainer,"left"),10)+"px",top:parseInt(e.elem.style(this._embedContainer,"top"),10)+this.fullHeight()+"px",width:this.fullWidth()+"px"}):void 0},i.prototype.height=function(t,i){return null==i&&(i={}),null!=t?(this.preventAnimation(),e.elem.style(this.video.container,{height:t+"px"}),i.constrain&&e.elem.style(this.video.container,{width:this.video.widthForHeight(t)+"px"}),this.resizeToContainer(),this.allowAnimation(),this):e.elem.height(this.video.container)},i.prototype.width=function(t,i){return null==i&&(i={}),null!=t?(this.preventAnimation(),e.elem.style(this.video.container,{width:t+"px"}),i.constrain&&e.elem.style(this.video.container,{height:this.video.heightForWidth(t)+"px"}),this.resizeToContainer(),this.allowAnimation(),this):e.elem.width(this.video.container)},i.prototype.preventAnimation=function(){return null==this._wistiaNoAnimateStyle&&(this._wistiaNoAnimateStyle=e.css(this._thumbContainer,".wistia_no_animate * {\ntransition: none !important;\n-mozilla-transition: none !important;\n-ms-transition: none !important;\n-o-transition: none !important;\n-webkit-transition: none !important;\n}")),e.elem.addClass(this._thumbContainer,"wistia_no_animate")},i.prototype.allowAnimation=function(){return this._thumbContainer.offsetTop,e.elem.removeClass(this._thumbContainer,"wistia_no_animate")},i.prototype.fullWidth=function(){return this.video.width()+2*(this.video._opts.popoverBorderWidth||0)},i.prototype.fullHeight=function(){return this.video.height()+2*(this.video._opts.popoverBorderWidth||0)},i.prototype.fitVideo=function(){return this._visible?this.video.embedded(function(t){return function(){var i;return t.video._doMonitor(),i=t.bestVideoBoundingBox(),e.elem.style(t._embedContainer,{left:i.left+"px",top:i.top+"px"}),e.elem.style(t._closeButton,{left:i.right+"px",top:i.top+"px"}),t.fitCaption()}}(this)):void 0},i.prototype.bestVideoBoundingBox=function(){var t,i,n,r,o,s,a,u;return s=e.elem.width(window),o=e.elem.height(window),u=this.fullWidth(),i=this.fullHeight(),n=e.util.scrollLeft()+Math.round((s-u)/2),a=e.util.scrollTop()+Math.round((o-i)/2),r=n+u,t=a+i,{top:a,left:n,right:r,bottom:t,width:u,height:i}},i}(),e.mixin(e.Popover.prototype,e.logHelpers),e.Popover.prototype._logPrefix=function(){var e,t;return["popover",(null!=(e=this.video)?e.hashedId():void 0)||"no hashedId",null!=(t=this._thumbContainer)?t.id:void 0]}}(Wistia)},function(e,t,i){var n=function(e,t){return function(){return e.apply(t,arguments)}},r=[].slice;!function(e){var t,o,s;o=e,o.PublicApi||(t=i(183),o.Judy=t,o.Assets=i(31),o.PublicApi=function(){function i(e,t){this._definePluginMethod=n(this._definePluginMethod,this),this._doResize=n(this._doResize,this),this._doMonitor=n(this._doMonitor,this),this._initWithMediaData=n(this._initWithMediaData,this),this._allocEmbedSlot=n(this._allocEmbedSlot,this);var i;this.info("initialize"),this._hasImpl=new o.StopGo,this._notReplacing=new o.StopGo,this._notReplacing(!0),this.hasPlugins=new o.StopGo,this.up=new o.StopGo,this.up(!0),this.down=new o.StopGo,this.down(!1),this.inViewport=new o.StopGo,this.inViewport(!1),this._implVersion=0,this._playlistIndex=0,this._attrs={},this.params={},this.options={},this._pluginStopGos={},this.plugins={},this.data={},this._definePluginMethod(),this.hashedId(e),this._givenOptions=t,this._playlist=[],this._setupContainer(),this._validate(),this._inferPropertiesBeforeMediaData(),this._dedupContainer(),this._addToGlobalCache(),this._setupBindings(),this._resetTracker(),this.supportedPlayers=[],this.addToPlaylist(this.hashedId(),t),this.down(this.looksDown()),this.up(this.looksUp()),this.ready(function(e){return function(){return e._wvideoInUrl()?(e._scrollToContainer(),e.play()):void 0}}(this)),null!=(i=window.wistiaEmbeds)&&i.bindHandles(),this.trigger("initembed"),this.monitor(),this.embedded(function(e){return function(){return e.monitor()}}(this)),this.ready(function(e){return function(){return e.monitor()}}(this)),this._onInitializable(function(e){return function(){return e._withFreeEmbedSlots(function(){var t;return t=e._gatherOptions(),t.mediaData?e._initWithMediaData(t.mediaData):o.remote.media(e.hashedId(),e._initWithMediaData,t)})}}(this))}return i.prototype._withFreeEmbedSlots=function(e){var t;return this._setupEmbedSlots(),t=null,this.embedded(function(e){return function(){return clearTimeout(t),t=setTimeout(function(){return e._freeEmbedSlot()},e._embedSlotThrottleInterval())}}(this)),null==this._freeEmbedSlotOnError&&(this._freeEmbedSlotOnError=function(e){return function(){return e._freeEmbedSlot(),e.unbind}}(this)),this.rebind("servererror",this._freeEmbedSlotOnError),o._embedSlotFree(function(i){return function(){return i._allocEmbedSlot(),t=setTimeout(function(){return i._freeEmbedSlot()},1e3),e()}}(this))},i.prototype._onInitializable=function(e){return this.popover&&o.elem.isHidden(this.container)?(this.info("popover, delaying init until container is visible"),o.eventLoop.add(this.uuid+".wait_for_container_visible",500,function(t){return function(){var i;if(!o.elem.isHidden(t.container)){t.info("container became visible, initializing");try{e()}catch(e){i=e,o.error(i)}return o.eventLoop.remove}}}(this))):e()},i.prototype._setupEmbedSlots=function(){return null==o._embedSlots&&(o._embedSlots=[]),o._embedSlotFree?void 0:(o._embedSlotFree=new o.StopGo,o._embedSlotFree(!0))},i.prototype._maxEmbedSlots=function(){var e,t,i;return i=function(){var i,n;i=o.data("video"),n=[];for(e in i)t=i[e],n.push(e);return n}().length,i>20?5:i>10?8:13},i.prototype._embedSlotThrottleInterval=function(){return 500},i.prototype._freeEmbedSlot=function(){var e;return this._setupEmbedSlots(),o._embedSlots=function(){var t,i,n,r;for(n=o._embedSlots,r=[],t=0,i=n.length;i>t;t++)(e=n[t])!==this&&r.push(e);return r}.call(this),o._embedSlots.length<this._maxEmbedSlots()?o._embedSlotFree(!0):void 0},i.prototype._allocEmbedSlot=function(){return this._setupEmbedSlots(),o._embedSlots.push(this),o._embedSlots.length>=this._maxEmbedSlots()?o._embedSlotFree(!1):void 0},i.prototype._shouldLazyLoad=function(){var e;return e=this._gatherOptions(),!window._inWistiaIframe&&parent===self&&(e.lazyLoad||this.popover&&!1!==e.lazyLoad)},i.prototype._initWithMediaData=function(e){var i,n,r;this.info("_initWithMediaData",e);try{0===o.Player.assets(e,{public:!0}).length&&o.Metrics.videoCount(this,"player/no-public-assets")}catch(e){i=e,this.debug(i)}return this.isRemoved()?void this.notice("abort, video already removed"):e.error?(this.notice("display error message from server"),this._displayServerError(e),void this.trigger("servererror")):(this._originalMediaData=e,this._mediaData=this._transformMediaData(e),this.data.media=e,this.info("_optionSources",this._optionSources()),this._opts=this._gatherOptions(),this.info("_opts",o.obj.clone(this._opts)),o.obj.merge(this._mediaData,this._opts.mergeMediaData),this._inferPropertiesAfterMediaData(),r=t.choosePlayer(this.judyCtx(),this._mediaData,this._opts),this._playerPlugins=t.playerPlugins(this.judyCtx(),r,this._mediaData,this._opts),t.logWarnings(this.judyCtx(),r,this._mediaData,this._opts),this._implVersion+=1,n=this._implVersion,this._execPlugins(function(e){return function(){var i,s,a;if(e._implVersion!==n)return void e.notice("_initWithMediaData(): impl changed from",n,"to",e._implVersion,"not completing init");e.hasPlugins(!0),s=o.PublicApi.classFor(r),e.supportedPlayers=t.supportedPlayers(e.judyCtx(),e._mediaData.assets);try{e._impl=new s(e).init()}catch(t){throw i=t,e.error("Failed to initialize impl of class",s,"preferred",r,"supported",e.supportedPlayers),i}return e.grid=e._impl.setupGrid(),e._hasImpl(!0),e.hasData(!0),e._impl,(null!=(a=e._embedContainer)?a.parentNode:void 0)?(e._impl.embed(),e._runMethodsFromOptions(),o.timeout(e.uuid+".prefetch_next_media",function(){return e.prefetchNextMedia()},2e3),e._injectJsonLd()):e.notice("embed(): container removed, giving up")}}(this)))},i.prototype.judyCtx=function(){return this._judyCtx||(this._judyCtx=t.buildContext({pageUrl:this._attrs.pageUrl}))},i.prototype._iframeUrl=function(e){return null==e&&(e=""),e+"//"+o.remote.externalEmbedHost(e)+"/embed/iframe/"+this.hashedId()},i.prototype._removeJsonLd=function(){return this._jsonLd?(o.elem.remove(this._jsonLd),this._jsonLd=null):void 0},i.prototype._wvideoInUrl=function(){var e;return!this._opts._inIframe&&(e=o.url.parse(this._attrs.pageUrl),e.params.wvideo===this.hashedId())},i.prototype._scrollToContainer=function(){var e;return e=o.elem.offset(this.container),o.util.scrollTop(e.top-100)},i.prototype._injectJsonLd=function(){var e,t,i;if("notplayable"!==this.playerType&&(this._removeJsonLd(),!(this._opts._inIframe||!1===this._opts.seo||o.detect.browser.msie&&o.detect.browser.version<9)))return e={"@context":"http://schema.org/","@id":this._iframeUrl("https:"),"@type":"VideoObject",duration:"PT"+this.humanDuration().toUpperCase(),name:this.name(),thumbnailUrl:this.stillUrl({protocol:"https:"}),embedUrl:this._iframeUrl("https:"),uploadDate:this._createdAtIso8601()},this._mediaData.captions&&(e.transcript=null!=(t=this._mediaData.captions[0])?t.text:void 0),this._mediaData.seoDescription&&(e.description=this._mediaData.seoDescription),i=o.JSON.stringify(e),this._jsonLd=o.elem.fromObject({tagName:"script",type:"application/ld+json",childNodes:i}),this._jsonLd._wistia=!0,o.elem.append(document.head,this._jsonLd)},i.prototype._createdAtIso8601=function(){var e,t,i,n;return e=new Date(1e3*this._mediaData.createdAt),n=e.getFullYear(),i=e.getMonth()+1,t=e.getDate(),10>i&&(i="0"+i),10>t&&(t="0"+t),n+"-"+i+"-"+t},i.prototype._setDeprecatedProperties=function(){return this.options=o.obj.clone(this._opts),this.params=o.obj.clone(this._opts),o.obj.merge(this.params,this._attrs),this._attrs.email&&(this.params.trackEmail=this._attrs.email),this._hasImpl(function(e){return function(){var t;return e.playerType=e.embedType=null!=(t=e._impl)?t.playerType:void 0}}(this))},i.prototype.elem=function(){var e;return null!=(e=this._impl)&&"function"==typeof e.elem?e.elem():void 0},i.prototype._resetTracker=function(){var e;return null!=(e=this._tracker)&&e.reset(),this._tracker||(this._tracker=new o.VideoTracker2(this)),this.tracker=this._tracker,this._visitorKey=this._tracker.visitorKey(),this._tracker.monitor(),this.hasData(function(e){return function(){return e._impl._tracker=e._tracker}}(this))},i.prototype._execPlugins=function(e){return this._pluginScripts=o.plugin._scriptsFromVideo(this),this.info("_execPlugins",this._pluginScripts),o.plugin._execQueue(this,this._pluginScripts,e)},i.prototype._optionSources=function(e){var t,i,n,r,s;null==e&&(e={}),e=o.obj.merge({givenOptions:o.obj.clone(this._givenOptions),mediaData:o.obj.clone(this._mediaData),hashedId:this._hashedId,container:this.container},e),i=e.givenOptions,"v1"===i.version?t={}:e.mediaData?(t=o.obj.clone(e.mediaData.embed_options),delete t.stillUrl):t={},r={customize:t,global:o.options("__global__"),hashedId:o.options(e.hashedId),dom:o.options("__"+e.container.id+"_dom_options__"),container:o.options(e.container.id),inline:i};for(n in r)s=r[n],o.obj.isEmpty(s)&&delete r[n];return r},i.prototype._gatherOptions=function(e){var t,i,n,r,s,a;null==e&&(e={}),i={},s=this._optionSources(e);for(t in s)a=s[t],(null!=(n=e.only)?n.indexOf(t):void 0)>=0?o.obj.merge(i,a):(null!=(r=e.except)?r.indexOf(t):void 0)<0?o.obj.merge(i,a):e.only||e.except||o.obj.merge(i,a);return o.obj.cast(i),this._normalizeOptions(i),i},i.prototype.hashedId=function(e){return null!=e?(this._hashedId=e,this):this._hashedId},i.prototype._setupPlayerPlugins=function(e){},i.prototype._readyMp4s=function(){return o.Player.assets(this._mediaData,{container:"mp4",public:!0,status:o.Player.READY})},i.prototype._nonFailedMp4s=function(){return[].concat(o.Player.assets(this._mediaData,{container:"mp4",public:!0,status:o.Player.READY})).concat(o.Player.assets(this._mediaData,{container:"mp4",public:!0,status:o.Player.PROCESSING})).concat(o.Player.assets(this._mediaData,{container:"mp4",public:!0,status:o.Player.QUEUED}))},i.prototype._normalizeOptions=function(e){return e.twitter&&(this.info("twitter detected"),o.obj.get(e,"plugin.socialbar-v1")&&(this.info("disabled socialbar"),o.obj.set(e,"plugin.socialbar-v1.on",!1)),o.obj.get(e,"plugin.transcript-v2")&&(this.info("disabled transcript"),o.obj.set(e,"plugin.transcript-v2.on",!1))),null!=e.playButtonVisible&&(e.playButton=o.obj.cast(e.playButtonVisible),delete e.playButtonVisible),e},i.prototype._setupContainer=function(){return this._containerId=this._givenOptions.container?this._givenOptions.container:"wistia_"+this.hashedId(),"string"==typeof this._containerId?this.container=document.getElementById(this._containerId):this.container=this._containerId,this.container&&(this.container.wistiaApi=this,this._startingHtml=this.container.innerHTML,this.container.innerHTML="",o.elem.addClass(this.container,"wistia_embed_initialized")),this.info("container",this.container)},i.prototype._inferPropertiesBeforeMediaData=function(){var e;return this.chrome=o.elem.fromObject({id:o.seqId("wistia_chrome_"),class:"w-chrome",style:o.generate.relativeBlockCss()}),o.elem.style(this.chrome,{outline:"none",overflow:"hidden",boxSizing:"content-box",mozBoxSizing:"content-box",webkitBoxSizing:"content-box"}),e=this._gatherOptions(),this._shouldBePopover()?(this._embedContainer=o.elem.fromObject({id:this.container.id+"_popover",style:{height:this._popoverSize(e).height+"px",width:this._popoverSize(e).width+"px"}}),o.elem.append(document.body,this._embedContainer),this.popover=new o.Popover(this)):this._embedContainer=this.container,o.elem.append(this._embedContainer,this.chrome),e.uuid?this.uuid=e.uuid:this.uuid=o.seqId(),this.info("uuid",this.uuid),null!=e.playlistLoop&&(this._attrs.playlistLoop=e.playlistLoop),this._embedContainer?(this._attrs.startingWidth=o.elem.width(this._embedContainer),this._attrs.startingHeight=o.elem.height(this._embedContainer)):void 0},i.prototype._shouldBePopover=function(){var e;return e=this._gatherOptions(),!e._inIframe&&(!0===e.popover||"v2"===e.popover)},i.prototype._popoverSize=function(e){var t,i,n,r,o;return null==e&&(e=this._opts),null==e&&(e={}),e.popoverSize?(r=(null!=(n=e.popoverSize)?n.split("x"):void 0)||[640,360],o=r[0],t=r[1],o=parseInt(o),t=parseInt(t)):this._mediaData&&(i=this.asset({container:"mp4",width:[0,960],sortBy:"width desc"}))?(o=i.width,t=i.height):(o=640,t=360),{width:o,height:t}},i.prototype._inferPropertiesAfterMediaData=function(){var e,t,i,n,r;return this._attrs.shouldTrack=!this._opts.doNotTrack,this._attrs.seekThreshold=this._opts.seekThreshold||1.5,i=this._inferQualityRangeFromOpts(),t=i[0],e=i[1],this._attrs.qualityMin=t,this._attrs.qualityMax=e,this._attrs.qualityMax<this._attrs.qualityMin&&(this.error("qualityMax "+this._attrs.qualityMax+" is less than qualityMin "+this._attrs.qualityMin+". Setting qualityMax to "+this._attrs.qualityMin+"."),this._attrs.qualityMax=this._attrs.qualityMin),null!=this._opts.rawEmbed?this._attrs.rawEmbed=o.obj.cast(this._opts.rawEmbed):null!=this._opts._inIframe?this._attrs.rawEmbed=!o.obj.cast(this._opts._inIframe||!1):this._attrs.rawEmbed=!0,this._opts.pageUrl?this._attrs.pageUrl=this._opts.pageUrl:this._attrs.pageUrl||(this._attrs.pageUrl=(null!=(n=window.FreshUrl)?n.originalUrl:void 0)||location.href),null!=this._opts.trackEmail&&(this._attrs.email=this._opts.trackEmail),!this._attrs.email&&this._attrs.shouldTrack&&(r=this._extractEmailFromParams())&&(this._attrs.email=r),this._attrs.playerColor=o.Player._sanePlayerColor(this._opts.playerColor||"636155"),this._attrs.trackWithJs=!0,this._attrs.newStillLogic=!0,this._opts.noDeprecatedProperties||this._setDeprecatedProperties(),this},i.prototype._inferQualityRangeFromOpts=function(){var e,t,i,n,r,s,a,u,l,c;return t=360,e=2160,this._opts.videoQuality&&"auto"!==this._opts.videoQuality?"sd-only"===this._opts.videoQuality?[200,360]:"md"===this._opts.videoQuality?[540,e]:"hd-only"===this._opts.videoQuality?[720,e]:/width:/.test(this._opts.videoQuality)?(u=this._opts.videoQuality.match(/width:(\d+)/i),u[0],l=u[1],c=parseInt(l,10),(n=o.Player.asset(this._mediaData,{container:/mp4|flv/,status:o.Player.READY,public:!0}))?(i=n.width/n.height,r=Math.round(c/i),[r,r]):(this.warn("No assets available to determine aspect for videoQuality '"+this._opts.videoQuality+"', using default qualityMin/qualityMax"),[t,e])):(this.warn("Unknown videoQuality setting '"+this._opts.videoQuality+"', using default qualityMin/qualityMax"),[t,e]):(a=null!=this._opts.qualityMin?o.util.assetSizeShorthandToNumeric(this._opts.qualityMin):t,s=null!=this._opts.qualityMax?o.util.assetSizeShorthandToNumeric(this._opts.qualityMax):e,[a,s])},i.prototype._extractEmailFromParams=function(){var e,t,i,n,r;return(n=(null!=(t=this._attrs.pageUrl)?t.match(/wemail\=([^\&\#]+)/):void 0)||null)?n[1]:(r=(null!=(i=this._attrs.pageUrl)?i.match(/wkey\=([^\&\#]+)/):void 0)||null,r?(e=r[1],o.base64.decode(e)):null)},i.prototype._runMethodsFromOptions=function(){var e,t,i;return null!=this._opts.foreignData&&this.foreignData(this._opts.foreignData),null!=this._opts.email?this.email(this._opts.email):null!=this._opts.trackEmail&&this.email(this._opts.trackEmail),null!=this._opts.videoFoam&&this.videoFoam(this._opts.videoFoam),this._hasImpl(function(e){return function(){return null!=e._opts.playerColor&&"flash"!==e.playerType?e.playerColor(e._opts.playerColor):void 0}}(this)),null!=this._opts.volume&&this.volume(this._opts.volume),this._opts.suppressPlay&&this.suppressPlay(this._opts.suppressPlay),this._hasImpl(function(e){return function(){return!e.popover&&e._opts.autoPlay&&e._impl.canAutoPlay()?e.play():void 0}}(this)),this._opts.pause&&this.pause(),null!=this._opts.time?(t=o.detect.iphone||o.detect.ipad||o.detect.android,e=this.popover&&!this.popover._visible,i="playing"!==this.state()&&(t||e),this.time(this._opts.time,{lazy:i})):void 0},i.prototype._validate=function(){var e;if(e=this._errors(),e.length>0)throw new Error(e.join(", "));return!0},i.prototype._errors=function(){var e;return e=[],this.container||e.push('Could not find element with ID "'+this._containerId+'" in DOM. Failed to initialize video "'+this._hashedId+'".'),e},i.prototype._dedupContainer=function(){var e,t,i,n,r,s,a,u;if(o.data("video")){a=[],n=o.data("video");for(u in n)e=n[u],(null!=(r=e.container)?r.id:void 0)===this.container.id&&a.push(e);for(s=[],t=0,i=a.length;i>t;t++)e=a[t],this.notice("_dedupContainer",e.container.id),s.push(e.remove());return s}},i.prototype._addToGlobalCache=function(){return this.info("_addToGlobalCache",this.uuid),o.data(["video",this.uuid],this)},i.prototype._displayServerError=function(e){return e.iframe?this.container.innerHTML="<iframe src='"+o.proto()+"//"+o.remote.embedHost()+"/embed/iframe/"+this.hashedId()+"' height='"+this.height()+"' width='"+this.width()+"' frameborder='0' scrolling='no'></iframe>":this.container.innerHTML="<div style='background:#fff;border:2px dashed #ddd;color:#aaa;font-family:Century Gothic,Arial;font-size:14px;text-align:center;width:"+this.width()+";height:"+this.height()+";'><div style='padding:20px;'>"+(e.message||e.error)+"</div></div>"},i.prototype._implExec=function(){var e,t;return t=arguments[0],e=2<=arguments.length?r.call(arguments,1):[],this._hasImpl(function(i){return function(){var n;return i._impl[t]?(n=i._impl)[t].apply(n,e):i.warn(t+" is not defined",o.stacktrace())}}(this)),this},i.prototype._implGet=function(){var e,t,i,n;return i=arguments[0],t=arguments[1],e=3<=arguments.length?r.call(arguments,2):[],null==t&&(t=null),this._hasImpl()?this._impl[i]?(n=this._impl)[i].apply(n,e):this.warn(i+" is not defined",o.stacktrace()):t},i.prototype._implSetOrGet=function(){var e,t,i;return i=arguments[0],t=arguments[1],
e=3<=arguments.length?r.call(arguments,2):[],e.length>0?this._implExec.apply(this,[i].concat(r.call(e))):this._implGet(i,t)},i.prototype.rebuild=function(){return this._hasImpl(function(e){return function(){return e._impl.rebuild(),e._runMethodsFromOptions()}}(this))},i.prototype.fullRebuild=function(e){return null==e&&(e={}),this.replaceWith(this._impl._mediaData,o.obj.merge({force:this._impl.playerType,inPlace:!1,transition:"none"},e))},i.prototype.rebuildAs=function(e,t){return null==t&&(t={}),this.fullRebuild(o.obj.merge(this._givenOptions,t,{force:e,transition:"none"}))},i.prototype.replace=function(e,t){return null==t&&(t={}),this.replaceWith(e,o.obj.merge({inlineOptionsOnly:!0},t))},i.prototype.replaceWith=function(e,t){var i;return null==t&&(t={}),this.info("replaceWith",e,t),i=function(i){return function(){var n;return i._notReplacing(!1),i.hasData(!1),i._hasImpl(!1),o.obj.isObject(e)?i._replaceWithMediaData(e,t):(n=o.mediaFromCache(e))?i._replaceWithMediaData(n,t):o.remote.media(e,function(e){return i._replaceWithMediaData(e,t)},i._opts)}}(this),this._hasImpl(function(e){return function(){return e._notReplacing(i)}}(this)),this},i.prototype._replaceWithMediaData=function(){var e;return e=1<=arguments.length?r.call(arguments,0):[],this._impl.commandQueueOpen.synchronize(function(t){return function(i){return t._replaceWithMediaDataQueuable.apply(t,e),t._notReplacing(i)}}(this))},i.prototype._replaceWithMediaDataQueuable=function(e,i){var n,r,s,a,u,l,c,d,h,p,f,m;return null==i&&(i={}),o.remote._convertEmbedSslToAkamai(e),this.info("_replaceWithMediaData",e,i),e.error?(this._displayServerError(e),void this.trigger("servererror")):this._impl?(null!=i.playlistIndex?(this._playlistIndex=i.playlistIndex,delete i.playlistIndex):this._inPlaylist(e.hashedId)&&(this._playlistIndex=this._playlistIndexOf(e.hashedId)),null!=i.inlineOptionsOnly&&(a=i.inlineOptionsOnly,delete i.inlineOptionsOnly),null!=i.inPlace&&(s=i.inPlace,delete i.inPlace),null!=i.transition&&(f=i.transition,delete i.transition),null!=i.transitionTime&&(m=i.transitionTime,delete i.transitionTime),null!=i.pauseBefore?(c=i.pauseBefore,delete i.pauseBefore):c=!0,this.trigger("beforereplace"),this.hasData(!1),this._hasImpl(!1),this._tracker.stopMonitoring(),this._clobberVideoBindings(),this._savedState={},this._suspended=!1,l=this._impl,"function"==typeof l.wipeOutstandingAsyncFunctions&&l.wipeOutstandingAsyncFunctions(),c&&l.pause(),this._hashedId=e.hashedId,this._originalMediaData=e,this._mediaData=this._transformMediaData(e),this.data.media=e,this._givenOptions=i,this._opts=a?this._gatherOptions({only:"inline"}):this._gatherOptions(),!1===(null!=(d=this._mediaData.embed_options.plugin)&&null!=(h=d.passwordProtectedVideo)?h.on:void 0)&&null!=(null!=(p=this._opts.plugin)?p.passwordProtectedVideo:void 0)&&(this._opts.plugin.passwordProtectedVideo.on=!1),this.info("_opts",o.obj.clone(this._opts)),o.obj.merge(this._mediaData,this._opts.mediaData),this._inferPropertiesAfterMediaData(),r="notplayable"!==l.playerType&&("passwordprotected"!==l.playerType&&(!("html5"!==l.playerType||!o.elem.fullscreenElement())||(!!(o.detect.iphone||o.detect.android||o.detect.ipad)||null!=s&&s))),this.info("inPlace",r),u=t.choosePlayer(this.judyCtx(),this._mediaData,this._opts),this._playerPlugins=t.playerPlugins(this.judyCtx(),u,this._mediaData,this._opts),t.logWarnings(this.judyCtx(),u,this._mediaData,this._opts),this.turnOffPluginApis(),r&&(this.removePlugins(),l.stopStreaming()),this.hasPlugins(!1),l.commandQueueOpen.setQueue([]),this._implVersion+=1,n=this._implVersion,this._execPlugins(function(e){return function(){var i;return e._implVersion!==n?void e.notice("replaceWith(): impl changed from",n,"to",e._implVersion,"not completing replacement"):(e.hasPlugins(!0),e.supportedPlayers=t.supportedPlayers(e.judyCtx(),e._mediaData.assets),i=o.PublicApi.classFor(u),e._impl=new i(e).init(),e._setupBindings(),e.grid=r?e._impl.grid=l.grid:e._impl.setupGrid(),e._hasImpl(!0),e.hasData(!0),e._resetTracker(),r?e._replaceMode(function(){return e._impl.initFrom(l)}):e._replaceMode(function(){return e._embedWithTransitionFrom(l,f,{time:m})}),e.embedded(function(){return e._notReplacing(!0)}),e._runMethodsFromOptions(),e._allowContainerMatch()&&e.width(e.containerWidth(),{constrain:!0}),o.timeout(e._impl.uuid+".inject_json_ld",function(){return e._injectJsonLd()}),e.trigger("afterreplace"),o.timeout(e.uuid+".prefetch_next_media",function(){return e.prefetchNextMedia()},2e3))}}(this))):void this._initWithMediaData(e,i)},i.prototype._embedWithTransitionFrom=function(e,t,i){var n;return null==t&&(t="none"),this.info("_embedWithTransitionFrom",e,t),"function"==typeof(n=this._impl).transferStateFrom&&n.transferStateFrom(e),"slide"===t||"slideleft"===t?(this.info("slideleft"),e.slideOutLeft(i,function(){return e.remove()}),this._impl.embed(),this._impl.slideInLeft(i)):"slideright"===t?(this.info("slideright"),e.slideOutRight(i,function(){return e.remove()}),this._impl.embed(),this._impl.slideInRight(i)):"fade"===t?(this.info("fade"),"transparent"!==e._opts.wmode&&(e.grid.center.style.backgroundColor="#000"),null!=i.time&&(i.time=Math.round(i.time/2)),e.fadeOut(i,function(t){return function(){var n;return e.remove(),"transparent"!==t._impl._opts.wmode&&null!=(n=t._impl.grid)&&(n.center.style.backgroundColor="#000"),t._impl.embed(),t._impl.fadeIn(i,function(){var e;return null!=(e=t._impl)?e.grid.center.style.backgroundColor="":void 0})}}(this))):"crossfade"===t?(this.info("crossfade"),e.grid&&o.elem.style(e.grid.root,{position:"absolute",zIndex:0}),o.elem.style(this._impl.grid.root,{zIndex:1}),this._impl.embed(),this._impl.fadeIn(i,function(t){return function(){return e.remove(),o.elem.style(t._impl.grid.root,{zIndex:""})}}(this))):(this.info("no transition"),this._impl.embed(),e.remove())},i.prototype._clobberVideoBindings=function(){var e,t,i;t=this._bindings,i=[];for(e in t)t[e],"afterreplace"!==e&&"beforereplace"!==e&&"all"!==e?i.push(this.unbind(e)):i.push(void 0);return i},i.prototype._replaceMode=function(e){return this.info("_replaceMode",!0),this._impl._replacing=!0,e(),this._impl.embedded(function(e){return function(){return e._impl._replacing=!1,e.info("_replaceMode",!1)}}(this))},i.prototype.remove=function(){var e,t,i,n,r;return this.info("remove"),this.trigger("down"),this.trigger("beforeremove"),this._freeEmbedSlot(),this._implExec("remove",{trigger:!1}),this._hasImpl(!1),this._removeJsonLd(),null!=(e=this.popover)&&e.remove(),null!=(t=this._impl)&&t.stopStreaming(),o.elem.unbindAll(this._foamDummyElem),o.elem.remove(this._foamDummyElem),null!=(i=o.eventLoop)&&i.remove(this.uuid),o.clearTimeouts(this.uuid),this._unbindListeners(),o.elem.remove(this.chrome),o.removeData(["video",this.uuid]),this.trigger("afterremove"),this._bindings={},this.container.wistiaApi="removed",this._impl=null,null!=(n=window.__wistiaStores)&&(n[this.uuid]=null),null!=(r=window.__wistiaStores)?delete r[this.uuid]:void 0},i.prototype.fullRemove=function(){var e,t;return t=this._embedContainer,e=this.container,this.remove(),o.elem.remove(t),o.elem.remove(e),this.container=this._embedContainer=null,this},i.prototype.isRemoved=function(){return!o.data(["video",this.uuid])},i.prototype._unbindListeners=function(){return o.elem.unbindAllInside(this.chrome),this._throttleTriggerViewport?(o.elem.unbind(window,"scroll",this._throttleTriggerViewport),o.elem.unbind(window,"resize",this._doResize)):void 0},i.prototype._saveState=function(){return this._savedState={state:this.state(),time:this.time(),volume:this.volume(),inFullscreen:this.inFullscreen()}},i.prototype.suspend=function(){return this._suspended?void 0:(this._saveState(),this.info("suspend",o.obj.clone(this._savedState)),this.pause(),this.suppressPlay(!0),this.cancelFullscreen(),this._suspended=!0,this)},i.prototype.resume=function(e){var t;return null==e&&(e={}),t=o.obj.merge({},this._savedState,e),this.info("resume",o.obj.clone(t)),this._suspended=!1,this.suppressPlay(!1),this.volume(t.volume),t.time>0&&("ended"===t.state?"flash"===this.playerType&&this.duration()>1800?this.time(t.time-10):this.time(t.time-1):this.time(t.time)),"playing"===t.state&&this.play(),this},i.prototype._setupBindings=function(){return this.bind("afterend",function(e){return function(){if(!e._suspended){if(e.nextVideo())return e.embedNext();if(e._attrs.playlistLoop)return e.info("playlistLoop"),e.embedIndex(0,{autoPlay:!0})}}}(this)),this.bind("widthchange",function(e){return function(){var t,i;return null!=(t=e._impl)&&(t._width=e._width=e.width()),null!=(i=e._impl)?i._videoWidth=e._videoWidth=e.videoWidth():void 0}}(this)),this.bind("heightchange",function(e){return function(){return e._impl._height=e._height=e.height(),e._impl._videoHeight=e._videoHeight=e.videoHeight()}}(this)),null==this._throttleTriggerViewport&&(this._throttleTriggerViewport=o.util.throttle(300,function(e){return function(){var t;return t=e._isInViewportNow(),t&&!e._inViewport?(e.trigger("enterviewport"),e.inViewport(!0)):e._inViewport&&t?(e.trigger("leaveviewport"),e.inViewport(!1)):void 0}}(this))),o.elem.rebind(window,"scroll",this._throttleTriggerViewport),o.elem.rebind(window,"resize",this._doResize),this.bind("initembed",this._throttleTriggerViewport),this.bind("up",this._throttleTriggerViewport),this.bind("sphericaltap",function(e){return window.location=e})},i.prototype._isInViewportNow=function(){var e,t,i,n,r;return!this.down()&&!this.looksDown()&&(e=o.elem.offset(this.container),i=e.top,t=i+o.elem.height(this.container),r=o.util.scrollTop(),n=o.util.scrollTop()+o.elem.height(window),i>=r&&n>i||t>=r&&n>t||r>=i&&t>=n)},i.prototype._pauseEventLoop=function(){var e;return o.eventLoop.pause(this.uuid),(null!=(e=this._impl)?e.uuid:void 0)?o.eventLoop.pause(this._impl.uuid):void 0},i.prototype._unpauseEventLoop=function(){var e;return o.eventLoop.unpause(this.uuid),(null!=(e=this._impl)?e.uuid:void 0)?o.eventLoop.unpause(this._impl.uuid):void 0},i.prototype.playlistIndex=function(){return this._playlistIndexOf(this.hashedId())},i.prototype.nextVideo=function(){return this.playlistIndex()>=0?this._playlist[this.playlistIndex()+1]||null:null},i.prototype.previousVideo=function(){return this.playlistIndex()>0?this._playlist[this.playlistIndex()-1]||null:null},i.prototype._playlistIndexOf=function(e){var t,i,n,r;for(t=i=0,n=this._playlist.length;n>=0?n>=i:i>=n;t=n>=0?++i:--i)if((null!=(r=this._playlist[t])?r.hashedId:void 0)===e)return t;return-1},i.prototype._inPlaylist=function(e){return this._playlistIndexOf(e)>=0},i.prototype._setTransitionOptions=function(e){return e.transition||(e.transition=this._opts.playlistTransition||"fade"),e.transitionTime||(e.transitionTime=this._opts.playlistTransitionTime),e.playlistIndex&&"slide"===e.transition?e.playlistIndex>=this._playlistIndex?e.transition="slideleft":e.transition="slideright":void 0},i.prototype.embedNext=function(e){var t,i;return i=this.nextVideo(),this.info("embedNext",i),t=o.obj.merge({autoPlay:!0},i.options,e),t.playlistIndex=this._playlistIndex+1,this._setTransitionOptions(t),this.replaceWith(i.hashedId,t)},i.prototype.embedPrevious=function(e){var t,i;return i=this.previousVideo(),this.info("embedPrevious",i),t=o.obj.merge({autoPlay:!0},i.options,e),t.playlistIndex=this._playlistIndex-1,this.replaceWith(i.hashedId,t)},i.prototype.embedIndex=function(e,t){var i,n;return n=this._playlist[e],this.info("embedIndex",e,n),i=o.obj.merge({autoPlay:!0},n.options,t),i.playlistIndex=e,this.replaceWith(n.hashedId,i)},i.prototype.addToPlaylist=function(e,t,i){var n,r,s,a,u,l,c;for(null==t&&(t={}),null==i&&(i={}),null==this._playlist&&(this._playlist=[]),u=o.util.toArray(e),s=0,a=u.length;a>s;s++)r=u[s],n={hashedId:r,options:t},i=o.obj.clone(i),i.after?i.detect=function(e){return e.hashedId===i.after}:i.before&&(i.detect=function(e){return e.hashedId===i.before}),this.info("addToPlaylist",n,i),o.util.insertIntoArray(this._playlist,n,i),r===(null!=(l=this.nextVideo())?l.hashedId:void 0)?this.prefetchMedia(r,t):r===(null!=(c=this.previousVideo())?c.hashedId:void 0)&&this.prefetchMedia(r,t);return this.info("updated _playlist",o.obj.clone(this._playlist)),this._playlist},i.prototype.prefetchNextMedia=function(){var e;return!this._opts._inLegacyPlaylist&&(e=this.nextVideo())?this.prefetchMedia(e.hashedId,e.options):void 0},i.prototype.prefetchMedia=function(e,t){return this.info("@prefetchMedia",e),o.remote.media(e,function(i){return function(n){return i.info("prefetched",e),i._prefetchPluginScripts(n,t)}}(this),t)},i.prototype._prefetchPluginScripts=function(e,t){var i,n,r,s,a;if(this.info("@_prefetchPluginScripts for",e,t),r=this._gatherOptions({givenOptions:t,mediaData:e,hashedId:e.hashedId,container:this.container}),s=o.plugin._scriptsFromOptions(r),s=function(){var e,t,i;for(i=[],e=0,t=s.length;t>e;e++)a=s[e],o.plugin._prefetched[a.src]||i.push(a);return i}(),0===s.length)return void this.info("@_prefetchPluginScripts: no need to fetch plugins");for(i=0,n=s.length;n>i;i++)a=s[i],o.plugin._prefetched[a.src]="fetching";return this.info("prefetching scripts",s),o.remote.scripts(s,function(e){return function(){var t,i;for(t=0,i=s.length;i>t;t++)a=s[t],o.plugin._prefetched[a.src]="fetched";return e.info("prefetched scripts",s)}}(this))},i.prototype.addPlugin=function(e,t){return null==t&&(t={}),this.info("addPlugin",e,t),this._hasImpl(function(i){return function(){return i.hasPlugin(e)?void 0:o.plugin._inject(i,e,t)}}(this)),this},i.prototype.hasPlugin=function(e){return!!this.plugin[e]},i.prototype.turnOffPluginApis=function(){var e,t,i,n;this.info("turnOffPluginApis"),i=this.plugin,n=[];for(t in i)i[t],n.push("function"==typeof(e=this._pluginStopGos)[t]?e[t](!1):void 0);return n},i.prototype.removePlugins=function(){var e,t,i,n;this.info("removePlugins"),i=this.plugin,n=[];for(t in i)e=i[t],n.push("function"==typeof e.remove?e.remove():void 0);return n},i.prototype.containerWidth=function(){return this._attrs.rawEmbed&&o.detect.browser.old?o.grid.wrapperWidth(this):this._attrs.rawEmbed?o.elem.width(this._embedContainer):o.util.winWidth()},i.prototype.containerHeight=function(){return this._attrs.rawEmbed&&o.detect.browser.old?o.grid.wrapperHeight(this):this._attrs.rawEmbed?o.elem.height(this._embedContainer):o.util.winHeight()},i.prototype._goToDownState=function(){return this.info("_goToDownState"),this._stateBeforeDown=this._lastState,this.up(!1),this.down(!0),"flash"!==this.embedType&&this.pause(),this.ready(!1),this.trigger("down")},i.prototype._goToUpState=function(){var e;return this.info("_goToUpState"),this.down(!1),this.up(!0),this.ready(!1),"flash"===this.embedType?this.rebuild():(this.fit(),null!=(e=this._impl)&&e.checkForReady(),"playing"===this._stateBeforeDown&&this.play()),this.trigger("up")},i.prototype._checkDownState=function(){var e;return e=this.looksDown(),this.up()&&e?(this.info("moving to down state"),this._goToDownState()):this.down()&&!e?(this.info("moving to up state"),this._goToUpState()):void 0},i.prototype._removeHandleIfGoneFromDOM=function(){return!!this.embedded()&&(this.elem()?!(!this._embedContainer||this._embedContainer.parentNode)&&(this.warn("container removed from DOM",this._embedContainer.id),this.remove(),!0):(this.warn("video element removed from DOM",this._embedContainer.id),this.remove(),!0))},i.prototype._doFoam=function(){var e,t,i,n,r,s,a,u,l,c;return null==this._parentBoxSizing&&(this._parentBoxSizing=o.elem.style(this._embedContainer.parentNode,"box-sizing")),this.popover?(c=o.elem.width(window),l=o.elem.height(window),u=c/l,a=Math.min(c,l),e=a>500?160:Math.abs(u-this.aspect())<.2?.2*a:.1*a,s=u>this.aspect()?Math.round((l-e)*this.aspect()):c-e):"border-box"===this._parentBoxSizing||o.detect.browser.ltie8||o.detect.browser.msie&&8===o.detect.browser.version?(this._foamDummyElem||(this._foamDummyElem=o.elem.fromObject({class:"wistia_video_foam_dummy","data-source-container-id":this._embedContainer.id,style:{border:0,display:"block",height:0,margin:0,padding:0,position:"static",visibility:"hidden",width:"auto"}}),o.elem.before(this._embedContainer,this._foamDummyElem)),s=o.elem.width(this._foamDummyElem)):s=o.elem.width(this._embedContainer.parentNode),isNaN(s)||this._lastParentWidth===s&&this._didFoam?void 0:(this._didFoam=!0,r=s,n=r-this.extraWidth(),i=this.heightForWidth(n),t=i+this.extraHeight(),this.videoFoam().maxHeight&&t>this.videoFoam().maxHeight&&(t=this.videoFoam().maxHeight,i=t-this.extraHeight(),n=this.widthForHeight(i),r=n+this.extraWidth()),this.videoFoam().maxWidth&&r>this.videoFoam().maxWidth&&(r=this.videoFoam().maxWidth,n=r-this.extraWidth(),i=this.heightForWidth(n),t=i+this.extraHeight()),this.videoFoam().minHeight&&t<this.videoFoam().minHeight&&(t=this.videoFoam().minHeight,i=t-this.extraHeight(),n=this.widthForHeight(i),r=n+this.extraWidth()),this.videoFoam().minWidth&&r<this.videoFoam().minWidth&&(r=this.videoFoam().minWidth,n=r-this.extraWidth(),i=this.heightForWidth(n),t=i+this.extraHeight()),this.info("videoFoam set width",r),this.width(r,{constrain:!0}),this._lastParentWidth=s)},i.prototype._allowFoam=function(){var e;return this._hasImpl()&&this.grid&&this.up()&&this.looksUp()&&this._attrs.rawEmbed&&(this.videoFoam()||(null!=(e=this.popover)?e.isResponsive():void 0))},i.prototype._allowContainerMatch=function(){return this.up()&&!this._opts.dontMonitorSize&&!this.inFullscreen()},i.prototype._doContainerMatch=function(){var e,t;return t=this.containerWidth(),e=this.containerHeight(),this._lastWidth!==t&&(this.notice("container width changed to "+t+", matching"),this.width(t,{dontChangeContainer:!0}),this.info("_doContainerMatch set width",t),this.trigger("widthchange",t,this._lastWidth),this._lastWidth=t),this._lastHeight!==e?(this.notice("container height changed to "+e+", matching"),this.height(e,{dontChangeContainer:!0}),this.trigger("heightchange",e,this._lastHeight),this._lastHeight=e):void 0},i.prototype.monitor=function(){return this.info("monitor"),this._lastWidth=this._attrs.startingWidth,this._lastHeight=this._attrs.startingHeight,this._lastParentWidth=this.width(),this._didFoam=!1,this._hasImpl(function(e){return function(){return o.eventLoop.add(e.uuid+".monitor",500,e._doMonitor)}}(this))},i.prototype._doMonitor=function(){return this._removeHandleIfGoneFromDOM()?void 0:(this._checkDownState(),this.popover?this.popover.fixedSizeTooBigForWindow()?this._doFoam():this._opts.popoverSize?(this._lastWidth=this.width(),this._lastHeight=this.height(),this.width(this._popoverSize().width),this.height(this._popoverSize().height)):this._doFoam():this._allowFoam()?this._doFoam():this._allowContainerMatch()?this._doContainerMatch():void 0)},i.prototype.looksDown=function(){return!this._embedContainer||!o.elem.inDom(this._embedContainer)||o.elem.isHidden(this._embedContainer)},i.prototype.looksUp=function(){return!this.looksDown()},i.prototype._doResize=function(){return this._throttleTriggerViewport(),this._debounceDoMonitor||this.embedded(function(e){return function(){return o.util.requestAnimationFrame(function(){return e._doMonitor(),e._debounceDoMonitor=!1})}}(this)),this._debounceDoMonitor=!0},i.prototype._definePluginMethod=function(){return this.plugin?void 0:this.plugin=function(e){return function(t,i){var n;return(n=e._pluginStopGos[t])||(n=e._pluginStopGos[t]=new o.StopGo)(!!e.plugin[t]),n(function(){return i(e.plugin[t])})}}(this)},i.prototype.videoFoam=function(e){return null!=e?(this.info("videoFoam",e),this._attrs.videoFoam=e):this._attrs.videoFoam||!1},i.prototype._formattedDurationToSeconds=function(e){return o.TimeHelper.isValidHumanDuration(e)?o.TimeHelper.humanDurationToSeconds(e):o.TimeHelper.isValidIso8601(e)?o.TimeHelper.iso8601ToSeconds(e):e},i.prototype._transformAndUpdateMediaData=function(){var e;return this._mediaData=this._transformMediaData(this._originalMediaData),null!=(e=this._impl)?e._mediaData=this._mediaData:void 0},i.prototype._mediaDataTransforms=function(){var e;return e=[],o.remote._isEmbedSslMedia(this._originalMediaData)||this._useEmbedSslHost&&e.push(function(e){var t,i,n,r,s;for(r=e.assets,i=0,n=r.length;n>i;i++)t=r[i],t.url&&(s=o.url.parse(t.url),s.host="embed-ssl.wistia.com",s.protocol="https:",t.url=s.absolute());return e}),e},i.prototype._transformMediaData=function(e,t){var i,n,r,s;for(null==t&&(t=this._mediaDataTransforms()),r=o.obj.clone(e),i=0,n=t.length;n>i;i++)s=t[i],r=s(r);return r},i.prototype.specialBind=function(){var e,t,i,n,o,s;return t=arguments[0],e=2<=arguments.length?r.call(arguments,1):[],"crosstime"===t?(n=e[0],i=e[1],this.onCrossTime(n,i),!0):"betweentimes"===t&&(o=e[0],s=e[1],i=e[2],this.betweenTimes(o,s,i),!0)},i.prototype.specialUnbind=function(){var e,t,i,n,o,s;return t=arguments[0],e=2<=arguments.length?r.call(arguments,1):[],"crosstime"===t?(n=e[0],i=e[1],this.unbindOnCrossTime(n,i),!0):"betweentimes"===t&&(o=e[0],s=e[1],i=e[2],this.unbindBetweenTimes(o,s,i),!0)},i.prototype.onCrossTime=function(e,t){var i,n,r,s,a,u,l;if(!/^(\d+\.)?\d+$/.test(e))throw"onCrossTime: Expected first argument to be a number";if("function"!=typeof t)throw"onCrossTime: Expected second argument to be a function";return null==this._onCrossTimeBindings&&(this._onCrossTimeBindings={}),null==(n=this._onCrossTimeBindings)[e]&&(n[e]=[]),l=this.uuid+"."+o.uniqId("after_time_"),i=this.time()>e,r=function(n){return function(){return n.time()<e?s():i||(i=!0,t.call(n)!==n.unbind)?void 0:n.unbindOnCrossTime(e,t)}}(this),s=function(t){return function(){return t.time()>=e?(o.clearTimeouts(l),r()):i?void 0:o.timeout(l,r,1e3*(e-t.time()))}}(this),a=function(t){return function(){if(t.time()<e){if(i=!1,e-t.time()<2)return s()}else if(!i)return r()}}(this),u=function(e){return function(){return o.clearTimeouts(l)}}(),this.bind("play",a),this.bind("timechange",a),this.bind("pause",u),this.bind("end",u),this.bind("waiting",u),"playing"!==this.state()||i||a(),this._onCrossTimeBindings[e].push({fn:t,setupTimeoutFromNowIfClose:a,suspendTimeoutIndefinitely:u}),this},i.prototype.unbindOnCrossTime=function(e,t){var i,n,r,o,s,a;if(!this._onCrossTimeBindings||!this._onCrossTimeBindings[e])return this;for(i=null,r=0,a=this._onCrossTimeBindings[e],o=0,s=a.length;s>o;o++){if(n=a[o],n.fn===t){i=n;break}r+=1}return i?(this.unbind("play",i.setupTimeoutFromNowIfClose),this.unbind("timechange",i.setupTimeoutFromNowIfClose),this.unbind("pause",i.suspendTimeoutIndefinitely),this.unbind("end",i.suspendTimeoutIndefinitely),this.unbind("waiting",i.suspendTimeoutIndefinitely),this._onCrossTimeBindings[e].splice(r,1),0===this._onCrossTimeBindings[e].length&&delete this._onCrossTimeBindings[e],this):this},i.prototype.betweenTimes=function(e,t,i){var n,r,o,s;if(!/^(\d+\.)?\d+$/.test(e)||!/^(\d+\.)?\d+$/.test(t))throw"betweenTimes: Expected first two arguments to be numbers";if("function"!=typeof i)throw"betweenTimes: Expected second argument to be a function";return o=e+"-"+t,null==this._betweenTimeBindings&&(this._betweenTimeBindings={}),null==(n=this._betweenTimeBindings)[o]&&(n[o]=[]),s=!1,r=function(n){return function(){var r,o;return o=n.time(),o>=e&&t>o&&!s?(s=!0,r=i.call(n,s)):o>=e&&t>o||!s||(s=!1,r=i.call(n,s)),r===n.unbind?n.unbindBetweenTimes(e,t,i):void 0}}(this),this.onCrossTime(e,r),this.onCrossTime(t,r),this.bind("timechange",r),r(),this._betweenTimeBindings[o].push({fn:i,onTimechange:r}),this},i.prototype.unbindBetweenTimes=function(e,t,i){var n,r,o,s,a,u,l;if(l=e+"-"+t,!this._betweenTimeBindings[l])return this;for(n=null,o=0,u=this._betweenTimeBindings[l],s=0,a=u.length;a>s;s++){if(r=u[s],r.fn===i){n=r;break}o+=1}return n?(this.unbindOnCrossTime(e,n.onTimechange),this.unbindOnCrossTime(t,n.onTimechange),this.unbind("timechange",n.onTimechange),this._betweenTimeBindings[l].splice(o,1),0===this._betweenTimeBindings[l].length&&delete this._betweenTimeBindings[l],this):this},i.prototype.aspect=function(){return this._implGet("aspect",0)},i.prototype.asset=function(){return this._implGet.apply(this,["asset",null].concat(r.call(arguments)))},i.prototype.assets=function(){return this._implGet.apply(this,["assets",null].concat(r.call(arguments)))},i.prototype.bigPlayButtonEnabled=function(){return this._implSetOrGet.apply(this,["bigPlayButtonEnabled",!1].concat(r.call(arguments)))},i.prototype.bigPlayButtonTimeEnabled=function(){return this._implSetOrGet.apply(this,["bigPlayButtonTimeEnabled",!1].concat(r.call(arguments)))},i.prototype.canPlay=function(){return this._implGet("canPlay",!1)},i.prototype.cancelFullscreen=function(){return this._implExec("cancelFullscreen")},i.prototype.createControl=function(){return this._implGet.apply(this,["createControl",null].concat(r.call(arguments)))},i.prototype.destroyControl=function(){return this._implExec.apply(this,["destroyControl"].concat(r.call(arguments)))},i.prototype.duration=function(){return this._implGet("duration",null)},i.prototype.embedded=function(){return this._implSetOrGet.apply(this,["embedded",!1].concat(r.call(arguments)))},i.prototype.eventKey=function(){return this._tracker.eventKey()||null},i.prototype.extraHeight=function(){return this._implGet("extraHeight",0)},i.prototype.extraWidth=function(){return this._implGet("extraWidth",0)},i.prototype.fit=function(){return this._implExec("fit")},i.prototype.fullscreenButtonEnabled=function(){return this._implSetOrGet.apply(this,["fullscreenButtonEnabled",!1].concat(r.call(arguments)))},i.prototype.getRegion=function(){return this._implGet.apply(this,["getRegion",null].concat(r.call(arguments)))},i.prototype.hasData=function(){return this._implSetOrGet.apply(this,["hasData",!1].concat(r.call(arguments)))},i.prototype.height=function(){return this._implSetOrGet.apply(this,["height",null].concat(r.call(arguments)))},i.prototype.heightForWidth=function(){return this._implGet.apply(this,["heightForWidth",null].concat(r.call(arguments)))},i.prototype.humanDuration=function(){return o.TimeHelper.secondsToHumanDuration(this.duration())},i.prototype.ieSizeHack=function(){return this._implExec("ieSizeHack")},i.prototype.inFullscreen=function(){return this._implGet("inFullscreen",!1)},i.prototype.layout=function(){return this._implSetOrGet.apply(this,["layout","primary"].concat(r.call(arguments)))},i.prototype.look=function(){return this._implSetOrGet.apply(this,["look",{}].concat(r.call(arguments)))},i.prototype.mp4Asset=function(){return this._implGet.apply(this,["mp4Asset",null].concat(r.call(arguments)))},i.prototype.name=function(){return this._implGet("name","")},i.prototype.originalAsset=function(){return this._implGet.apply(this,["originalAsset",null].concat(r.call(arguments)))},i.prototype.pause=function(){return this._implExec("pause")},i.prototype.percentWatched=function(){return this._implGet("percentWatched",0)},i.prototype.playbarControlEnabled=function(){return this._implSetOrGet.apply(this,["playbarControlEnabled",!1].concat(r.call(arguments)))},i.prototype.play=function(){return this._implExec("play")},i.prototype.playbackRate=function(){return this._implSetOrGet.apply(this,["playbackRate",1].concat(r.call(arguments)))},i.prototype.playbackRateControlEnabled=function(){return this._implSetOrGet.apply(this,["playbackRateControlEnabled",!1].concat(r.call(arguments)))},i.prototype.playerColor=function(){return this._implSetOrGet.apply(this,["playerColor","636155"].concat(r.call(arguments)))},i.prototype.qualityControlEnabled=function(){return this._implSetOrGet.apply(this,["qualityControlEnabled",!1].concat(r.call(arguments)))},i.prototype.ready=function(){return this._implSetOrGet.apply(this,["ready",!1].concat(r.call(arguments)))},i.prototype.secondsWatched=function(){return this._implGet("secondsWatched",0)},i.prototype.secondsWatchedVector=function(){return this._implGet("secondsWatchedVector",[])},i.prototype.settingsControlEnabled=function(){return this._implSetOrGet.apply(this,["settingsControlEnabled",!1].concat(r.call(arguments)))},i.prototype.smallPlayButtonEnabled=function(){return this._implSetOrGet.apply(this,["smallPlayButtonEnabled",!1].concat(r.call(arguments)))},i.prototype.state=function(){return this._implGet("state","beforeplay")},i.prototype.stillUrl=function(){return this._implGet.apply(this,["stillUrl",null].concat(r.call(arguments)))},i.prototype.suppressPlay=function(){return this._implSetOrGet.apply(this,["suppressPlay",this].concat(r.call(arguments)))},i.prototype.time=function(){var e,t;return t=arguments[0],e=2<=arguments.length?r.call(arguments,1):[],null!=t?this._implSetOrGet.apply(this,["time",0,this._formattedDurationToSeconds(t)].concat(r.call(e))):this._implSetOrGet("time",0)},i.prototype.timeInHumanDuration=function(){return e.TimeHelper.secondsToHumanDuration(this._implGet.apply(this,["time",0].concat(r.call(arguments))))},i.prototype.timeInIso8601Duration=function(){return e.TimeHelper.secondsToIso8601(this._implGet.apply(this,["time",0].concat(r.call(arguments))))},i.prototype.trim=function(){return this._implSetOrGet.apply(this,["trim",{start:0,end:-1}].concat(r.call(arguments)))},i.prototype.videoHeight=function(){return this._implSetOrGet.apply(this,["videoHeight",null].concat(r.call(arguments)))},i.prototype.videoWidth=function(){return this._implSetOrGet.apply(this,["videoWidth",null].concat(r.call(arguments)))},i.prototype.visitorKey=function(){return this._tracker.visitorKey()||null},i.prototype.volume=function(){return this._implSetOrGet.apply(this,["volume",0].concat(r.call(arguments)))},i.prototype.volumeControlEnabled=function(){return this._implSetOrGet.apply(this,["volumeControlEnabled",!1].concat(r.call(arguments)))},i.prototype.width=function(){return this._implSetOrGet.apply(this,["width",null].concat(r.call(arguments)))},i.prototype.widthForHeight=function(){return this._implGet.apply(this,["widthForHeight",null].concat(r.call(arguments)))},i.prototype.chaptersEnabled=function(){return this._implSetOrGet.apply(this,["chaptersEnabled",null].concat(r.call(arguments)))},i.prototype.chaptersVisibleOnLoad=function(){return this._implSetOrGet.apply(this,["chaptersVisibleOnLoad",null].concat(r.call(arguments)))},i.prototype.addChapter=function(){return this._implExec.apply(this,["addChapter"].concat(r.call(arguments)))},i.prototype.getChapter=function(){return this._implGet.apply(this,["getChapter",null].concat(r.call(arguments)))},i.prototype.removeChapter=function(){return this._implExec.apply(this,["removeChapter"].concat(r.call(arguments)))},i.prototype.chapters=function(){return this._implSetOrGet.apply(this,["chapters",[]].concat(r.call(arguments)))},i.prototype.customerLogo=function(){return this._implExec.apply(this,["customerLogo"].concat(r.call(arguments)))},i.prototype.getEmail=function(){return this.email()},i.prototype.getEventKey=function(){return this.eventKey()},i.prototype.getVisitorKey=function(){return this.visitorKey()},i.prototype.setEmail=function(e){return this.email(e)},i.prototype.setPlayerColor=function(){return this._implExec.apply(this,["playerColor"].concat(r.call(arguments)))},i.prototype.removeReadyFn=function(){var e;return e=1<=arguments.length?r.call(arguments,0):[],this._hasImpl(function(t){return function(){var i;return(i=t._impl.ready).remove.apply(i,e)}}(this))},i.prototype.email=function(e){var t,i;return null!=e?(this.info("email",e),t=this._attrs.email,this._attrs.email=e,(null!=(i=this._opts)?i.noDeprecatedProperties:void 0)||(this.params.trackEmail=e),this._hasImpl(function(t){return function(){var i;return"function"==typeof(i=t._impl).email?i.email(e):void 0}}(this)),e!==t&&this.trigger("emailchange",e),this):this._attrs.email||null},i.prototype.foreignData=function(e){var t;if(void 0===e)return this._attrs.foreignData||this._foreignData||null;if(null===e)return this._attrs.foreignData=null,this.trigger("foreigndatachange",e);if(this.info("foreignData",e),!o.obj.isObject(e))throw new Error("foreignData can only be an Object");return e=o.obj.clone(e),this._attrs.foreignData=e,null!=(t=this.tracker)&&t.transmit({force:!0}),this.trigger("foreigndatachange",e)},i.prototype._shouldAsyncChain=function(){var e
;return this.popover||!this._isInViewportNow()||function(){var t,i,n,r;for(n=o.api.all(),r=[],t=0,i=n.length;i>t;t++)e=n[t],e.embedded()&&r.push(e);return r}().length>=3},i.prototype._maybeAsyncChain=function(e,t){return this._shouldAsyncChain()?o.asyncChain(e,t):o.chain(t)},i.classFor=function(e){var t;switch(e instanceof o.Player?e=e.embedType:e instanceof o.PublicApi&&(e=null!=(t=e._impl)?t.embedType:void 0),"vulcan"!==e||o.VulcanPlayer||(o.Metrics.count("player/vulcan-video-not-defined",1,{ua:navigator.userAgent,detect:o.detect}),o.error('PublicApi.classFor: embedType is vulcan but W.VulcanPlayer is not defined. Using "html5" instead.'),e="html5"),e){case"vulcan":return o.VulcanPlayer;case"html5":return o.Html5Player;case"flash":return o.FlashPlayer;case"external":return o.ExternalPlayer;case"notplayable":return o.NotPlayablePlayer;case"passwordprotected":return o.PasswordProtectedPlayer;default:return o.Player}},i}(),o.mixin(o.PublicApi.prototype,o.bindable),s=o.PublicApi.prototype.trigger,o.PublicApi.prototype.trigger=function(){var e,t,i;return t=arguments[0],e=2<=arguments.length?r.call(arguments,1):[],s.call.apply(s,[this,t].concat(r.call(e))),null!=(i=window.wistiaEmbeds)?i.trigger.apply(i,[t,this].concat(r.call(e))):void 0},o.mixin(o.PublicApi.prototype,o.logHelpers),o.PublicApi.prototype._logPrefix=function(){var e;return[this.constructor.name,this.hashedId()||"no hashedId",null!=(e=this.container)?e.id:void 0,this.uuid]})}(Wistia)},function(e,t,i){!function(e){var t,n,r,o,s,a,u,l,c,d;if(!e.remote)u=i(51),a=i(78),n=i(31),r=e.Hosts=i(25),t=e.Ajax=i(150),o=e.MediaData=i(244),s=e.PlaylistData=i(245),d=i(96),l=d.jsonp,c=d.jsonpPlus,e.remote={},e.remote.appHostname=u,e.remote.embedHost=r.cdnFastWistiaComHost,e.remote.externalEmbedHost=r.cdnFastWistiaNetHost,e.remote.appHost=r.appHost,e.remote.assetHost=r.deliveryHost,e.remote.assetUrlWithCorrectHost=function(e,t,i){return n.assetUrlWithCorrectHost(t,i)},e.remote.findScriptInDomBySrc=a.findScriptInDomBySrc,e.remote.script=a.runScript,e.remote.scripts=a.runScripts,e.remote.scriptInputsToHash=a.scriptInputsToHash,e.remote.ajaxDefaults=t.AJAX_DEFAULTS,e.remote.get=t.ajaxGet,e.remote.head=t.ajaxHead,e.remote.post=t.ajaxPost,e.remote.ajax=t.ajax,e.remote.canEditMedia=o.canEditMedia,e.remote.media=o.fetchMedia,e.remote._isEmbedSslMedia=o.isEmbedSslMedia,e.remote._convertEmbedSslToAkamai=o.convertEmbedSslToAkamai,e.cacheMedia=o.cacheMedia,e.uncacheMedia=o.uncacheMedia,e.mediaFromCache=o.mediaFromCache,e.remote.playlist=s.fetchPlaylist,e.remote.fetch=c,e.jsonp={get:l}}(Wistia)},function(e,t){!function(e){e.extend({seo:{writeMeta:function(e,t){this.metaExists(e)||this.forceWriteMeta(e,t)},forceWriteMeta:function(e,t){var i,n;n=document.getElementsByTagName("script")[0],i=document.createElement("meta"),i.setAttribute("property",e),i.setAttribute("content",t),i._wistia=!0,n.parentNode.insertBefore(i,n)},metaExists:function(e){var t,i,n,r;for(r=document.getElementsByTagName("meta"),t=0,i=r.length;i>t;t++)if(n=r[t],n.getAttribute("property")===e)return!0;return!1},inject:function(t,i){var n,r,o,s,a,u;null==i&&(i={}),this.metaExists("og:video")||(a=t.sitemap_entry,n={_mediaData:t,_givenOptions:i,_opts:i,_attrs:{}},r=new e.FlashPlayer(n),r.sdAsset=function(){return e.Player.asset(t,{container:"flv",sortBy:"width asc"})},u={playerColor:null!=(o=r._mediaData)&&null!=(s=o.embed_options)?s.playerColor:void 0},this.writeMeta("og:type","article"),this.writeMeta("og:title",(null!=a?a.title:void 0)||document.title||r.name()),this.writeMeta("og:url",(null!=a?a.loc:void 0)||location.href),this.writeMeta("og:image",e.Player.stillUrl(r._mediaData.assets,u)),this.writeMeta("og:video",""+t.flashPlayerUrl+e.url.jsonToParams(r.generateFlashVars())),i.videoWidth&&this.writeMeta("og:video:width",i.videoWidth),i.videoHeight&&this.writeMeta("og:video:height",i.videoHeight),this.writeMeta("og:video:type","application/x-shockwave-flash"))}}})}(Wistia)},function(e,t){var i=function(e,t){return function(){return e.apply(t,arguments)}};!function(e){e.Thumbnail||(e.Thumbnail=function(){function t(t,n){var r,o,s,a;this.container=t,this.options=n,this.hideOverlay=i(this.hideOverlay,this),this.showOverlay=i(this.showOverlay,this),this.touchend=i(this.touchend,this),this.touchmove=i(this.touchmove,this),this.touchstart=i(this.touchstart,this),this.click=i(this.click,this),this.mouseup=i(this.mouseup,this),this.mousedown=i(this.mousedown,this),this.mouseout=i(this.mouseout,this),this.mouseover=i(this.mouseover,this),this.blur=i(this.blur,this),this.keyup=i(this.keyup,this),this.focus=i(this.focus,this),this.loaded=new e.StopGo,this.uuid=(this.options.uuid||e.seqId())+".thumbnail",null==this.options.tabbable&&(this.options.tabbable=!0),(null!=(s=this.options.images)?s.length:void 0)>0||(a="http:"===e.proto()?"http://embed.wistia.com/deliveries/c0612aa8586d19f8471478c66c73ef7ab3f8e334/default-thumb.jpg":"https://embed-ssl.wistia.com/deliveries/c0612aa8586d19f8471478c66c73ef7ab3f8e334/default-thumb.jpg",this.options.images=[{url:a,height:360,width:640}]),this.elem=this.createElem(),this.options.prepend?e.elem.prepend(this.container,this.elem):e.elem.append(this.container,this.elem),this.img=this.createImg(),this.overlay=this.createOverlay(),this.fit(),this.setupBindings(),this.options.delayInit?(r=this.bestImage(),this.quickPreload(r.url)):this.initialize(),null!=this.options.bigPlayButton&&!1!==this.options.bigPlayButton&&(o=e.obj.isObject(this.options.bigPlayButton)?e.obj.clone(this.options.bigPlayButton):{},this.bigPlayButton=new e.BigPlayButton(this.elem,o))}return t.prototype.initialize=function(){return this.isBakeryThumbnail()?this.loadImageFirstTime():this.loadImageFirstTimeAndGetDimensions()},t.prototype.destroy=function(){var t;return null!=(t=this.bigPlayButton)&&t.destroy(),this.destroyBindings(),e.elem.remove(this.elem),this.elem=this.img=this.overlay=null},t.prototype.preventDefault=function(e){return e.preventDefault()},t.prototype.setupBindings=function(){return e.elem.bind(this.elem,"mouseover",this.mouseover),e.elem.bind(this.elem,"mouseout",this.mouseout),e.elem.bind(this.elem,"focus",this.focus),e.elem.bind(this.elem,"blur",this.blur),e.elem.bind(this.elem,"mousedown",this.mousedown),e.elem.bind(this.elem,"mouseup",this.mouseup),e.elem.bind(this.elem,"click",this.click),e.elem.bind(this.elem,"touchstart",this.touchstart),e.elem.bind(this.img,"mousedown",this.preventDefault)},t.prototype.destroyBindings=function(){return e.elem.unbind(this.elem,"mouseover",this.mouseover),e.elem.unbind(this.elem,"mouseout",this.mouseout),e.elem.unbind(this.elem,"focus",this.focus),e.elem.unbind(this.elem,"blur",this.blur),e.elem.unbind(this.elem,"mousedown",this.mousedown),e.elem.unbind(this.elem,"mouseup",this.mouseup),e.elem.unbind(this.elem,"click",this.click),e.elem.unbind(this.elem,"touchstart",this.touchstart),e.elem.unbind(this.img,"mousedown",this.preventDefault),e.elem.unbind(document,"touchmove",this.touchmove),e.elem.unbind(document,"touchend",this.touchend),e.elem.unbind(document,"keyup",this.keyup)},t.prototype.focus=function(){var t;return e.elem.addClass(this.elem,"wistia_focus"),e.elem.rebind(document,"keyup",this.keyup),this._focus=!0,"function"==typeof(t=this.options).onFocus&&t.onFocus.apply(t,arguments),!0},t.prototype.keyup=function(e){var t,i;return"function"==typeof(t=this.options).onKeyup&&t.onKeyup.apply(t,arguments),(32===e.keyCode||13===e.keyCode)&&"function"==typeof(i=this.options).onActivate&&i.onActivate.apply(i,arguments),!0},t.prototype.blur=function(){var t;return e.elem.unbind(document,"keyup",this.keyup),e.elem.removeClass(this.elem,"wistia_focus"),this._focus=!1,"function"==typeof(t=this.options).onBlur&&t.onBlur.apply(t,arguments),!0},t.prototype.mouseover=function(){var t;return e.elem.addClass(this.elem,"wistia_mouseover"),"function"==typeof(t=this.options).onMouseover&&t.onMouseover.apply(t,arguments),!0},t.prototype.mouseout=function(){var t;return e.elem.removeClass(this.elem,"wistia_mouseover"),"function"==typeof(t=this.options).onMouseout?t.onMouseout.apply(t,arguments):void 0},t.prototype.mousedown=function(){var t;return e.elem.addClass(this.elem,"wistia_mousedown"),"function"==typeof(t=this.options).onMousedown&&t.onMousedown.apply(t,arguments),!0},t.prototype.mouseup=function(){var t;return e.elem.removeClass(this.elem,"wistia_mousedown"),"function"==typeof(t=this.options).onMouseup&&t.onMouseup.apply(t,arguments),!0},t.prototype.click=function(){var e,t;return"function"==typeof(e=this.options).onClick&&e.onClick.apply(e,arguments),this._blockClickActivate||this._swiped||"function"==typeof(t=this.options).onActivate&&t.onActivate.apply(t,arguments),!0},t.prototype.touchstart=function(){var t;return"function"==typeof(t=this.options).onTouchstart&&t.onTouchstart.apply(t,arguments),this._swiped=!1,e.elem.bind(document,"touchmove",this.touchmove),e.elem.bind(document,"touchend",this.touchend),!0},t.prototype.touchmove=function(){var t;return e.timeout(this.uuid+".hide_overlay_later",this.hideOverlay,300),this._swiped=!0,"function"==typeof(t=this.options).onTouchmove&&t.onTouchmove.apply(t,arguments),!0},t.prototype.touchend=function(){var t,i;return e.elem.unbind(document,"touchmove",this.touchmove),e.elem.unbind(document,"touchend",this.touchend),"function"==typeof(t=this.options).onTouchend&&t.onTouchend.apply(t,arguments),this._swiped||("function"==typeof(i=this.options).onActivate&&i.onActivate.apply(i,arguments),this.blockClickActivateTemporarily()),this._swiped=!1,!0},t.prototype.blockClickActivateTemporarily=function(){return this._blockClickActivate=!0,e.timeout(this.uuid+".block_click_activate",function(e){return function(){return e._blockClickActivate=!1}}(this),350)},t.prototype.hide=function(){return this.elem.style.display="none"},t.prototype.show=function(){return this.elem.style.display="block"},t.prototype.isBakeryThumbnail=function(){return!this.isNonBakeryThumbnail()},t.prototype.isNonBakeryThumbnail=function(){return 1===this.options.images.length&&!e.Player.isBakeryUrl(this.options.images[0].url)},t.prototype.bestImage=function(t){var i,n,r,o,s,a;if(null==t&&(t=!1),a=this.sortedImages(),i=Math.max(e.elem.width(this.img),e.elem.width(this.container)),n=(window.devicePixelRatio||1)*i,!t){if(n<=a[0].width)return a[0];for(r=0,s=a.length;s>r;r++)if(o=a[r],o.width>=n)return o}return a[a.length-1]},t.prototype.sortedImages=function(){var t,i;return null!=this._sortedImages?this._sortedImages:this._sortedImages=function(){var n,r,o,s;for(o=this.options.images.sort(function(e,t){return e.width-t.width}),s=[],n=0,r=o.length;r>n;n++)i=o[n],t=e.obj.clone(i),t.aspect=t.width/t.height,s.push(t);return s}.call(this)},t.prototype.quickPreload=function(t){var i,n,r;return null==this._quickPreloads&&(this._quickPreloads={}),this._quickPreloads[t]?this._quickPreloads[t]:(this._quickPreloads[t]=r=new e.StopGo,n=new Image,i=function(t){return function(){return e.elem.unbind(n,"load",i),e.elem.unbind(n,"error",i),e.elem.inDom(t.container)?(e.clearTimeouts(t.uuid+".long_still_load"),r.go(n)):void 0}}(this),e.elem.bind(n,"load",i),e.elem.bind(n,"error",i),e.timeout(this.uuid+".long_still_load",i,1e3),n.src=t,r)},t.prototype.surePreload=function(t,i){var n,r;return r=new Image,n=function(t){return function(){return e.elem.unbind(r,"load",n),e.clearTimeouts(t.uuid+".long_still_load"),e.elem.inDom(t.container)&&"function"==typeof i?i(r):void 0}}(this),e.elem.bind(r,"load",n),r.src=t},t.prototype.loadImageFirstTimeAndGetDimensions=function(){var t;return t=this.bestImage(),this.quickPreload(t.url).then(function(i){return function(n){return e.elem.style(n,{visibility:"hidden",position:"absolute"}),e.elem.append(document.body,n),i._customHeight=e.elem.height(n),i._customWidth=e.elem.width(n),i._customAspect=i._customWidth/i._customHeight,e.elem.remove(n),i._sortedImages=null,i.elem&&i.img?(e.elem.append(i.elem,i.img),i.img.src=t.url,i.fitWithoutReload(),i.loaded(!0)):void 0}}(this))},t.prototype.loadImageFirstTime=function(){var t;return t=this.bestImage(),this.quickPreload(t.url).then(function(i){return function(){return i.elem&&i.img?(e.elem.append(i.elem,i.img),i.img.src=t.url,i.fitWithoutReload(),i.loaded(!0)):void 0}}(this))},t.prototype.loadImageAtProperSize=function(){var e;return e=this.bestImage(),this.surePreload(e.url,function(t){return function(){return t.elem&&t.img?(t.img.src=e.url,t.fitWithoutReload()):void 0}}(this))},t.prototype.createElem=function(){return e.elem.fromObject({id:this.uuid,tabindex:this.options.tabbable?"0":"-1",style:{cursor:"default",display:"block",height:"100%",overflow:"hidden",outline:"none",position:"relative",width:"100%"}})},t.prototype.createImg=function(){return e.elem.fromObject({tagName:"img",id:this.uuid+"_img",alt:this.getAltTextValue(),style:{border:0,display:"block",float:"none",height:"100%",margin:0,maxHeight:"none",maxWidth:"none",padding:0,position:"absolute",width:"100%"}})},t.prototype.getAltTextValue=function(){var e,t;return e="Wistia video thumbnail",t=null!=this.options.name?" - "+this.options.name:"",e+t},t.prototype.createOverlay=function(){var t,i;return t=e.elem.fromObject({id:this.uuid+"_overlay",style:{border:0,display:"block",float:"none",height:"100%",margin:0,maxWidth:"none",padding:0,pointerEvents:"none",position:"absolute",width:"100%"}}),e.detect.browser.msie&&(e.detect.browser.version<9||e.detect.browser.quirks)?(i=new e.Color(0,0,0).alpha(.5).toIeGradient(),e.elem.style(t,{filter:i})):e.elem.style(t,{backgroundColor:"rgba(0,0,0,.5)"}),t},t.prototype.showOverlay=function(){return e.elem.append(this.elem,this.overlay)},t.prototype.hideOverlay=function(){return e.elem.remove(this.overlay)},t.prototype.containerWidth=function(){return e.elem.width(this.container)},t.prototype.containerHeight=function(){return e.elem.height(this.container)},t.prototype.containerAspect=function(){return this.containerWidth()/this.containerHeight()},t.prototype.fitStrategy=function(e){return null!=e?(this.options.fitStrategy=e,this.fit()):/^cropfill|letterbox$/.test(this.options.fitStrategy)?this.options.fitStrategy:"letterbox"},t.prototype.fit=function(){return this.fitWithoutReload(),this.loadImageAtProperSize()},t.prototype.fitWithoutReload=function(){var t;return e.elem.style(this.elem,{height:this.containerHeight()+"px",width:this.containerWidth()+"px"}),"cropfill"===this.fitStrategy()?this.cropFillFit():this.letterboxFit(),null!=(t=this.bigPlayButton)?t.fit():void 0},t.prototype.stretchLimit=function(){return null!=this.options.stretchLimit?this.options.stretchLimit:10},t.prototype.cropFillFit=function(){var t,i,n,r,o,s,a,u,l,c;return t=this._customAspect||this.bestImage().aspect,r=this.containerWidth(),n=this.containerHeight(),i=this.containerAspect(),!1===this.options.stillSnap?(s=r,o=n):i>t?(s=r,o=Math.round(s/t)):t>=i&&(o=n,s=Math.round(o*t)),c=n-o,u=r-s,l=Math.round(c/2),a=Math.round(u/2),Math.abs(2*l)<=this.stretchLimit()&&(l=0,o=n),Math.abs(2*a)<=this.stretchLimit()&&(a=0,s=r),e.elem.isHidden(this.elem)||!e.elem.inDom(this.elem)?(e.elem.style(this.img,{height:"100%",width:"100%"}),a=l=0):e.elem.style(this.img,{height:o+"px",width:s+"px"}),e.elem.style(this.img,{border:0,left:a+"px",top:l+"px"})},t.prototype.letterboxFit=function(){var t,i,n,r,o,s,a,u,l,c,d,h,p,f,m;return t=this._customAspect||this.bestImage().aspect,s=this.containerWidth(),o=this.containerHeight(),r=this.containerAspect(),!1===this.options.stillSnap?(l=s,u=o):r>t?(u=o,l=Math.round(u*t)):t>=r&&(l=s,u=Math.round(l/t)),m=Math.max(0,o-u),p=Math.max(0,s-l),f=Math.round(m/2),h=Math.round(p/2),d=n=f,a=c=h,2*n<=this.stretchLimit()&&(n=0,d=0,u=o),2*a<=this.stretchLimit()&&(a=0,c=0,l=s),i=this.options.backgroundColor||"#000","transparent"===i||new e.Color(i).alpha(.8).toRgbaOrHex(),e.elem.isHidden(this.elem)||!e.elem.inDom(this.elem)?(e.elem.style(this.img,{height:"100%",width:"100%"}),d=n=c=0):e.elem.style(this.img,{height:u+"px",width:l+"px"}),e.elem.style(this.img,{borderTop:d+"px solid "+i,borderBottom:n+"px solid "+i,borderLeft:a+"px solid "+i,borderRight:c+"px solid "+i,left:0,top:0})},t}())}(Wistia)},function(e,t,i){var n=function(e,t){return function(){return e.apply(t,arguments)}},r=[].slice;!function(e){var t,o,s,a,u;s=e,s.Player||(a=i(70),o=i(183),t=i(31),s.Player=function(){function u(e){this.publicApi=e,this.finishWaitingLoop=n(this.finishWaitingLoop,this),this.masterM3u8Asset=n(this.masterM3u8Asset,this),this._percentWatchedThreshold=n(this._percentWatchedThreshold,this),this.uuid=s.seqId(),this.info("constructor"),this.chrome=this.publicApi.chrome,this.transferFacadeProperties(),this.ready=new s.StopGo,this.hasData=new s.StopGo,this.embedded=new s.StopGo,this.commandQueueOpen=new s.StopGo,this.hasData(!0),this.commandQueueOpen(!0),this.playing=new s.StopGo,this.notFullscreen=new s.StopGo,this.plugin||(this.plugin={}),this.resetStateVariables(),this.setupPercentTracking(),this._recordFirstEmbedIfEligible()}return u.FAILED=-1,u.QUEUED=0,u.PROCESSING=1,u.READY=2,u.prototype.init=function(){return this.setupPipedreamTracking(),this},u.prototype.transferFacadeProperties=function(){var e,t,i,n,r;for(n="_attrs\n_embedContainer\n_givenOptions\n_hashedId\n_mediaData\n_opts\n_originalMediaData\nchrome\ncontainer\ndata\ndown\nfullscreenContainer\nup".split(/[\n\s]+/),r=[],e=0,t=n.length;t>e;e++)i=n[e],r.push(this[i]=this.publicApi[i]);return r},u.prototype.elem=function(){return null},u.prototype.embed=function(){throw new Error("Define in subclass!")},u.prototype.checkForReady=function(){throw new Error("Define in subclass!")},u.prototype.setupGrid=function(){return this.grid||(this.grid=s.createGrid(this),s.elem.append(this.chrome,this.grid.root)),this.grid},u.prototype.placeEmbed=function(e){var t;return t=this._opts.subContainer?this._embedContainer:this.grid.center,this.info("placeEmbed",t,e),this.wrapperElem=s.elem.fromObject({id:s.seqId("wistia_video_wrapper_"),style:s.generate.relativeBlockCss()}),s.elem.style(this.wrapperElem,{overflow:"hidden"}),s.elem.append(t,this.wrapperElem),"string"==typeof e?this.wrapperElem.innerHTML+=e:s.elem.append(this.wrapperElem,e),this.embedded(function(e){return function(){return e.correctForIntegers()}}(this)),this.ieSizeHack()},u.prototype.stopStreaming=function(){},u.prototype.wipeOutstandingAsyncFunctions=function(){var e;return this.info("wipeOutstandingAsyncFunctions"),null!=(e=s.eventLoop)&&e.remove(this.uuid),s.clearTimeouts(this.uuid),this._remoteMediaKey?s.clearTimeouts(this._remoteMediaKey):void 0},u.prototype.resetStateVariables=function(){return this.info("resetStateVariables"),this._lastTimePosition=-1,this._lastState="beforeplay",this._streamSet=!1,this._issuedPlay=!1,this._issuedPause=!1,this._beforePlay=!0,this._hasPlayed=!1,this._waiting=0,this._ended=!1,this.playing(!1)},u.prototype.rebuild=function(e){return null==e&&(e={}),this.info("rebuild"),this.embedded(function(e){return function(){return e.ready(!1),e._oldVideoElem=e.elem(),e.stopStreaming(),s.elem.remove(e.wrapperElem),e.wipeOutstandingAsyncFunctions(),e.embed()}}(this)),this},u.prototype.cdnProtocolAndHost=function(){var e,t;return t=s.url.parse((this.mp4Asset()||this.hlsAsset()||this.flashAsset()).url),e=t.host||"embed-ssl.wistia.com",(t.protocol||s.proto())+"//"+e},u.prototype.cancelFullscreen=function(){return this.info("cancelFullscreen"),this.rebuild()},u.prototype.requestFullscreen=function(){},u.prototype.suspend=function(){return this.publicApi.suspend()},u.prototype.resume=function(){return this.publicApi.resume()},u.prototype.fit=function(){return this.info("fit"),s.detect.browser.old&&(this._embedContainer.style.width=this._opts.videoWidth+"px",this._embedContainer.style.height=this._opts.videoHeight+"px"),this._opts.dontFit||(this.grid.root.style.height=s.elem.height(this.chrome)+"px",this.grid.root.style.width=s.elem.width(this.chrome)+"px"),s.grid.fitVertical(this),s.grid.fitHorizontal(this),this.correctForIntegers(),this.ieSizeHack()},u.prototype.setupPercentTracking=function(){var e,t,i;if(!this._trackPercent){if("playing"===this.state())for(i=e=0,t=Math.floor(this.time());t>=0?t>e:e>t;i=t>=0?++e:--e)this._logSecondWatched(i);return null==this._trackPercent&&(this._trackPercent=function(e){return function(t){var i;return i=e.percentWatched(),e._logSecondWatched(t),e.percentWatched()!==i?(e.trigger("percentwatchedchanged",e.percentWatched(),i),e._percentWatchedThreshold(e.percentWatched())):void 0}}(this)),this.rebind("secondchange",this._trackPercent)}},u.prototype._percentWatchedThreshold=function(e){var t,i,n,r,o,s;for(null==this._thresholds&&(this._thresholds=[.25,.5,.75,1]),s=[],n=Math.round(100*e)/100,r=this._thresholds,t=0,i=r.length;i>t;t++)o=r[t],n>=o?this.trigger("percentWatchedThreshold",o):s.push(o);return this._thresholds=s},u.prototype._checkDownState=function(){return this.publicApi._checkDownState()},u.prototype._logSecondWatched=function(e){var t;return null==this._secondsWatched&&(this._secondsWatched=function(){var e,i,n;for(n=[],t=e=0,i=Math.floor(this.duration());i>=0?i>e:e>i;t=i>=0?++e:--e)n.push(0);return n}.call(this)),null==this._totalWatched&&(this._totalWatched=0),null==this._totalRewatched&&(this._totalRewatched=0),e>=this._secondsWatched.length?void 0:(this._secondsWatched[e]+=1,1===this._secondsWatched[e]?this._totalWatched+=1:this._totalRewatched+=1)},u.prototype.percentWatched=function(){return this.secondsWatched()/Math.floor(this.duration())},u.prototype.secondsWatched=function(){return this._totalWatched||0},u.prototype.secondsWatchedVector=function(){return this._secondsWatched},u.prototype._isOnWistia=function(){return this._opts._inIframe?!!document.referrer.match(/wistia\.(dev|st|com)/):!!window.location.href.match(/wistia\.(dev|st|com)/)},u.prototype._isLoggedIn=function(){var e;return null!=(e=document.getElementsByTagName("body")[0])?e.classList.contains("logged_in"):void 0},u.prototype._isShared=function(){return this._isOnWistia()&&!this._isLoggedIn()},u.prototype._isExternallyEmbedded=function(){return!this._isOnWistia()},u.prototype._recordFirstEmbedIfEligible=function(){var t,n,r;if(this._mediaData.firstEmbedForAccount||this._mediaData.firstShareForAccount)return t=i(25).appHost,r=s.url.proto()+"//"+t()+"/account/activities",n={account_key:this._mediaData.accountKey,media_hashed_id:this._mediaData.hashedId},this._mediaData.firstEmbedForAccount&&this._isExternallyEmbedded()?(n.first_embed=this._isExternallyEmbedded(),e.remote.post(r,{data:s.JSON.stringify(n),dataType:"json"})):this._mediaData.firstShareForAccount&&this._isShared()?(n.first_share=this._isShared(),e.remote.post(r,{data:s.JSON.stringify(n),dataType:"json"})):void 0},u.prototype.setupPipedreamTracking=function(){return this._opts.flashShim?void 0:(this.embedded(function(e){return function(){return e._opts.flashShim?void 0:(s.timeout(e.uuid+".track-initembed",function(){var t,i,n,r,a;for(s.Metrics.videoCount(e,"player/initembed"),a=s.Metrics.assetBuckets(e),n=0,r=a.length;r>n;n++)i=a[n],s.Metrics.videoCount(e,"player/initembed."+i);return t=o.usablePlayers(e.publicApi.judyCtx(),e.publicApi._mediaData),s.Metrics.videoCount(e,"player/available-players",1,{available_players:t})},100),e.bind("switched-asset-without-load",function(){return this._determineAssetCacheStatus(function(e){return function(){return s.Metrics.videoCount(e,"player/asset/"+e._cacheStatus)}}(this))}))}}(this)),this.bind("play",function(e){return function(){var t,i,n,r;for(s.Metrics.videoCount(e,"player/play"),r=s.Metrics.assetBuckets(e),i=0,n=r.length;n>i;i++)t=r[i],s.Metrics.videoCount(e,"player/play."+t);return e.unbind}}(this)),s.Metrics.countEventOnce(this,"enter-fullscreen"),s.Metrics.countEventOnce(this,"end"),s.Metrics.countShowLoadingOnce(this),s.Metrics.countShowLoadingAll(this),s.Metrics.countShowLoadingLongTimeOnce(this),s.Metrics.countShowLoadingLongTimeAll(this),this.bind("secondchange",function(e){return function(){return e.secondsWatched()>=10?(s.Metrics.videoCount(e,"player/played-10-seconds"),e.unbind):void 0}}(this)),this.bind("secondchange",function(e){return function(){return e.secondsWatched()>=30?(s.Metrics.videoCount(e,"player/played-30-seconds"),e.unbind):void 0}}(this)))},u.prototype.animate=function(e,t){var i;return null==e&&(e={}),null==t&&(t={}),this.info("animate",e,t),i=t.callback,t.callback=function(e){return function(){return s.elem.style(e.grid.root,{position:"relative"}),"function"==typeof i?i():void 0}}(this),s.elem.style(this.grid.root,{position:"absolute"}),s.elem.animate(this.grid.root,e,t),this},u.prototype.slide=function(){var e,t,i;return e=arguments[0],i=arguments[1],t=3<=arguments.length?r.call(arguments,2):[],this.animate.apply(this,[{transform:"translate("+e+"px,"+i+"px)"}].concat(r.call(t)))},u.prototype._shortAnimArgs=function(e){return"function"==typeof e[0]?{callback:e[0]}:s.obj.merge({},e[0],{callback:e[1]})},u.prototype.slideOutLeft=function(){var e;return e=this._shortAnimArgs(arguments),s.elem.style(this.grid.root,{transform:"translate(0px, 0px)"}),setTimeout(function(t){return function(){return t.slide(-t.videoWidth(),0,e)}}(this),1),this},u.prototype.slideInLeft=function(e){var t;return t=this._shortAnimArgs(arguments),s.elem.style(this.grid.root,{transform:"translate("+this.videoWidth()+"px, 0px)"}),setTimeout(function(e){return function(){return e.slide(0,0,t)}}(this),1),this},u.prototype.slideOutRight=function(e){var t;return t=this._shortAnimArgs(arguments),s.elem.style(this.grid.root,{transform:"translate(0px, 0px)"}),setTimeout(function(e){return function(){return e.slide(e.videoWidth(),0,t)}}(this),1),this},u.prototype.slideInRight=function(){var e;return e=this._shortAnimArgs(arguments),s.elem.style(this.grid.root,{transform:"translate("+-this.videoWidth()+"px, 0px)"}),setTimeout(function(t){return function(){return t.slide(0,0,e)}}(this),1),this},u.prototype.fade=function(){var e,t,i;return t=arguments[0],e=2<=arguments.length?r.call(arguments,1):[],null==t&&(t=0),(i=s.elem).animate.apply(i,[this.gridChildren(),{opacity:t}].concat(r.call(e)))},u.prototype.fadeIn=function(){var e,t;return t=this._shortAnimArgs(arguments),e=t.callback,t.callback=function(t){return function(){return s.elem.style(t.gridChildren(),{opacity:""}),"function"==typeof e?e():void 0}}(this),s.elem.style(this.gridChildren(),{opacity:0}),setTimeout(function(e){return function(){return e.fade(1,t)}}(this),1)},u.prototype.fadeOut=function(){var e;return e=this._shortAnimArgs(arguments),s.elem.style(this.gridChildren(),{opacity:1}),setTimeout(function(t){return function(){return t.fade(0,e)}}(this),1)},u.prototype.gridChildren=function(){var e,t,i,n,r,o,a,u;a=[],r=this.grid;for(u in r)for(n=r[u],o=n.childNodes,t=0,i=o.length;i>t;t++)e=o[t],s.isGridElem(this.grid,e)||a.push(e);return a},u.prototype.correctForIntegers=function(){var e,t,i,n,r,o,a,u;if(!s.detect.iphone&&!s.detect.ipad&&(i=this.elem(),(null!=i?i.style:void 0)&&/video/i.test(null!=i?i.tagName:void 0)&&(e=this.videoHeight(),t=this.videoWidth(),r=e*this.originalAspect(),n=2*Math.floor(t/this.originalAspect()/2),a=n-e,u=r-t,o=s.detect.firefox&&s.detect.browser.mozilla&&s.detect.browser.version>=36,!s.detect.browser.webkit&&!o)))return a>0&&6>=a?(this.info("correctForIntegers heightDiff",a),i.style.height="calc(100% + "+Math.ceil(a)+"px)",i.style.width="100%",i.style.left="",i.style.top=a>1?-Math.ceil(a/2)+"px":""):u>0&&6>=u?(this.info("correctForIntegers widthDiff",u),i.style.width="calc(100% + "+Math.ceil(u)+"px)",i.style.height="100%",i.style.top="",i.style.left=u>1?-Math.ceil(u/2)+"px":""):(this.info("correctForIntegers perfect"),i.style.height="100%",i.style.width="100%",i.style.top="",i.style.left="")},u.prototype.remove=function(e){var t,i,n,r,o;if(null==e&&(e={}),this.info("remove"),!1!==e.trigger&&this.trigger("beforeremove"),this.hasData(!1),this.ready(!1),this.embedded(!1),null!=(n=this.engine)&&n.destroy(),this.stopStreaming(),"passwordprotected"!==this.playerType){r=this.plugin;for(i in r)null!=(t=r[i])&&"function"==typeof t.remove&&t.remove()}return(null!=(o=this.grid)?o.root:void 0)&&(s.elem.unbindAllInside(this.grid.root),s.elem.remove(this.grid.root)),this.grid=null,!1!==e.trigger&&this.trigger("down"),!1!==e.trigger&&this.trigger("afterremove"),this.wipeOutstandingAsyncFunctions(),this._bindings={},this.cleanupRefs()},u.prototype.isRemoved=function(){return null===this.grid},u.prototype.cleanupRefs=function(){var e,t,i;"function"==typeof this.cleanup&&this.cleanup(),i=[];for(e in this)this[e],i.push(null!=(t=this[e])&&"function"==typeof t.cleanup?t.cleanup():void 0);return i},u.prototype._baseEventLoopDuration=300,u.prototype._eventLoopDuration=300,u.prototype.canAutoPlay=function(){return!this.suppressPlay()},u.prototype.play=function(){return this.info("play"),this.ready(function(e){return function(){return e.play()}}(this)),this},u.prototype.canPlay=function(){return!this.suppressPlay()},u.prototype.suppressPlay=function(e){return null!=e?(this.info("suppressPlay",e),this._suppressPlay=!!e):this._suppressPlay},u.prototype.videoFoam=function(){var e;return(e=this.publicApi).videoFoam.apply(e,arguments)},u.prototype.pause=function(){return this.info("pause"),this.ready(function(e){return function(){return e.pause()}}(this)),this},u.prototype.time=function(e){return null!=e?(this.info("time",e),this.ready(function(t){return function(){return t.time(e)}}(this)),this):0},u.prototype.state=function(){return"beforeplay"},u.prototype.duration=function(){return this._mediaData.duration||null},u.prototype.volume=function(e){return null!=e?(this.info("volume",e),this.ready(function(t){return function(){return t.volume(e)}}(this))):0},u.prototype.name=function(){return this._mediaData.name||null},u.prototype.hashedId=function(){return this._hashedId},u.prototype.bigPlayButtonEnabled=function(){return this},u.prototype.smallPlayButtonEnabled=function(){return this},u.prototype.playbarControlEnabled=function(){return this},u.prototype.volumeControlEnabled=function(){return this},u.prototype.fullscreenButtonEnabled=function(){return this},u.prototype.setPlayerColor=function(e){return this.playerColor(e),this},u.prototype.playerColor=function(e){var t;return null!=e?(this.info("playerColor",e),t=this._attrs.playerColor,this._attrs.playerColor=s.Player._sanePlayerColor(e),t!==this._attrs.playerColor&&this.trigger("playercolorchange",this._attrs.playerColor,t),this):this._attrs.playerColor},u._sanePlayerColor=function(e){var t,i,n;if(e){if(e=(""+e).replace(/^#/g,""),e.length<6){for(i="",t=0,n=6-e.length;n>=0?n>t:t>n;n>=0?++t:--t)i+="0";e=""+i+e}return/^[\da-f]{6}$/i.test(e)||(e="636155"),e}return"636155"},u.prototype.playbackRate=function(e){return null!=e?this:1},u.prototype.width=function(e,t){var i,n,r,o,a;return null==t&&(t={}),null!=e?(this.info("width",e,t),e=parseInt(e,10),i=this.width(),this.grid.wrapper.style.width=this.chrome.style.width=e+"px",t.dontChangeContainer||(this._embedContainer.style.width=e+"px"),this.grid.center.style.width="100%","flash"===this.embedType&&null!=(n=this.elem())&&(n.style.width="100%"),this._opts.dontFit?(this.grid.main.style.width=e-s.elem.width(this.grid.left)-s.elem.width(this.grid.right)+"px",this.grid.main.style.marginLeft=s.elem.width(this.grid.left)+"px"):(s.grid.fitHorizontal(this),s.grid.fitVertical(this)),e!==i&&this.trigger("widthchange",e,i),t.constrain&&this.constrainToWidth(),this._width=e,this.correctForIntegers(),this.ieSizeHack(),this):(s.detect.browser.old&&null!=(r=this.elem())&&(r.style.position="absolute"),a=s.elem.width(this.grid.left)+s.elem.width(this.grid.center)+s.elem.width(this.grid.right),s.detect.browser.old&&null!=(o=this.elem())&&(o.style.position="static"),a)},u.prototype.height=function(e,t){var i,n,r,o,a;return null==t&&(t={}),null!=e?(this.info("height",e,t),e=parseInt(e,10),i=this.height(),this.grid.wrapper.style.height=this.chrome.style.height=e+"px",t.dontChangeContainer||(this._embedContainer.style.height=e+"px"),this.grid.center.style.height="100%","flash"===this.embedType&&null!=(n=this.elem())&&(n.style.height="100%"),
this._opts.dontFit?(this.grid.main.style.height=e-s.elem.height(this.grid.above)-s.elem.height(this.grid.below)+"px",this.grid.main.style.marginTop=s.elem.height(this.grid.top)+"px"):(s.grid.fitHorizontal(this),s.grid.fitVertical(this)),e!==i&&this.trigger("heightchange",e,i),t.constrain&&this.constrainToHeight(),this.correctForIntegers(),this.ieSizeHack(),this):(s.detect.browser.old&&null!=(r=this.elem())&&(r.style.position="absolute"),a=s.elem.height(this.grid.center)+Math.max(s.elem.height(this.grid.above),s.elem.height(this.grid.top))+Math.max(s.elem.height(this.grid.below),s.elem.height(this.grid.bottom)),s.detect.browser.old&&null!=(o=this.elem())&&(o.style.position="static"),a)},u.prototype.videoWidth=function(e,t){var i,n,r,o,a;return null==t&&(t={}),null!=e?(this.info("videoWidth",e,t),e=parseInt(e,10),n=this.width(),this.grid.center.style.width="100%",this.grid.main.style.width=e+"px",i=s.elem.width(this.grid.left)+s.elem.width(this.grid.right),this.grid.wrapper.style.width=this.chrome.style.width=e+i+"px",t.dontChangeContainer||(this._embedContainer.style.width=e+i+"px"),s.grid.fitHorizontal(this),s.grid.fitVertical(this),e!==n&&this.trigger("widthchange",e,n),t.constrain&&this.constrainToWidth(),this.correctForIntegers(),this.ieSizeHack(),this):(s.detect.browser.old&&null!=(r=this.elem())&&(r.style.position="absolute"),a=s.elem.width(this.grid.center),s.detect.browser.old&&null!=(o=this.elem())&&(o.style.position="static"),a)},u.prototype.videoHeight=function(e,t){var i,n,r,o,a,u,l;return null==t&&(t={}),null!=e?(this.info("videoHeight",e,t),e=parseInt(e,10),r=this.height(),this.grid.main.style.height=e+"px",this.grid.center.style.height="100%",this.grid.main.style.height=e+"px",s.detect.browser.ltie8&&s.grid.zeroEmptySections(this),l=Math.max(s.elem.height(this.grid.above),s.elem.height(this.grid.top)),i=Math.max(s.elem.height(this.grid.below),s.elem.height(this.grid.bottom)),n=l+i,this.grid.wrapper.style.height=this.chrome.style.height=e+n+"px",t.dontChangeContainer||(this._embedContainer.style.height=e+n+"px"),s.grid.fitHorizontal(this),s.grid.fitVertical(this),e!==r&&this.trigger("heightchange",e,r),t.constrain&&this.constrainToHeight(),this.correctForIntegers(),this.ieSizeHack(),this):(s.detect.browser.old&&this.elem&&null!=(o=this.elem())&&(o.style.position="absolute"),u=s.elem.height(this.grid.center),s.detect.browser.old&&this.elem&&null!=(a=this.elem())&&(a.style.position="static"),u)},u.prototype.constrainToHeight=function(){return this.videoWidth(this.widthForHeight(this.videoHeight()))},u.prototype.constrainToWidth=function(){return this.videoHeight(this.heightForWidth(this.videoWidth()))},u.prototype.extraHeight=function(){var e,t;return t=Math.max(s.elem.height(this.grid.above),s.elem.height(this.grid.top)),e=Math.max(s.elem.height(this.grid.below),s.elem.height(this.grid.bottom)),t+e},u.prototype.extraWidth=function(){return s.elem.width(this.grid.left)+s.elem.width(this.grid.right)},u.prototype.heightForWidth=function(e){return Math.round(e/this.aspect())},u.prototype.widthForHeight=function(e){return Math.round(e*this.aspect())},u.prototype.aspect=function(){var e;return this._opts.aspect?this._opts.aspect:this._currentAsset?"variable"===this._currentAsset.width?this.mp4Aspect()||this.originalAspect():this._currentAsset.width/this._currentAsset.height:(e=this.asset({container:/mp4|flv/}))?e.width/e.height:640/360},u.prototype.mp4Aspect=function(){var e;return(e=this.mp4Asset({width:640})||this.mp4Asset({width:960})||this.mp4Asset())?e.width/e.height:null},u.prototype.originalAspect=function(){return this.originalAsset()?this.originalAsset().width/this.originalAsset().height:this.bestAsset().width/this.bestAsset().height},u.prototype.ieSizeHack=function(){s.detect.browser.msie&&("function"==typeof this.elem?this.elem():void 0)&&(this.info("ieSizeHack"),this.elem().offsetLeft%2==0?this.elem().style.width=this.videoWidth()+1+"px":this.elem().style.width="100%")},u.prototype.inFullscreen=function(){return!1},u.prototype.savePlatformPreference=function(e){return this.info("savePlatformPreference",e),s.localStorage("platformPreference",e)},u.prototype.visitorKey=function(){return this._tracker.visitorKey()},u.prototype.eventKey=function(){return this._tracker.eventKey()},u.prototype.getVisitorKey=function(){return this.visitorKey()},u.prototype.getEventKey=function(){return this.eventKey()},u.prototype.disableTextTracks=function(){return this.info("disableTextTracks"),null==this._disableTextTracks&&(this._disableTextTracks=function(e){return function(){var t,i,n,r,o,s;if(null!=(n=e.elem())?n.textTracks:void 0){for(r=e.elem().textTracks,o=[],t=0,i=r.length;i>t;t++)s=r[t],o.push(s.mode="disabled");return o}}}(this)),this.rebind("play",this._disableTextTracks)},u.prototype.sdAsset=function(){throw new Error("Implement in subclass!")},u.prototype.mdAsset=function(){throw new Error("Implement in subclass!")},u.prototype.hdAsset=function(){throw new Error("Implement in subclass!")},u.assets=t.filter,u.asset=t.one,u.assetsWithinQualityRange=t.withinQualityRange,u.stillUrl=t.stillUrl,u.bakeryHosts=function(){return t.BAKERY_HOSTS},u.isBakeryUrl=t.isBakeryUrl,u.stillAsset=t.still,u.prototype.stillUrl=function(e){var i,n;return e=s.obj.merge({videoWidth:this.grid?this.videoWidth():null,videoHeight:this.grid?this.videoHeight():null},this._opts,e),e.playerColor||(e.playerColor=null!=(i=this._mediaData)&&null!=(n=i.embed_options)?n.playerColor:void 0),t.stillUrl(this._mediaData.assets,e)},u.prototype.stillAsset=function(){return t.still(this._mediaData.assets)},u.prototype.thumbnailAssets=function(){var e,t,i,n,r,o,s,a,u;if(this._opts.stillUrl)return[{height:null,url:this._opts.stillUrl,width:null}];for(o=this.stillAsset(),s=o.width/o.height,n=[320,640,960,1280,1920,3840],r=[],t=0,i=n.length;i>t;t++)u=n[t],e=Math.round(u/s),a=this.stillUrl({videoWidth:u,videoHeight:e,playButton:!1}),r.push({height:e,url:a,width:u});return r},u.prototype.changeStill=function(e,t){var i;return null==t&&(t={}),i=new Image,i.src=e,i.style.visibility="hidden",i.style.position="absolute",s.elem.append(document.body,i),i.onload=function(t){return function(){var n,r;return r=s.elem.width(i),n=s.elem.height(i),s.elem.remove(i),t._newStill={type:"still_image",url:e,width:r,height:n,bitrate:0,status:s.Player.READY,created_at:(new Date).getTime()},t._replaceStillAsset(t._newStill),t.rebuild()}}(this)},u.prototype._replaceStillAsset=function(e){var t,i;return i=function(){var e,i,n,r;for(n=this.assets(),r=[],e=0,i=n.length;i>e;e++)t=n[e],"still_image"!==t.type&&r.push(t);return r}.call(this),this._mediaData.assets=i,this._mediaData.assets.push(e)},u.prototype._refreshDataFromServer=function(e,t){return s.remote.ajax("//"+s.remote.embedHost()+"/embed/medias/"+this.hashedId()+".json",{dataType:"json",fallbackToJsonp:!0,jsonpCallback:"wistia_jsonp_refresh_"+this.hashedId(),success:function(t){return function(i,n,r){return t._originalMediaData=i.media,t._mediaData=t.publicApi._transformMediaData(i.media),t._newStill&&t._replaceStillAsset(t._newStill),t.publicApi._mediaData=t._mediaData,s.cacheMedia(t.hashedId(),t._mediaData),"function"==typeof e&&e(),t.trigger("refreshed-from-server")}}(this),error:t})},u.prototype.assets=function(e){return t.filter(this._mediaData.assets,e)},u.prototype.asset=function(e){var t;return"string"==typeof arguments[0]?(t=arguments[0]+"Asset",e=arguments[1],this[t](e)):(e=arguments[0],this.assets(e)[0]||null)},u.prototype.mp4Asset=function(e){return t.mp4(this._mediaData.assets,e)},u.prototype.qualityOptions=function(){return{qualityMin:this._attrs.qualityMin,qualityMax:this._attrs.qualityMax}},u.prototype.mp4AssetInRange=function(e){return null==e&&(e={}),t.mp4(this._mediaData.assets,s.obj.merge(this.qualityOptions(),e))},u.prototype.webmAsset=function(e){return t.webm(this._mediaData.assets,e)},u.prototype.webmAssetInRange=function(e){return null==e&&(e={}),t.webm(this._mediaData.assets,s.obj.merge(this.qualityOptions(),e))},u.prototype.playableAsset=function(e){return t.playable(this._mediaData.assets,e)},u.prototype.playableAssetInRange=function(e){return null==e&&(e={}),t.playable(this._mediaData.assets,s.obj.merge(this.qualityOptions(),e))},u.prototype.flashAsset=function(e){return t.flv(this._mediaData.assets,e)},u.prototype.flashAssetInRange=function(e){return null==e&&(e={}),t.flv(this._mediaData.assets,s.obj.merge(this.qualityOptions(),e))},u.prototype.hlsAsset=function(e){return t.m3u8(this._mediaData.assets,e)},u.prototype.hlsAssetInRange=function(e){return null==e&&(e={}),t.m3u8(this._mediaData.assets,s.obj.merge(this.qualityOptions(),e))},u.prototype.isScreencast=function(){return t.isScreencast(this._mediaData.assets)},u.prototype.originalAsset=function(){return this._original||(this._original=t.original(this._mediaData.assets))},u.prototype.iphoneAsset=function(e){return null==e&&(e={}),this._iphoneAsset||(this._iphoneAsset=t.iphone(this._mediaData.assets,e))},u.prototype.iphoneAssetInRange=function(e){return null==e&&(e={}),t.iphone(this._mediaData.assets,s.obj.merge(this.qualityOptions(),e))},u.prototype.masterM3u8Asset=function(){var e;return null!=(null!=(e=this.hlsAssetsBySegmentDuration())?e[3]:void 0)?{bitrate:"variable",ext:"m3u8",height:"variable",public:!0,size:"variable",type:"hls_video",url:s.detect.browser.msie?this.masterM3u8Url():this.masterM3u8DataURI(),width:"variable",slug:"hls_master_m3u8_seg3s"}:null},u.prototype.orderedM3u8Assets=function(){var e;return e=this.assets({container:"m3u8",segment_duration:3,type:"hls_video",status:s.Player.READY,metadata:function(e){return e.max_bitrate}}).sort(function(e,t){return(e.metadata.max_bitrate||0)-(t.metadata.max_bitrate||0)}),0!==this._opts.qualityMin&&(e=a(e,function(e){return function(e){return"Audio"!==e.display_name}}())),e},u.prototype.masterM3u8ContentFromAssets=function(){var e,t,i,n,r,o,s;for(s=this.orderedM3u8Assets(),i="#EXTM3U",n=[],r=0,o=s.length;o>r;r++)e=s[r],t=8*e.metadata.max_bitrate,n.push("#EXT-X-STREAM-INF:PROGRAM-ID=1,CLOSED-CAPTIONS=NONE,BANDWIDTH="+t+",NAME="+e.display_name+"\n"+e.url);return i+"\n"+n.join("\n")},u.prototype.masterM3u8DataURI=function(){return"data:application/x-mpegURL;base64,"+s.base64.encode(this.masterM3u8ContentFromAssets())},u.prototype.masterM3u8Url=function(){var e;return e=0===this._opts.qualityMin,s.proto()+"//"+s.remote.embedHost()+"/embed/medias/"+this.hashedId()+".m3u8?segment_duration=3&exclude_audio="+!e},u.prototype.chooseHlsAsset=function(){var e,t,i,n,r;return i=this.hlsAssetsBySegmentDuration(),t=function(){var t,o,s,a;for(s=function(){var e;e=[];for(n in i)r=i[n],e.push(parseInt(n,10));return e}(),a=[],t=0,o=s.length;o>t;t++)e=s[t],isNaN(e)||a.push(e);return a}().sort(function(e,t){return e-t}),0===t.length?{useHls:!1}:{useHls:!0,segmentDuration:t[0]}},u.prototype.hlsAssetsBySegmentDuration=function(){var e,t,i,n,r,o,a,u;for(n={},i=this.assets({container:"m3u8",qualityMin:this._attrs.qualityMin,qualityMax:this._attrs.qualityMax,status:s.Player.READY}),0!==this._attrs.qualityMin&&(i=function(){var t,n,r;for(r=[],t=0,n=i.length;n>t;t++)e=i[t],"Audio"!==e.display_name&&r.push(e);return r}()),0===i.length&&(i=this.assets({container:"m3u8",status:s.Player.READY}),0!==this._attrs.qualityMin&&(i=function(){var t,n,r;for(r=[],t=0,n=i.length;n>t;t++)e=i[t],"Audio"!==e.display_name&&r.push(e);return r}()),i=this.nearestAssetsOutsideRange(i,this._attrs.qualityMin,this._attrs.qualityMax)),r=0,o=i.length;o>r;r++)t=i[r],null!=(null!=(u=t.metadata)?u.max_bitrate:void 0)&&null!=t.segment_duration&&(null!=n[a=t.segment_duration]?n[a]:n[a]=[]).push(t);return n},u.prototype.nearestAssetsOutsideRange=function(e,t,i){var n,r,o,a,u,l,c,d;if(0===e.length)return[];for(c=function(){var t,i,r;for(r=[],t=0,i=e.length;i>t;t++)n=e[t],r.push(n);return r}().sort(function(e,t){return s.util.numericAssetSizeSnapped(e.width,e.height)-s.util.numericAssetSizeSnapped(t.width,t.height)}),c[0],c[c.length-1],o=0,a=c.length;a>o;o++)if(n=c[o],r=s.util.numericAssetSizeSnapped(n.width,n.height),r>=t||(u=n),r>=i){d=n;break}return l=function(){var e,t,i,r;for(i=[u,d],r=[],e=0,t=i.length;t>e;e++)(n=i[e])&&r.push(n);return r}(),0===l.length&&(this.error("nearestAssetsOutsideRange: no nearby assets found, using first in list",c[0]),l=[c[0]]),l},u.prototype.smallestNormalMp4Asset=function(e){return e=s.obj.merge({sortBy:"width asc",width:[640,1920]},e),this._smallestNormalMp4||(this._smallestNormalMp4=this.mp4Asset(e))},u.prototype.properAssetUrl=function(e,t){return null==t&&(t="mp4"),/\.bin$/.test(e)?e.replace(/\.bin$/,"")+"/file."+t:e},u.prototype._determineAssetCacheStatus=function(e){this.info("_determineAssetCacheStatus")},u.prototype.looksDown=function(){return this.publicApi.looksDown()},u.prototype.looksUp=function(){return this.publicApi.looksUp()},u.prototype.trim=function(e){return null!=e?this._trimSettings=e:this._trimSettings||{start:0,end:-1}},u.prototype.setupWaitingDetection=function(){var e,t;return null==this._waiting&&(this._waiting=-1),t=this.elem(),"html5"!==this.playerType||t._wistiaSetupWaitingDetection||(e=!1,t._wistiaSetupWaitingDetection=!0,s.elem.bind(t,"waiting",function(){return e=!0,s.elem.unbind})),"vulcan"!==this.playerType?s.eventLoop.add(this.uuid+".detect_waiting",this._eventLoopDuration,function(t){return function(){var i,n;return n=e&&"beforeplay"===t.state()||"playing"===t.state(),i="playing"===t._lastState||"beforeplay"===t._lastState,n&&i&&(-1===t._lastTimePosition||t.time()===t._lastTimePosition)?(t._waiting,t._startedWaitingAt?(t._waiting=((new Date).getTime()-t._startedWaitingAt)/1e3,t.trigger("waiting",t._waiting)):(t._startedWaitingAt=(new Date).getTime(),t._waiting=0,t.trigger("waiting",t._waiting),t.rebind("timechange",t.finishWaitingLoop))):t.finishWaitingLoop()}}(this)):void 0},u.prototype.finishWaitingLoop=function(){var e;return e=this._waiting,this._waiting=-1,this._startedWaitingAt=null,null!=e&&e>=0&&this.trigger("done-waiting",e),this.unbind},u}(),s.mixin(s.Player.prototype,s.bindable),s.mixin(s.Player.prototype,s.logHelpers),s.Player.prototype._logPrefix=function(){var e;return[this.constructor.name,this.hashedId()||"no hashedId",null!=(e=this._embedContainer)?e.id:void 0,this.uuid]},u=s.Player.prototype.trigger,s.Player.prototype.trigger=function(){var e,t;return e=1<=arguments.length?r.call(arguments,0):[],u.apply(this,e),(t=this.publicApi).trigger.apply(t,arguments)},s.Video=s.Player)}(Wistia)},function(e,t,i){var n,r=function(e,t){return function(){return e.apply(t,arguments)}};n=i(49),function(e){e.VideoTracker2||(e.VideoTracker2=function(){function t(t){this.publicApi=t,this.onLookChange=r(this.onLookChange,this),this.resendAllFailedEvents=r(this.resendAllFailedEvents,this),this.retrySendingFailedEvent=r(this.retrySendingFailedEvent,this),this.eventQueue=[],this.clockStart=(new Date).getTime(),this.isIE=navigator.userAgent.match(/Trident/)||navigator.userAgent.match(/MSIE/),this.initializedOnce=!1,this.monitoring=!1,this.publicApi.hasData(function(t){return function(){t.params=e.extend({transmitInterval:1e3*(t.publicApi._mediaData.trackingTransmitInterval||10)},t.publicApi._opts),t.publicApi._attrs.shouldTrack}}(this))}return t.prototype.conversions={"missing-conversion":0,"pre-roll-email":1,"post-roll-email":2,"mid-roll-email":3,"post-roll-click":4,"mid-roll-click":5,"non-video":6},t.prototype._getAccountKey=function(){return this.publicApi._opts.accountKey||this.publicApi._mediaData.accountKey},t.prototype._data=function(){var t,i;return i={account_key:this._getAccountKey(),session_id:this.visitorKey(),media_id:this.publicApi._mediaData.mediaKey,event_key:this.eventKey(),media_duration:parseFloat(this.publicApi._mediaData.duration),visitor_version:this._getVisitorVersion(),referrer:this.publicApi._attrs.pageUrl,event_details:this.eventQueue},this.publicApi.email()&&(i.email=this.publicApi.email()),this.publicApi._opts.anonymizeIp&&(i.anonymizeIp=!0),t=this.publicApi.foreignData(),t&&null!=t.page_name&&(t.page_name=t.page_name.replace(/'/g,'\\"'),i.foreignData=t),this.params.conversionType&&(i.conversion_type=this.conversions[this.params.conversionType]),this.params.conversionData&&(i.conversion_data=this.params.conversionData),e.JSON.stringify(i)},t.prototype._secondsSinceTime=function(e){return e?Math.round(((new Date).getTime()-e)/1e3):null},t.prototype.nullToNone=function(e){return null===e?"none":e},t.prototype.lastLoadForAccount=function(){return this.nullToNone(this._secondsSinceTime(Wistia.localStorage("accounts_loaded."+this._getAccountKey())))},t.prototype.lastLoadForMedia=function(){return this.nullToNone(this._secondsSinceTime(Wistia.localStorage("medias_loaded."+this.publicApi.hashedId())))},t.prototype.lastPlayForAccount=function(){return this.nullToNone(this._secondsSinceTime(Wistia.localStorage("accounts_played."+this._getAccountKey())))},t.prototype.lastPlayForMedia=function(){return this.nullToNone(this._secondsSinceTime(Wistia.localStorage("medias_played."+this.publicApi.hashedId())))},t.prototype.lastRecordingOfActionForMedia=function(e){return this.nullToNone(this._secondsSinceTime(Wistia.localStorage("action_recorded."+this.publicApi.hashedId()+"."+e)))},t.prototype.recordLastActionForMedia=function(e){return Wistia.localStorage("action_recorded."+this.publicApi.hashedId()+"."+e,(new Date).getTime())},t.prototype.recordLoad=function(){return this.publicApi.info("recordLoad"),Wistia.localStorage("accounts_loaded."+this._getAccountKey(),(new Date).getTime()),Wistia.localStorage("medias_loaded."+this.publicApi.hashedId(),(new Date).getTime())},t.prototype.recordPlay=function(){return this.publicApi.info("recordPlay"),Wistia.localStorage("accounts_played."+this._getAccountKey(),(new Date).getTime()),Wistia.localStorage("medias_played."+this.publicApi.hashedId(),(new Date).getTime())},t.prototype.isValidKey=function(e){return(null!=e?e.length:void 0)>25&&/^[a-z0-9_\-\.]+$/i.test(e)},t.prototype._saveVisitorVersion=function(e){return null==e&&(e=1),null==Wistia.localStorage("visitor_version")?Wistia.localStorage("visitor_version",e):void 0},t.prototype._getVisitorVersion=function(){return Wistia.localStorage("visitor_version")||(this._saveVisitorVersion(0),0)},t.prototype.reset=function(){return this.stopMonitoring(),this.initializedOnce=!1,this._eventKey=null},t.prototype.initialize=function(){return this.initializedOnce||(this.publicApi.info("video tracker initialize"),this._lastLoadForAccount=this.lastLoadForAccount(),this._lastLoadForMedia=this.lastLoadForMedia(),this._lastPlayForAccount=this.lastPlayForAccount(),this._lastPlayForMedia=this.lastPlayForMedia(),this._failedEventsQueue=[],this._retryTimer=null,this._retryInterval=1e3,this.initializedOnce=!0,this.log("initialized"),this.recordLoad(),this.debounceTransmit()),this},t.prototype.monitor=function(){return this.publicApi.embedded(function(t){return function(){return t.stopMonitoring(),t.publicApi.info("_tracker.monitor"),t.initialize(),null==t.onPlaybackRateChange&&(t.onPlaybackRateChange=function(e){return t.log("playbackRateChange",null,e)}),null==t.onPlay&&(t.onPlay=function(){return t.log("play"),t._logCurrentCameraPosition(),t.recordPlay(),t._played?void 0:(t._played=!0,t.debounceTransmit())}),null==t.onPause&&(t.onPause=function(){return Math.abs(t.publicApi.duration()-t.publicApi.time())>.3?t.log("pause"):void 0}),null==t.onEnd&&(t.onEnd=function(){return t.log("end"),t._logCurrentCameraPosition(),t.transmit()}),null==t.onSeek&&(t.onSeek=function(e,i){return Math.abs(i-e)>=5?t.log("seek"):void 0}),null==t.onPercentWatchedThreshold&&(t.onPercentWatchedThreshold=function(e){return t.log("percentWatchedThreshold",null,e),t.transmit()}),t.monitoring=!0,t.publicApi.rebind("play",t.onPlay),t.publicApi.rebind("pause",t.onPause),t.publicApi.rebind("end",t.onEnd),t.publicApi.rebind("seek",t.onSeek),t.publicApi.rebind("playbackratechange",t.onPlaybackRateChange),t.publicApi.rebind("percentWatchedThreshold",t.onPercentWatchedThreshold),t.monitorCameraPosition(),"playing"===t.publicApi.state()&&t.onPlay(),e.timeout(t.publicApi.uuid+".start_tracking_timeout",function(){return t.publicApi.info("_tracker start tracking_loop"),e.eventLoop.add(t.publicApi.uuid+".tracking_loop",t.params.transmitInterval,function(){return"playing"===t.publicApi.state()&&t.log("update"),t.transmit()})},Math.random()*t.params.transmitInterval+1e3)}}(this))},t.prototype.stopMonitoring=function(){return this.publicApi.info("_tracker.stopMonitoring"),this.monitoring=!1,this.onPlay&&this.publicApi.unbind("play",this.onPlay),this.onPause&&this.publicApi.unbind("pause",this.onPause),this.onEnd&&this.publicApi.unbind("end",this.onEnd),this.onSeek&&this.publicApi.unbind("seek",this.onSeek),this.onPercentWatchedChanged&&this.publicApi.unbind("percentwatchedchanged",this.onPercentWatchedChanged),this.unmonitorCameraPosition()},t.prototype.distilleryUrl=function(){return this.publicApi._opts.statsUrl||this.publicApi._mediaData.distilleryUrl},t.prototype.sendToDistillery=function(t){return e.detect.browser.msie&&e.detect.browser.version<11?this.sendDataUsingJsonp(t):this.sendDataUsingXhr(t)},t.prototype.sendDataUsingXhr=function(t){var i;return i=3e4,e.remote.post(this.distilleryUrl(),{contentType:"text/plain",data:encodeURIComponent(t),timeout:i})},t.prototype.sendDataUsingJsonp=function(t){var i,n;return i=3e4,n=this.distilleryUrl()+"?data="+encodeURIComponent(t),this.isIE&&(n+="&ie=1"),e.remote.script(n,null,i)},t.prototype.retrySendingFailedEvent=function(){return this.sendToDistillery(this._failedEventsQueue.shift())},t.prototype.resendAllFailedEvents=function(){var e,t,i,n,r,o,s,a;if(n=this._failedEventsQueue.length,clearTimeout(this._retryTimer),n>0){for(a=350,s=this._failedEventsQueue,t=function(e){return function(t,i){return setTimeout(function(){return e.sendToDistillery(t)},a*i)}}(this),i=r=0,o=s.length;o>r;i=++r)e=s[i],t(e,i);return this._failedEventsQueue=[]}},t.prototype.transmit=function(t){return null==t&&(t={}),this.publicApi._attrs.shouldTrack?e.util.pageLoaded(function(i){return function(){return e.visitorKey.ready(function(){var n,r;return(i.eventQueue.length>0||t.force)&&(n=i._data(),i.publicApi.info("_tracker.transmit",n),i.publicApi.trigger("transmit-stats",n),i.sendToDistillery(e.base64.encode(n)),i.eventQueue=[]),!e.visitorKey._reported&&(e.visitorKey._reported=!0,r=e.visitorKey.origin(),("new"===r||"timeout"===r)&&e.Metrics.videoCount(i.publicApi,"player/visitor_key/new",1,{visitor_key:e.visitorKey.value(),visitor_key_origin:r}),"timeout"===r&&e.Metrics.videoCount(i.publicApi,"player/visitor_key/shim_timeout",1,{visitor_key:e.visitorKey.value()}),"suggested"===r&&e.Metrics.videoCount(i.publicApi,"player/visitor_key/suggested",1,{visitor_key:e.visitorKey.value()}),/-conflict$/.test(r))?e.Metrics.videoCount(i.publicApi,"player/visitor_key/conflict",1,{visitor_key:e.visitorKey.value()}):void 0})}}(this)):void 0},t.prototype.debounceTransmit=function(){return e.timeout(this.publicApi.uuid+".transmit_play_data",function(e){return function(){return e.transmit()}}(this),350)},t.prototype.log=function(e,t,i){var n;if(this.publicApi._attrs.shouldTrack)return this.publicApi.info("_tracker.log",e,t,i),"conversion"===e?(this.params.conversionType=t,this.params.conversionData=i,this.transmit({force:!0})):(n={key:e,value:this.timeInVideo(),timeDelta:this.timeDelta()},"initialized"===e?(n.lastAccountInstance=this._lastLoadForAccount,n.lastMediaInstance=this._lastLoadForMedia):"play"===e?(n.lastAccountInstance=this._lastPlayForAccount,n.lastMediaInstance=this._lastPlayForMedia):"playbackRateChange"===e?n.value=i:"percentWatchedThreshold"===e?n.value=i:"cameraPosition"===e&&(n.value=i),this.publicApi.debug("_tracker.log",n),this.eventQueue.push(n))},t.prototype.logConversionOpportunity=function(t){var i;if(this.publicApi._attrs.shouldTrack)return null!=t.co_key?(i={key:"conversion",value:t,timeDelta:this.timeDelta()},this.publicApi.info("_tracker.logConversionOpportunity",t),this.eventQueue.push(i)):e.Metrics.videoCount(this.publicApi,"player/no-co-key",1)},t.prototype.logAction=function(e,t){var i,r,o;return null==t&&(t={}),i={time:this.publicApi.time(),key:e,type:"default",category:"default",text:"test",uniqueToVisitor:!1},r=n({},i,t),o={value:r,key:"action",timeDelta:this.timeDelta()},this.eventQueue.push(o)},t.prototype.clearActionRecordings=function(){return["chapterImpression","chapterConversion","shareImpression","shareConversion"].forEach(function(e){return function(t){return Wistia.localStorage("action_recorded."+e.publicApi.hashedId()+"."+t,"",!0)}}(this))},t.prototype.logCaptionSelection=function(e){var t;if(this.publicApi._attrs.shouldTrack&&e.caption_key)return t={key:"caption",value:e,timeDelta:this.timeDelta()},this.publicApi.info("_tracker.logCaptionSelection",e),this.eventQueue.push(t)},t.prototype.logChapterClick=function(e,t){return this.logAction("chapterConversion",{text:e.title,type:"conversion",category:"chapter",uniqueToVisitor:!0,time:t}),this.logAction("chapterSelection-"+e.id,{text:e.title,type:"interaction",category:"chapter",time:t})},t.prototype.logShareClick=function(e){return this.logAction("shareConversion",{text:e,type:"conversion",category:"share",uniqueToVisitor:!0}),this.logAction("shareClick-"+e,{text:e,type:"interaction",category:"share"})},t.prototype.timeInVideo=function(){var e;return e=this.publicApi.time(),null==e&&(e="beforeplay"===this.publicApi.state()?0:this.publicApi.duration()),e.toFixed(1)},t.prototype.timeDelta=function(){return(new Date).getTime()-this.clockStart},t.prototype.visitorKey=function(){return e.visitorKey.ready()?e.visitorKey.value():null},t.prototype.eventKey=function(){return this.isValidKey(this._eventKey)?this._eventKey:(this._eventKey=e.uniqId("72060814ff9f04cbbe1bfefdd2cb483d4b9c3ca0".substring(0,7)+"_"),this._eventKey)},t.prototype.monitorCameraPosition=function(){return this._lastPitch=0,this._lastHeading=0,this.publicApi.rebind("lookchange",this.onLookChange)},t.prototype.unmonitorCameraPosition=function(){return this.publicApi.unbind("lookchange",this.onLookChange)},t.prototype.onLookChange=function(e){var t;if("playing"===this.publicApi.state())return this._heading=e.heading,this._pitch=e.pitch,t=this._getIsInsidePauseBoundary(),this._cameraPauseTimeoutSet?t||(clearTimeout(this._cameraPauseTimeout),this._cameraPauseTimeoutSet=!1):t||(this._setPauseTimeout(),this._prevIsInsidePauseBoundary&&this._logCurrentCameraPosition()),this._prevIsInsidePauseBoundary=t},t.prototype._logCurrentCameraPosition=function(){var e,t,i,n;if((null!=(n=this.publicApi._mediaData)?n.spherical:void 0)&&(i="function"==typeof(e=this.publicApi).look?e.look():void 0))return this._heading||(this._heading=i.heading),this._pitch||(this._pitch=i.pitch),t=this.publicApi.time()+","+this._heading.toFixed()+","+this._pitch.toFixed(),this.log("cameraPosition",null,t)},t.prototype._setPauseTimeout=function(){return this._startHeading=this._heading,this._startPitch=this._pitch,this._cameraPauseTimeoutSet=!0,this._cameraPauseTimeout=setTimeout(function(e){return function(){return e._cameraPauseTimeoutSet=!1,e._logCurrentCameraPosition()}}(this),250)},t.prototype._getIsInsidePauseBoundary=function(){var e,t;return null==this._startHeading&&(this._startHeading=0),null==this._startPitch&&(this._startPitch=0),e=this._angularDistance(this._heading,this._startHeading),t=this._angularDistance(this._pitch,this._startPitch),5>e&&5>t},t.prototype._angularDistance=function(e,t){return Math.min(360-Math.abs(e-t),Math.abs(e-t))},t}())}(Wistia)},function(e,t,i){!function(e){var t;t=e,t.VisitorKey||(t.DISTILLERY_COOKIE="__distillery",!0===window.wistiaDisableCookies&&null==window.wistiaIframeShim&&(window.wistiaIframeShim=!1),t.VisitorKey=function(){function e(){this.ready=new t.StopGo,!1===window.wistiaIframeShim||t.detect.browser.msie&&(t.detect.browser.version<8||t.detect.browser.quirks)||!t.detect.localstorage?(this.savedValue()||(this._origin="new",this.persist(t.VisitorKey.generate())),this.ready(!0)):(this.setupOutsideShim(),t.util.pageLoaded(function(e){return function(){return e.executeShim("send_visitor_key|"+(e.savedValue()||"")+"|72060814ff9f04cbbe1bfefdd2cb483d4b9c3ca0",!0)}}(this)))}return e.prototype.setupOutsideShim=function(){return this.info("@setupOutsideShim"),null==this._outsideShim&&(this._outsideShim=function(e){return function(i){var n,r,o;return t.clearTimeouts("shim_timeout"),"string"==typeof i.data&&/^visitor_key/.test(i.data)?(r=i.data.split("|"),r[0],o=r[1],n=r[2],e._origin=n,e.info("outsideShim got message "+i.data),e.persist(o),t.timeout("remove_iframe_shim",function(){return t.elem.remove(e._iframeShim)},1e3),t.timeout("visitor_key_ready",function(){return e.info("visitorKey ready(true)"),e.ready(!0)}),t.elem.unbind):void 0}}(this)),t.elem.rebind(window,"message",this._outsideShim)},e.prototype.executeShim=function(e,i){var n;return null==i&&(i=!1),this.info("@executeShim",e,i),this._iframeShim=t.elem.fromObject({allowtransparency:"true",frameborder:0,height:1,scrolling:"no",src:t.proto()+"//"+t.remote.embedHost()+"/embed/iframe_shim?"+t.url.jsonToParams(this.ev1ParamsForShim()),style:{height:"1px",left:"-200px",position:"absolute",top:"-200px",width:"1px",direction:"ltr"},tagName:"iframe",width:1}),this._iframeShim.onload=function(t){return function(){return t.info("post request for visitor key",e),t._iframeShim.contentWindow.postMessage(e,"*")}}(this),(n=document.getElementsByTagName("script")[0])&&t.elem.after(n,this._iframeShim),i?t.timeout("shim_timeout",function(i){return function(){return i.notice("shim timeout for",e),t.elem.unbind(window,"message",i._outsideShim),i.savedValue()||(i._origin="timeout",i.persist(t.VisitorKey.generate())),i.ready(!0)}}(this),5e3):void 0},e.prototype.persist=function(e){var i;return t.VisitorKey.isValid(e)?(this.info("@persist",e),this._value=e,!0!==window.wistiaDisableCookies&&this.localStorageValue()!==this._value&&t.localStorage(t.DISTILLERY_COOKIE,this._value),!0!==window.wistiaDisableCookies&&this.cookieValue()!==this._value?(i=new Date,i.setTime(i.getTime()+31536e6),t.cookie(t.DISTILLERY_COOKIE,this._value,{expires:i,path:"/"})):void 0):void this.error(new Error("Attempted to persist invalid visitor key '"+e+"'"))},e.prototype.clear=function(){return this.info("clear"),this.clearFromCurrentDomain(),window._wistiaIframeShim||this.clearFromShimDomain(),this._value=null},e.prototype.clearFromCurrentDomain=function(){return t.removeLocalStorage(t.DISTILLERY_COOKIE,null),t.cookie(t.DISTILLERY_COOKIE,"",{expires:0,path:"/"})},e.prototype.clearFromShimDomain=function(){return this.executeShim("clear_visitor_key")},e.prototype.value=function(){return this._value||this.savedValue()},e.prototype.savedValue=function(){return this.localStorageValue()||this.cookieValue()},e.prototype.cookieValue=function(){return t.cookie(t.DISTILLERY_COOKIE)},e.prototype.localStorageValue=function(){return t.localStorage(t.DISTILLERY_COOKIE)},e.prototype.isValid=function(){return t.VisitorKey.isValid(this.value())},e.prototype.origin=function(){return this._origin},e.prototype.ev1ParamsForShim=function(){var e,i,n,r,o,s,a,u,l;for(u=document.getElementsByTagName("script"),{domain:"net"},i=0,o=u.length;o>i;i++)if(a=u[i],l=a.getAttribute("src")){if(!l.indexOf)continue;if(e=l.indexOf(t.remote.embedHost())>=0?"com":l.indexOf(t.remote.externalEmbedHost())>=0?"net":null,n=l.indexOf("/E-v1.js")>=0,r=l.indexOf("/static/")>=0,e&&n)return s={domain:e},r&&(s.legacy=!0),s}return{domain:"net"}},e.prototype.cancelShim=function(){return this._iframeShim&&(t.elem.remove(this._iframeShim),this._iframeShim=null),this._outsideShim?t.elem.unbind(window,"message",this._outsideShim):void 0},e.isValid=function(e){return(null!=e?e.length:void 0)>25&&/^[a-z0-9_\-\.]+$/i.test(e)},e.generate=function(){return t.uniqId("72060814ff9f04cbbe1bfefdd2cb483d4b9c3ca0".substring(0,7)+"_")},e}(),t.mixin(t.VisitorKey.prototype,t.logHelpers),t._initializers.initVisitorKey=function(){return t.visitorKey=new t.VisitorKey},
t._destructors.destroyVisitorKey=function(){var e;return null!=(e=t.visitorKey)&&e.cancelShim(),t.visitorKey=null})}(Wistia)},function(e,t){var i=function(e,t){return function(){return e.apply(t,arguments)}};!function(e){e.Html5BigPlayButton||(e.Html5BigPlayButton=function(){function t(t){this.video=t,this.touchend=i(this.touchend,this),this.touchmove=i(this.touchmove,this),this.touchstart=i(this.touchstart,this),this.name="bigPlayButton",this.uuid=e.seqId("wistia_"+this.name+"_"),this.bpb=new e.BigPlayButton(this.video.chromeElem(),{uuid:this.video.uuid,color:this.video.playerColor(),onTouchstart:this.touchstart,onTouchmove:this.touchmove,onTouchend:this.touchend}),this.bpb.hide(),this.elem=this.bpb.elem,"function"==typeof this.setupBindings&&this.setupBindings()}return t.prototype.initialize=function(){return e.util.notSetOrTrue(this.video._opts.playButton)&&this.turnOn(),this},t.prototype.touchstart=function(){return this.video._swiped=!1},t.prototype.touchmove=function(){return this.video._swiped=!0},t.prototype.touchend=function(e){return this.bpb.mouseEventTargetIsInside(e)&&(this.video._swiped?this.video.still.hideOverlay():(this.video.play(),this.video.bigPlayButton.hide(),this.video.still.showOverlay(),this.video.loadingIndicator.turnOn())),this.video._swiped=!1},t.prototype.setupBindings=function(){return e.elem.bind(this.video.chromeElem(),"click",function(e){return function(t){return 3!==t.which?(e.bpb.mouseEventTargetIsInside(t)&&(e.video.play(),e.video.bigPlayButton.hide(),e.video.still.showOverlay(),e.video.loadingIndicator.turnOn()),!0):void 0}}(this)),this.video.bind("widthchange",function(e){return function(){return e.reorient()}}(this)),this.video.bind("heightchange",function(e){return function(){return e.reorient()}}(this))},t.prototype.turnOn=function(){return this._on=!0,this.show()},t.prototype.turnOff=function(){return this._on=!1,this.hide()},t.prototype.on=function(){return this._on},t.prototype.off=function(){return!this._on},t.prototype.turnOn=function(){return this._on=!0,this.show(),this.video.trigger("control-on",this.name)},t.prototype.show=function(){return this.on()&&/beforeplay|paused|ended/.test(this.video.state())?(this.bpb.show(),this.reorient()):void 0},t.prototype.hide=function(){return this.bpb.hide()},t.prototype.reorient=function(){return this.bpb.fit()},t.prototype.updateColor=function(){return this.bpb.color(this.video.playerColor())},t.prototype.remove=function(){return this.bpb.destroy(),this.elem=null},t}())}(Wistia)},function(e,t){var i=function(e,t){return function(){return e.apply(t,arguments)}};!function(e){e.Html5LoadingIndicator||(e.Html5LoadingIndicator=function(){function t(t){this.video=t,this.reorient=i(this.reorient,this),this.hide=i(this.hide,this),this.show=i(this.show,this),this.turnOff=i(this.turnOff,this),this.turnOn=i(this.turnOn,this),this.name="loadingIndicator",this.uuid=e.seqId("wistia_"+this.name+"_"),this.elem=document.createElement("div"),this.elem.id=this.uuid,this.elem.className="wistia_loading_indicator",this.elem.setAttribute("alt","Loading..."),e.elem.append(this.video.chromeElem(),this.elem),"function"==typeof this.setupBindings&&this.setupBindings(),e.elem.style(this.elem,{cursor:"pointer",display:"none",position:"absolute",height:this.height()+"px",width:this.width()+"px",zIndex:1}),this.updateSvg(),this.throttleUpdateSvg=e.util.throttle(200,function(e){return function(){return e.updateSvg()}}(this))}return t.prototype.updateSvg=function(){var t,i,n,r,o,s,a,u,l;if(("small"!==this.svgSize||!this.shouldShrink())&&("big"!==this.svgSize||this.shouldShrink())){if(this.svgText=this.shouldShrink()?"small":"big",this.svgSize=this.shouldShrink()?"small":"big",this.activeSvgId=e.seqId("wistia_loading_svg_"),e.detect.browser.msie&&e.detect.browser.version<10)return void(this.elem.innerHTML="Loading...");for(o=this.shouldShrink()?"M23,7 L41,18 L23,30 Z":"M52,21 L81,40 L52,60 Z",l='<svg version="1.2" id="'+this.activeSvgId+'" height="'+this.height()+'" width="'+this.width()+'" xmlns="http://www.w3.org/2000/svg" viewport="0 0 '+this.width()+" "+this.height()+'" xmlns:xlink="http://www.w3.org/1999/xlink">\n  <path fill="none" stroke="#'+this.primaryColor().toHex()+'" stroke-miterlimit="20" d="'+o+'" />\n</svg>',s=this.elem.ownerDocument.createRange(),s.selectNodeContents(this.elem),r=s.createContextualFragment(l),this.elem.appendChild(r),a=this.elem.childNodes,i=0,n=a.length;n>i;i++)(t=a[i])&&t!==this.styleElem&&t.id!==this.activeSvgId&&e.elem.remove(t);return this.pathLength=(null!=(u=this.elem.getElementsByTagName("path")[0])&&"function"==typeof u.getTotalLength?u.getTotalLength():void 0)||100,this.setupCss()}},t.prototype.initialize=function(){return this},t.prototype.setupBindings=function(){return this.video.bind("widthchange",this.reorient),this.video.bind("heightchange",this.reorient),this.video.bind("startplay",this.turnOn),this.video.bind("waiting",this.turnOn),this.video.bind("play",this.turnOff),this.video.bind("pause",this.turnOff),this.video.bind("timechange",this.turnOff)},t.prototype.setupCss=function(){return this.styleElem&&e.elem.remove(this.styleElem),this.styleElem=e.css(this.elem,"#"+this.video.container.id+" .wistia_loading_indicator path {\n  stroke-width: "+this.strokeWidth()+"px;\n  stroke-dasharray: "+this.pathLength/3+", "+2*this.pathLength/3+";\n  -webkit-animation: wistia_dash 1s infinite linear forwards;\n}\n@-webkit-keyframes wistia_dash {\n  from { stroke-dashoffset: "+this.pathLength+"; }\n  to { stroke-dashoffset: 0; }\n}")},t.prototype.strokeWidth=function(){return Math.max(Math.min(Math.floor(this.video.videoWidth()/640*3),3),1)},t.prototype.on=function(){return this._on},t.prototype.off=function(){return!this._on},t.prototype.shouldShrink=function(){return this.video.videoWidth()<=320||this.video.videoHeight()<=200},t.prototype.width=function(){return this.shouldShrink()?60:127},t.prototype.height=function(){return this.shouldShrink()?38:81},t.prototype.turnOn=function(){return this._on?void 0:(this._on=!0,this.show())},t.prototype.turnOff=function(){return this._on?(this._on=!1,this.hide()):void 0},t.prototype.show=function(){return this.on()?(this.elem.style.display="block",this.reorient()):void 0},t.prototype.hide=function(){return this.elem.style.display="none"},t.prototype.reorient=function(){var t;return this.video.looksDown()?e.elem.style(this.elem,{left:"-100%",width:"-100%"}):(this.throttleUpdateSvg(),e.elem.style(this.elem,{width:this.width()+"px",height:this.height()+"px"}),(t=this.elem.getElementsByTagName("path")[0])&&e.elem.style(t,{strokeWidth:this.strokeWidth()+"px"}),this.center())},t.prototype.center=function(){var e,t,i;return i=this.video.videoHeight(),this.video._opts.controlsVisibleOnLoad&&/flash|romulus/.test(this.video.playerType)&&(i-=22),e=Math.round((this.video.videoWidth()-this.width())/2),t=Math.round((i-this.height())/2),this.elem.style.left=e+"px",this.elem.style.top=t+"px"},t.prototype.remove=function(){return e.elem.remove(this.elem)},t.prototype.primaryColor=function(){return new e.Color("#ffffff")},t}())}(Wistia)},function(e,t){var i=function(e,t){return function(){return e.apply(t,arguments)}};!function(e){e.Html5Still||(e.Html5Still=function(){function t(t){this.video=t,this.hideOverlay=i(this.hideOverlay,this),this.showOverlay=i(this.showOverlay,this),this.activate=i(this.activate,this),this.touchend=i(this.touchend,this),this.touchstart=i(this.touchstart,this),this.name="still",this.uuid=e.seqId("wistia_"+this.name+"_"),this.thumbnail=new e.Thumbnail(this.video.chromeElem(),{tabbable:!1,onActivate:this.activate,onTouchstart:this.touchstart,onTouchend:this.touchend,stillSnap:this.video._opts.stillSnap,images:this.video.thumbnailAssets()}),e.elem.style(this.thumbnail.elem,{left:0,position:"absolute",top:0}),this.elem=this.thumbnail.elem,e.elem.addClass(this.thumbnail.img,"wistia_click_to_play"),this.loaded=new e.StopGo,this.thumbnail.loaded(function(e){return function(){return e.loaded(!0)}}(this)),"function"==typeof this.setupBindings&&this.setupBindings()}return t.prototype.initialize=function(){return this.fitStill(),this},t.prototype.touchstart=function(){return e.timeout(this.video.uuid+".still_overlay",this.showOverlay)},t.prototype.touchend=function(){return this.thumbnail._swiped?e.timeout(this.video.uuid+".still_overlay",this.hideOverlay,300):void 0},t.prototype.activate=function(t){return e.elem.isInside(t.target,this.elem)&&(this.video.play(),this.video.bigPlayButton.hide(),this.showOverlay(),this.video.loadingIndicator.turnOn()),!0},t.prototype.setupBindings=function(){return e.elem.bind(this.video.chromeElem(),"click",function(t){return function(i){return 1===i.which?(e.elem.isInside(i.target,t.elem)&&(t.video.play(),t.video.bigPlayButton.hide(),t.showOverlay(),t.video.loadingIndicator.turnOn()),!0):void 0}}(this)),this.video.bind("widthchange",function(e){return function(){return e.fitStill()}}(this)),this.video.bind("heightchange",function(e){return function(){return e.fitStill()}}(this)),this.video.bind("play",this.hideOverlay),this.video.bind("timechange",this.hideOverlay),this.video.bind("pause",this.hideOverlay)},t.prototype.showOverlay=function(){return this.thumbnail.showOverlay()},t.prototype.hideOverlay=function(){return this.thumbnail.hideOverlay()},t.prototype.fitStill=function(){return this.thumbnail.fit()},t.prototype.shouldShow=function(){return"beforeplay"===this.video.state()},t.prototype.show=function(){return this.thumbnail.show(),this.fitStill()},t.prototype.hide=function(){return this.thumbnail.hide()},t.prototype.remove=function(){return this.thumbnail.destroy(),this.elem=null},t}())}(Wistia)},function(e,t,i){!function(e){var t;if(!e.url)t=i(34),e.url={},e.url.proto=t.proto,e.url.paramsToJson=t.queryParamsToObject,e.url.urlComponentToJson=t.urlComponentToObject,e.url.jsonToParams=t.objectToQueryParams,e.url.splitPath=t.splitPath,e.url.joinPath=t.joinPath,e.url._brack=t.brack,e.url._debrack=t.debrack,e.url.create=t.Url.create,e.url.parse=t.Url.parse}(Wistia)},function(e,t){!function(e){e.TimeHelper||(e.TimeHelper=function(){function e(){}var t,i;return e.secondsIntoDurationGroups=function(e){var t,n,r;return e=i(e),r=Math.floor(e),t=Math.floor(r/3600),r-=3600*t,n=Math.floor(r/60),r-=60*n,{hours:t,minutes:n,seconds:r}},i=function(e){return 0|Math.abs(parseInt(e))},e.secondsToIso8601=function(e){var t,i,n,r,o;return t=this.secondsIntoDurationGroups(e),i=t.hours.toString(),n=t.minutes.toString(),r=t.seconds.toString(),o=["00".substring(i.length)+i,"00".substring(n.length)+n,"00".substring(r.length)+r],o.join(":")},e.secondsToHumanDuration=function(e){var t,i,n,r,o;t=this.secondsIntoDurationGroups(e),r={hours:0!==t.hours?t.hours+"h":void 0,minutes:0!==t.minutes||e>=60&&0!==t.seconds?t.minutes+"m":void 0,seconds:0!==t.seconds||0===t.minutes&&3600>e?t.seconds+"s":void 0},n="";for(i in r)null!=(o=r[i])&&(n+=o);return n},e.TRIM_REGEXP=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,e.isValidHumanDuration=function(e){var t,i,n,r,o,s,a,u,l,c,d,h;if(void 0===e||null===e||""===e)return!1;if(e=(""+e).replace(this.TRIM_REGEXP,""),null===e.match(/[\dhms]+/)||null===e.match(/[hms]+/))return!1;if(e.match(/[\dhms]+/)[0]!==e)return!1;for(l=["h","m","s"],i=0,r=l.length;r>i;i++)if(s=l[i],d=new RegExp(s,"g"),null!==e.match(d)&&e.match(d).length>1)return!1;if(a=e.match(/[hms]/g),3===a.length&&("h"!==a[0]||"m"!==a[1]||"s"!==a[2]))return!1;if(2===a.length){for(t=!1,u=a.join(""),c=["hm","hs","ms"],n=0,o=c.length;o>n;n++)if(h=c[n],u===h){t=!0;break}if(!t)return!1}return!0},t=function(e,t){var i,n;return i=new RegExp("\\d+"+e),n=t.match(i),n?parseInt(n[0].match(/\d+/)[0]):0},e.humanDurationToSeconds=function(e){var i,n,r,o,s;if(e=e?e.toString():"",s=0,this.isValidHumanDuration(e))for(n=[3600*t("h",e),60*t("m",e),t("s",e)],r=0,o=n.length;o>r;r++)i=n[r],s+=i;return s},e.isValidIso8601=function(e){return void 0!==e&&null!==e&&""!==e&&("string"==typeof e&&(e=e.replace(this.TRIM_REGEXP,""),null!==e.match(/[\d:]+/)&&e.match(/[\d:]+/)[0]===e))},e.iso8601ToSeconds=function(e){var t,n,r,o,s,a,u;for(e=e?e.toString():"",u=0,a=[1,60,3600],n=e.split(":").reverse(),r=o=0,s=n.length;s>o;r=++o)t=n[r],u+=t*a[r];return i(u)},e}())}(Wistia)},,function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0});var r=i(595),o=n(r),s=i(596),a=n(s),u=i(597),l=function(e){return e&&e.__esModule?e:{default:e}}(u);t.default={accessors:o,actions:a,reducer:l.default}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=i(713),s=r(o),a=i(714),u=r(a),l=i(228),c=r(l),d=i(222),h=n(d),p=i(715),f=r(p),m=i(712),g=r(m),_=i(483),y=n(_);t.default={accessors:h,actions:c.default,mount:s.default,mountChapterTitle:g.default,mountMenu:u.default,mountPlaybarIndicators:f.default,utils:y}},function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0});var r=i(194),o=n(r),s=i(287),a=n(s),u=i(729),l=function(e){return e&&e.__esModule?e:{default:e}}(u),c=i(313),d=n(c);t.default={accessors:o,actions:a,mount:l.default,types:d}},,,,function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),u=i(186),l=i(49),c=function(e){return e&&e.__esModule?e:{default:e}}(l),d=function(e,t,i){return function(l,d,h){var p={origin:"left",shouldUpdateFunction:function(e){return!0}},f=(0,c.default)({},p,h);return function(t){function c(e){n(this,c);var t=r(this,Object.getPrototypeOf(c).call(this,e));return t.cacheBoundingBox(),t.boudingBoxLeft=0,t.boundingBoxWidth=0,t.maxLeft=0,t.state={boundComponentWidth:0},t.boundComponentWidth=0,t.checkBoundingBox(e),t}return o(c,t),a(c,[{key:"cacheBoundingBox",value:function(){this.boundingComponent&&(0,u.inDom)(this.boundingComponent)||(this.boundingComponent=document.querySelector(d))}},{key:"shouldComponentUpdate",value:function(e){return f.shouldUpdateFunction(this.props,e)}},{key:"componentDidMount",value:function(){this.checkBoundingBox(this.props)}},{key:"componentDidUpdate",value:function(){if(this.boundComponent&&i(this.boundComponent)){var e=i(this.boundComponent).clientWidth;Math.abs(e-this.boundComponentWidth)>2&&this.checkBoundingBox(this.props)}}},{key:"componentWillReceiveProps",value:function(e){this.checkBoundingBox(e)}},{key:"cacheDomDimensions",value:function(){this.cacheBoundingBox(),this.boundingComponent&&(this.cacheBoundComponentWidth(),this.boundingBoxLeft=(0,u.offset)(this.boundingComponent).left,this.boundingBoxWidth=this.boundingComponent.clientWidth,this.maxLeft=this.boundingBoxWidth-this.boundComponentWidth)}},{key:"cacheBoundComponentWidth",value:function(){if(this.boundComponent&&i(this.boundComponent)){var e=i(this.boundComponent).clientWidth;this.setState({boundComponentWidth:e}),this.boundComponentWidth=e}}},{key:"checkBoundingBox",value:function(e){if(e&&void 0!=e.targetLeft){this.cacheDomDimensions();var t=this.factorAnchorIntoTargetLeft(e),i=Math.min(Math.max(0,t),this.maxLeft);this.boundLeft=i}}},{key:"factorAnchorIntoTargetLeft",value:function(e){if("center"==f.origin){var t=Math.floor(this.boundComponentWidth/2);return e.targetLeft-t-this.boundingBoxLeft}return e.targetLeft-this.boundingBoxLeft}},{key:"render",value:function(){var t=this;return e.createElement(l,s({},this.props,{boundLeft:this.boundLeft,ref:function(e){return t.boundComponent=e}}))}}]),c}(t)}};t.default=d},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={setWidth:"PLAYBAR__SET_WIDTH",setIsDragging:"PLAYBAR__SET_IS_DRAGGING",setPlaybarPositionPercentage:"PLAYBAR__SET_PLAYBAR_POSITION_PERCENTAGE"}},function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0});var r=i(732),o=function(e){return e&&e.__esModule?e:{default:e}}(r),s=i(730),a=n(s),u=i(496),l=n(u),c=i(314),d=n(c);t.default={mount:o.default,actions:a,accessors:l,types:d}},,,,,,function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="CHAPTERS_";t.default={setIsVisible:i+"SET_IS_VISIBLE",setIsVisibleOnLoad:i+"SET_IS_VISIBLE_ON_LOAD",setIsMenuOpen:i+"SET_IS_MENU_OPEN",addChapter:i+"ADD_CHAPTER",removeChapter:i+"REMOVE_CHAPTER",setChapters:i+"SET_CHAPTERS",setLastChapterActivated:i+"SET_LAST_ACTIVE_CHAPTER",setCurrentlyHoveredChapter:i+"SET_CURRENTLY_HOVERED_CHAPTER",setChapterTitleLeftOffset:i+"SET_CHAPTER_TITLE_LEFT_OFFSET",setMenuWidth:i+"SET_MENU_WIDTH",setHasControlBeenClicked:i+"SET_HAS_CONTROL_BEEN_CLICKED"}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.formatList=t.chapterConversionData=t.ensureChapterId=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},s=i(502),a=n(s),u=i(70),l=n(u),c=function(e){var t=e.time;return o({},e,{time:parseFloat(t)})},d=function(e){return e||[]},h=function(e){return e.reduce(function(t,i){var n=e.concat(t);return t.push(g(i,n)),t},[])},p=function(e){return e.map(function(e){return c(e)})},f=function(e){return[].concat(r(e)).sort(function(e,t){return e.time-t.time})},m=function(e){return e.filter(function(e){return"true"!==e.deleted&&!0!==e.deleted})},g=t.ensureChapterId=function(e,t){return void 0!=e.id?e:o({},e,{id:_(t)})},_=function(e){var t,i=e.map(function(e){return e.id}),n=(0,l.default)(i,function(e){return void 0!=e});return n.length?(t=Math).max.apply(t,r(n))+1:0};t.chapterConversionData=function(e){return{co_key:e.conversionOpportunityKey,co_type:"ChapterConversionOpportunity",time:e.time}},t.formatList=(0,a.default)([d,h,m,p,f])},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="SETTINGS__";t.default={setIsMenuOpen:i+"SET_IS_MENU_OPEN",setIsVisible:i+"SET_IS_VISIBLE",setIsOpenFor:i+"SET_IS_OPEN_FOR",setValueFor:i+"SET_VALUE_FOR",setVideoQualityOptions:i+"SET_VIDEO_QUALITY"}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="VULCAN__";t.default={setIsKeyboardFocus:i+"SET_KEYBOARD_FOCUS",setEmbedOptionsFor:i+"SET_EMBED_OPTION_FOR",setMediaDataFor:i+"SET_MEDIA_DATA_FOR",setHashedId:i+"SET_HASHED_ID",setHost:i+"SET_HOST",setIsEmbeddedInCustomize:i+"SET_IS_EMBEDDED_IN_CUSTOMIZE",setEmbedHeight:i+"SET_EMBED_HEIGHT",setEmbedWidth:i+"SET_EMBED_WIDTH",setEmbedAspectRatio:i+"SET_EMBED_ASPECT_RATIO",setVideoHeight:i+"SET_VIDEO_HEIGHT",setVideoWidth:i+"SET_VIDEO_WIDTH",setIsUIReady:i+"SET_IS_UI_READY",setVideoLength:i+"SET_VIDEO_LENGTH",setVideoProgress:i+"SET_VIDEO_PROGRESS",setIsPlayInitiated:i+"SET_IS_PLAY_INITIATED",setPlayerColor:i+"SET_PLAYER_COLOR",setCustomerLogoImageUrl:i+"SET_CUSTOMER_LOGO_IMAGE_URL",setCustomerLogoTargetUrl:i+"SET_CUSTOMER_LOGO_TARGET_URL",setUUID:i+"SET_UUID",setHasBeenClicked:i+"SET_HAS_BEEN_CLICKED"}},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){var i=new l(e,t);return function(){i.destroy()}}Object.defineProperty(t,"__esModule",{value:!0}),t.StoreChangeAdapter=void 0;var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();t.default=r;var s=i(13),a=function(e){return e&&e.__esModule?e:{default:e}}(s),u=i(107),l=t.StoreChangeAdapter=function(){function e(t,i){n(this,e),this.store=(0,a.default)(t)?t:(0,u.getStoreForPlayerInstance)(t),this.previousState=this.store.getState(),this.listeners=i,this.unsubscribe=this.store.subscribe(this.onStoreChange.bind(this))}return o(e,[{key:"onStoreChange",value:function(){var e=this.store.getState();this.fireCallbacksIfChanged(this.listeners,e),this.recordPreviousState()}},{key:"fireCallbacksIfChanged",value:function(e,t){var i=this;Object.keys(e).forEach(function(n){var r=e[n].accessor;i.propHasChanged(r,t)&&e[n].callback(r(t))})}},{key:"recordPreviousState",value:function(){this.previousState=this.store.getState()}},{key:"propHasChanged",value:function(e,t){return e(this.previousState)!=e(t)}},{key:"destroy",value:function(){this.unsubscribe(),this.listeners=null,this.previousState=null,this.store=null}}]),e}()},function(e,t){var i;i="CAPTIONS__",e.exports={setIsMenuOpen:i+"SET_IS_MENU_OPEN",setMultipleProperties:i+"SET_MULTIPLE_PROPERTIES",setCurrentLanguage:i+"SET_CURRENT_LANGUAGE"}},function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0});var r=i(721),o=function(e){return e&&e.__esModule?e:{default:e}}(r),s=i(229),a=n(s),u=i(193),l=n(u);t.default={mount:o.default,actions:a,accessors:l}},function(e,t){function i(e,t){for(var i=-1,n=t.length,r=e.length;++i<n;)e[r+i]=t[i];return e}e.exports=i},function(e,t,i){function n(e){var t=s(e),i=a[t];if("function"!=typeof i||!(t in r.prototype))return!1;if(e===i)return!0;var n=o(i);return!!n&&e===n[0]}var r=i(249),o=i(309),s=i(334),a=i(569);e.exports=n},function(e,t,i){var n=i(99),r=n&&new n;e.exports=r},,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(312),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={setIsMenuOpen:function(e){return{type:r.default.setIsMenuOpen,payload:e}}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),u=i(12),l=i(24),c=n(l),d=i(22),h=n(d),p=i(47),f=n(p),m=i(191),g=n(m),_=function(e){function t(){r(this,t);var e=o(this,Object.getPrototypeOf(t).call(this));return e.state={},e}return s(t,e),a(t,[{key:"defaultKeySorter",value:function(e){return(0,c.default)(e)}},{key:"sortedOptionsKeys",value:function(){return(this.props.keySorter||this.defaultKeySorter)(this.props.options)}},{key:"onTitleClick",value:function(e){e.stopPropagation(),e.preventDefault(),this.props.onTitleClick()}},{key:"onItemClick",value:function(e){e.preventDefault(),e.stopPropagation();var t=e.target.getAttribute("data-optionkey");this.props.onItemClick(t)}},{key:"classNamesForListItem",value:function(e){return f.default.classListToString(["w-menu__list-link","w-menu__list-link--checkable",this.isSelected(e)?"is-checked":""])}},{key:"isSelected",value:function(e){return this.props.selectedOption?String(this.props.selectedOption)==String(e):String(this.props.currentOption)==String(e)}},{key:"classNamesForList",value:function(){return f.default.classListToString(["w-menu__list","w-menu__list--collapsable","w-is-transitioned"])}},{key:"getListHeight",value:function(){var e=this.props.isOpen;return this.state.fullListHeight&&e?this.state.fullListHeight:0}},{key:"listWrapperStyles",value:function(){return{height:this.getListHeight()+"px"}}},{key:"onSectionClick",value:function(e){e.preventDefault(),e.stopPropagation();var t=this.props,i=t.isPlaybackRateOpen;(0,t.setIsOpenFor)(e.currentTarget.dataset.section,!i)}},{key:"componentDidMount",value:function(){this.updateListHeight()}},{key:"componentWillUnmount",value:function(){this.optionsRefs=[],this.list=null}},{key:"listHeightChanged",value:function(){return this.state.fullListHeight!=this.list.clientHeight}},{key:"componentDidUpdate",value:function(){this.listHeightChanged()&&this.updateListHeight();var e=void 0;this.props.isOpenJustChanged&&(e=this.optionsRefs[0])&&e.focus()}},{key:"updateListHeight",value:function(){this.setState({fullListHeight:this.list&&this.list.clientHeight||0})}},{key:"getIsTabbable",value:function(){return this.props.isOpen?0:-1}},{key:"renderList",value:function(){var e=this,t=this.props,i=t.options;t.currentOption,t.title,this.optionsRefs=[];var n=this.sortedOptionsKeys().map(function(t){var n=i[t];return(0,u.h)("li",{class:"w-menu__list-item"},(0,u.h)("button",{ref:function(t){e.optionsRefs.push(t)},tabindex:e.getIsTabbable(),class:e.classNamesForListItem(t),"data-optionKey":t,onClick:e.onItemClick.bind(e),title:n,alt:n,"aria-label":n},n))});return this.props.lastItem&&n.push(this.props.lastItem()),n}},{key:"tabIndex",value:function(){var e=this.props.tabindex;return(0,h.default)(e)?e():0}},{key:"render",value:function(){var e=this,t=this.props,i=t.options,n=t.currentOption,r=t.title,o=i[n],s="w-menu__list-item w-menu__list-item--"+r;return(0,u.h)("li",{class:s},(0,u.h)("button",{tabindex:this.tabIndex(),onClick:this.onTitleClick.bind(this),class:"w-menu__section-title",title:r,alt:r,"aria-label":r},(0,u.h)("div",{class:"w-menu__section-title_label"},r),(0,u.h)("div",{class:"w-menu__section-title_value"},o)),(0,u.h)("div",{style:this.listWrapperStyles(),class:"w-menu__collapsable-wrapper"},(0,u.h)("ul",{ref:function(t){e.list=t},class:this.classNamesForList()},this.renderList())))}}]),t}(u.Component),y=(0,g.default)(_,"isOpen");t.default=y},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e.statusBar},n={getStatusMessage:function(e){return i(e).message},getIsVisible:function(e){return i(e).isVisible}};t.default=n},,,function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="PASSWORD_PROTECT__";t.default={setVisibility:i+"SET_VISIBILITY",setChallenge:i+"SET_CHALLENGE",setPassword:i+"SET_PASSWORD",setTempPassword:i+"SET_TEMP_PASSWORD",removeError:i+"REMOVE_ERROR",showError:i+"SHOW_ERROR",passwordSubmitted:i+"PASSWORD_SUBMITTED"}},function(e,t){var i=Date.now;e.exports=i},,function(e,t,i){var n=i(530),r=n();e.exports=r},,,,,,,,,,,,function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0});var r=i(703),o=function(e){return e&&e.__esModule?e:{default:e}}(r),s=i(494),a=n(s),u=i(328),l=n(u),c=i(312),d=n(c);t.default={mount:o.default,actions:a,accessors:l,types:d}},,,,,,,,,,,,,,,,function(e,t,i){function n(e){return c(function(t){t=o(t,1);var i=t.length,n=i,c=r.prototype.thru;for(e&&t.reverse();n--;){var _=t[n];if("function"!=typeof _)throw new TypeError(g);if(c&&!y&&"wrapper"==a(_))var y=new r([],!0)}for(n=y?n:i;++n<i;){_=t[n];var v=a(_),b="wrapper"==v?s(_):void 0;y=b&&l(b[0])&&b[1]==(p|d|h|f)&&!b[4].length&&1==b[9]?y[a(b[0])].apply(y,b[3]):1==_.length&&l(_)?y[v]():y.thru(_)}return function(){var e=arguments,n=e[0];if(y&&1==e.length&&u(n)&&n.length>=m)return y.plant(n).value();for(var r=0,o=i?t[r].apply(this,e):n;++r<i;)o=t[r].call(this,o);return o}})}var r=i(250),o=i(258),s=i(309),a=i(334),u=i(3),l=i(490),c=i(91),d=8,h=32,p=128,f=256,m=200,g="Expected a function";e.exports=n},,,,,function(e,t){var i={};e.exports=i},,function(e,t,i){function n(e){if(e instanceof r)return e.clone();var t=new o(e.__wrapped__,e.__chain__);return t.__actions__=s(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var r=i(249),o=i(250),s=i(185);e.exports=n},,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){var n=i(258),r=i(606),o=i(91),s=o(function(e,t){return null==e?{}:r(e,n(t,1))});e.exports=s},,,function(e,t,i){function n(e){if(u(e)&&!a(e)&&!(e instanceof r)){if(e instanceof o)return e;if(d.call(e,"__wrapped__"))return l(e)}return new o(e)}var r=i(249),o=i(250),s=i(251),a=i(3),u=i(5),l=i(537),c=Object.prototype,d=c.hasOwnProperty;n.prototype=s.prototype,e.exports=n},,,,,,,,,,,,,function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.destroyBus=void 0;var r=i(146),o=function e(){n(this,e)};t.destroyBus=function(){window.__wistiaEventBus=null};t.default=function(){if(!window.__wistiaEventBus){var e=new o;window.__wistiaEventBus=(0,r.bindify)(e)}return window.__wistiaEventBus}()},function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0});var r=i(707),o=function(e){return e&&e.__esModule?e:{default:e}}(r),s=i(329),a=n(s),u=i(286),l=n(u);t.default={accessors:a,actions:l,mount:o.default}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},o=i(307),s=n(o),a=i(288),u=n(a),l=(0,s.default)([]),c="REPORT_A_PROBLEM__",d=(0,u.default)([c+"SET_IS_OPEN",c+"SET_IS_HIDDEN",c+"SET_FORM_FEEDBACK",c+"SUBMIT_FORM_DATA_PHASE",c+"SET_DESCRIPTION",c+"SET_CATEGORY"]);t.default=r({},d,l)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=i(610),o=n(r),s=i(10),a=n(s),u=a.default,l=u.lib("player/lib/assets"),c=u.lib("utilities/obj"),d=u.lib("utilities/url"),h=(d.proto,u.lib("player/lib/hosts")),p=(h.cdnFastWistiaNetHost,u.lib("utilities/localstorage")),f=(p.setOrGet,u.lib("utilities/core")),m=(f.base64Encode,a.default.lib("utilities/cacheable")),g=m.makeCacheable,_=m.uncacheNamespace,y=m.makeNamespace,v=(g("hls_utils"),y("level_to_asset")),b=y("asset_to_level"),A=function(e,t){return l.isScreencast(e.allAssets)&&(t=o.default.filterAssetsForScreencast(e,t)),e.attributes.qualityMin>0&&(t=o.default.rejectAudioAsset(e,t)),t=T(e,t)
},w=function(e,t){t=o.default.allHlsAssets(t),t=A(e,t);var i=E(e,t)||o.default.bestAssetForCurrentSize(e,t,{maxWidth:1280})||o.default.mediumQualityStartingAsset(e,t)||o.default.anyViableAsset(e,t);return t=k(e,t).concat(C(e,t)),l.moveToFront(t,i),t},E=function(e,t){var i=arguments.length<=2||void 0===arguments[2]?e.attributes.bwEstimateOnInit:arguments[2];return i?l.one(t,{width:[0,o.default.maxAssetWidthBasedOnVideoWidth(e.attributes.width,e.attributes.devicePixelRatio)],metadata:function(t){if(!t)return!1;var n=S(e,t);return 99999999999>n&&n<i*e.abrBandWidthUpFactor()},sortFn:function(e,t){return t.metadata.max_bitrate-e.metadata.max_bitrate}}):null},k=function(e,t){var i=c.filter(t,function(e){return e.metadata.max_bitrate<99999999999});return i.sort(function(e,t){return e.width-t.width}),i},C=function(e,t){var i=c.filter(t,function(e){return e.metadata.max_bitrate>=99999999999});return i.sort(function(e,t){return e.width-t.width}),i},T=function(e,t){for(var i=e.attributes,n=i.qualityMin,r=i.qualityMax,o=0,s=0;s<t.length;s++){var a=t[s],u=l.numericSizeSnapped(a.width,a.height);u>=n&&r>=u||(o+=1)}if(o<t.length){for(var s=0;s<t.length;s++){var a=t[s],u=l.numericSizeSnapped(a.width,a.height);u>=n&&r>=u||x(a,s),"Audio"===a.display_name&&n>0&&x(a,s)}return t}for(var c=l.nearestOutsideRange(t,n,r).map(function(e){return e.url}),s=0;s<t.length;s++){var a=t[s];-1===c.indexOf(a.url)&&x(a,s),"Audio"===a.display_name&&n>0&&x(a,s)}return t},x=function(e,t){var i=void 0;(i=e&&e.metadata)&&(i.real_early_max_bitrate||(i.real_early_max_bitrate=i.early_max_bitrate),i.real_average_bitrate||(i.real_average_bitrate=i.average_bitrate),i.real_max_bitrate||(i.real_max_bitrate=i.max_bitrate),i.early_max_bitrate=i.average_bitrate=i.max_bitrate=99999999999+t)},S=function(e,t){if(!t||!t.max_bitrate)return 99999999999;var i=8*t.max_bitrate,n=8*O(t),r=8*P(t),o=e.getPreload(),s=e.getCurrentTime(),a=e.timeBeforeEndOfBuffer();if(e.videoElem()&&e.videoElem().paused,s<=6&&n>r)return n;if(s<=6&&"none"!==o)return"auto"===o?n:.5*n+.5*i;if(a<=6)return i;if(!isPaused&&a<=16){var u=a-6,l=u/10;return l*n+(1-l)*i}return n},O=function(e){return null!=e.average_bitrate?e.average_bitrate:e.max_bitrate},P=function(e){return null!=e.early_max_bitrate?e.early_max_bitrate:e.max_bitrate},I=function(e,t){var i=void 0;return(i=R(e,t))?S(e,i.metadata):99999999999},M=function(e){return e.hls.abrController.getEstimate()*e.abrBandWidthUpFactor()},D=function(e,t){return t&&t.metadata&&M(e)>8*t.metadata.max_bitrate},R=function(e,t){var i=void 0;if(null!=(i=v(e)[t]))return i;var n=c.get(e.hls.levels,[t,"url",0]),r=l.one(e.allAssets,{url:n});return r&&(r.bitrate=L(r,t)),v(e)[t]=r,r},B=function(e,t){var i=void 0;if(null!=(i=b(e)[t.url]))return i;var n=c.filter(e.hls.levels,function(e){return e.url[0]===t.url})[0],r=e.hls.levels.indexOf(n);return n&&(b(e)[n.url[0]]=r),r},L=function(e,t,i){if(e.hls){var n=null,r=c.get(e.hls.levels,[i,"details","fragments"]);if(r){n=8*r[r.length-1].byteRangeEndOffset/e.getDuration()/1024}return n}},F=function(e){return!!/whlsmultifile=true/.test(location.href)||(!!H(e)||a.default.mux.experimentEnabled("hlsmulti"))},j=function(e){for(var t=new Uint8Array(e),i=t.length,n="",r=Math.pow(2,16)-1,o=0;i>o;o+=r)o+r>i&&(r=i-o),n+=String.fromCharCode.apply(null,t.subarray(o,o+r));return n},N=function(e,t){if(F(e)){var i=/#EXT-X-BYTERANGE:(\d+)@(\d+)\s+([a-zA-Z0-9]+)\.ts/g,n=function(e,t,i,n){return n+"-"+i+"-"+(parseInt(i)+parseInt(t))+".ts"};return t.replace(i,n)}return t},H=function(e){for(var t=e.allAssets,i=0;i<t.length;i++)if(U(e,t[i]))return!0;return!1},U=function(e,t){var i=V(t);if(i&&99999999999>i){if(i*e.getDuration()>1610612736)return!0}return!1},V=function(e){return e&&e.metadata?e.metadata.real_average_bitrate||e.metadata.average_bitrate:null},W=function(e){e.attributes.calledStartLoad||(e.hls.startLoad(),e.setAttributes({calledStartLoad:!0}))},G=function(e){e.hls.stopLoad(),e.setAttributes({calledStartLoad:!1})},z=function(e){_("level_to_asset",e),_("asset_to_level",e)};e.exports={levelToAsset:R,assetToLevel:B,startingAssetBasedOnBandwidthEstimate:E,filteredHlsAssets:A,m3u8OrderedAssets:w,bitrateForLevel:I,weightedBwUpEstimate:M,shouldTransformPathToIncludeByteRange:F,transformPlaylist:N,canSupportAsset:D,startLoadOnce:W,stopLoad:G,arrayBufferToString:j,UNOBTAINABLE_BITRATE:99999999999,teardown:z}},,,,,,,function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(72),o=n(r),s=i(312),a=n(s),u={isMenuOpen:!1},l=function(){var e=arguments.length<=0||void 0===arguments[0]?u:arguments[0],t=arguments[1];switch(t.type){case a.default.setIsMenuOpen:return(0,o.default)({},e,{isMenuOpen:t.payload});default:return e}};t.default=l},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.initialState=void 0;var o=i(72),s=n(o),a=i(70),u=n(a),l=i(482),c=n(l),d=i(483),h={isVisible:!1,isVisibleOnLoad:!1,isMenuOpen:!1,menuWidth:240,chapters:[],lastChapterActivated:null,currentlyHoveredChapter:null,chapterTitleLeftOffset:0,hasControlBeenClicked:!1},p=function(e,t){var i=(0,d.ensureChapterId)(t,e),n=f(e,i.id);return(0,d.formatList)([].concat(r(n),[i]))},f=function(e,t){var i=m(e,t);return i?(0,d.formatList)((0,u.default)(e,function(e){return e.id!=i.id})):e},m=function(e,t){return(0,u.default)(e,function(e){return e.id==t})[0]},g=function(){var e=arguments.length<=0||void 0===arguments[0]?h:arguments[0],t=arguments[1];switch(t.type){case c.default.setIsVisible:return(0,s.default)({},e,{isVisible:t.payload});case c.default.setIsMenuOpen:return(0,s.default)({},e,{isMenuOpen:t.payload});case c.default.addChapter:return(0,s.default)({},e,{chapters:p(e.chapters,t.payload)});case c.default.removeChapter:return(0,s.default)({},e,{chapters:f(e.chapters,t.payload)});case c.default.setChapters:return(0,s.default)({},e,{chapters:(0,d.formatList)(t.payload)});case c.default.setLastChapterActivated:return(0,s.default)({},e,{lastChapterActivated:t.payload});case c.default.setCurrentlyHoveredChapter:return(0,s.default)({},e,{currentlyHoveredChapter:t.payload});case c.default.setChapterTitleLeftOffset:return(0,s.default)({},e,{chapterTitleLeftOffset:t.payload});case c.default.setMenuWidth:return(0,s.default)({},e,{menuWidth:t.payload});case c.default.setIsVisibleOnLoad:return(0,s.default)({},e,{isVisibleOnLoad:t.payload});case c.default.setHasControlBeenClicked:return(0,s.default)({},e,{hasControlBeenClicked:t.payload});default:return e}};t.initialState=h,t.default=g},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(72),o=n(r),s=i(499),a=n(s),u={isVisible:!1,challenge:"",password:"",tempPassword:"",errorMessage:"",isErrorShowing:!1,passwordSubmitted:""},l=function(){var e=arguments.length<=0||void 0===arguments[0]?u:arguments[0],t=arguments[1];switch(t.type){case a.default.setVisibility:return(0,o.default)({},e,{isVisible:t.payload});case a.default.setChallenge:return(0,o.default)({},e,{challenge:t.payload});case a.default.setPassword:return(0,o.default)({},e,{password:t.payload});case a.default.setTempPassword:return(0,o.default)({},e,{tempPassword:t.payload});case a.default.showError:return(0,o.default)({},e,{isErrorShowing:!0,errorMessage:t.payload});case a.default.removeError:return(0,o.default)({},e,{isErrorShowing:!1,errorMessage:""});case a.default.passwordSubmitted:return(0,o.default)({},e,{passwordSubmitted:t.payload});default:return e}};t.default=l},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e.playbar};t.getWidth=function(e){return i(e).width},t.getIsDragging=function(e){return i(e).isDragging},t.getPlaybarPositionPercentage=function(e){return i(e).playbarPositionPercentage}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setPlaybarPositionPercentage=t.setIsDragging=t.setWidth=void 0;var n=i(475),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.setWidth=function(e){return{type:r.default.setWidth,payload:e}},t.setIsDragging=function(e){return{type:r.default.setIsDragging,payload:e}},t.setPlaybarPositionPercentage=function(e){return{type:r.default.setPlaybarPositionPercentage,payload:e}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.initialState=void 0;var r=i(72),o=n(r),s=i(475),a=n(s),u=t.initialState={width:0,isDragging:!1,playbarPositionPercentage:0};t.default=function(){var e=arguments.length<=0||void 0===arguments[0]?u:arguments[0],t=arguments[1];switch(t.type){case a.default.setWidth:return(0,o.default)({},e,{width:t.payload});case a.default.setIsDragging:return(0,o.default)({},e,{isDragging:t.payload});case a.default.setPlaybarPositionPercentage:return(0,o.default)({},e,{playbarPositionPercentage:t.payload});default:return(0,o.default)({},e)}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.reducer=t.initialState=void 0;var r=i(566),o=n(r),s=i(49),a=n(s),u=i(584),l=n(u),c=t.initialState={isOpen:!1,isHidden:!0,submitFormDataPhase:"not-submitting",formFeedbackType:"blank",formFeedbackText:"",description:"",category:""},d=t.reducer=function(){var e=arguments.length<=0||void 0===arguments[0]?c:arguments[0],t=arguments[1];switch(t.type){case l.default.REPORT_A_PROBLEM__SET_IS_OPEN:return(0,a.default)(e,{isOpen:t.payload});case l.default.REPORT_A_PROBLEM__SET_IS_HIDDEN:return(0,a.default)(e,{isHidden:t.payload});case l.default.REPORT_A_PROBLEM__SET_FORM_FEEDBACK:return(0,a.default)(e,(0,o.default)(t.payload,["formFeedbackType","formFeedbackText"]));case l.default.REPORT_A_PROBLEM__SUBMIT_FORM_DATA_PHASE:return(0,a.default)(e,{submitFormDataPhase:t.payload});case l.default.REPORT_A_PROBLEM__SET_CATEGORY:return(0,a.default)(e,{category:t.payload});case l.default.REPORT_A_PROBLEM__SET_DESCRIPTION:return(0,a.default)(e,{description:t.payload});default:return e}};t.default=d},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(72),o=n(r),s=i(484),a=n(s),u={isVisible:!1,isMenuOpen:!1,playbackRate:{value:"1",isOpen:!1},videoQuality:{value:"default",isOpen:!1},selectedVideoQuality:{value:"default"},videoQualityOptions:{default:""},playbackRateOptions:{.5:"0.5x",1:"1x",1.25:"1.25x",1.5:"1.5x",1.75:"1.75x",2:"2x"}},l=function(){var e=arguments.length<=0||void 0===arguments[0]?u:arguments[0],t=arguments[1];switch(t.type){case a.default.setIsMenuOpen:return(0,o.default)({},e,{isMenuOpen:t.payload});case a.default.setIsVisible:return(0,o.default)({},e,{isVisible:t.payload});case a.default.setVideoQualityOptions:return(0,o.default)({},e,{videoQualityOptions:t.payload});case a.default.setIsOpenFor:var i=t.payload,n=i.key,r=i.isOpen,s={};return s[n]=(0,o.default)({},e[n],{isOpen:r}),(0,o.default)({},e,s);case a.default.setValueFor:var l=t.payload,n=l.key,c=l.value,s={};return s[n]=(0,o.default)({},e[n],{value:c}),(0,o.default)({},e,s);default:return e}};t.default=l},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(72),o=n(r),s=i(313),a=n(s),u={sd_mp4:{url:"",ext:""},hd_mp4:{url:"",ext:""},original:{url:"",ext:""}},l={isVisible:!1,isMenuOpen:!1,isEmbedCodeCopierOpen:!1,activeChannels:"googlePlus-email-facebook-linkedIn-twitter-download-embed",pageTitle:"pagetitle",pageUrl:"pageurl",overrideUrl:!1,videoName:"vidname",ignoreQueryParams:!0,includeLinkback:!1,downloadType:"original",tweetText:"tweetText",assets:u,conversionOpportunityKey:null,conversionOpportunity:{},currentTime:0},c=function(e,t,i){switch(t){case a.default.setAsset:var n={};return n[i.quality]=i.assetHash,(0,o.default)({},e,n);default:return e}},d=function(){var e=arguments.length<=0||void 0===arguments[0]?l:arguments[0],t=arguments[1];switch(t.type){case a.default.setMultipleProperties:return(0,o.default)({},e,t.payload);case a.default.setVisibility:return(0,o.default)({},e,{isVisible:t.payload});case a.default.setIsMenuOpen:return(0,o.default)({},e,{isMenuOpen:t.payload});case a.default.setIsEmbedCodeCopierOpen:return(0,o.default)({},e,{isEmbedCodeCopierOpen:t.payload});case a.default.setActiveChannels:return(0,o.default)({},e,{activeChannels:t.payload});case a.default.setPageTitle:return(0,o.default)({},e,{pageTitle:t.payload});case a.default.setPageUrl:return(0,o.default)({},e,{pageUrl:t.payload});case a.default.setVideoName:return(0,o.default)({},e,{videoName:t.payload});case a.default.setIgnoreQueryParams:return(0,o.default)({},e,{ignoreQueryParams:t.payload});case a.default.setTweetText:return(0,o.default)({},e,{tweetText:t.payload});case a.default.setDownloadType:return(0,o.default)({},e,{downloadType:t.payload});case a.default.setAsset:var i=c(e.assets,t.type,t.payload);return(0,o.default)({},e,{assets:i});case a.default.setConversionOpportunity:if(!e.conversionOpportunityKey)return e;var n=(0,o.default)({},{co_key:e.conversionOpportunityKey,co_type:"share",time:e.currentTime},t.payload);return(0,o.default)({},e,{conversionOpportunity:n});case a.default.setConversionOpportunityKey:return(0,o.default)({},e,{conversionOpportunityKey:t.payload});case a.default.setCurrentTime:return(0,o.default)({},e,{currentTime:t.payload});default:return e}};t.default=d},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(72),o=n(r),s=i(314),a=n(s),u={isVisible:!1,message:"message"},l=function(){var e=arguments.length<=0||void 0===arguments[0]?u:arguments[0],t=arguments[1];switch(t.type){case a.default.setMessage:return(0,o.default)({},e,{message:t.payload});case a.default.setVisibility:return(0,o.default)({},e,{isVisible:t.payload});default:return e}};t.default=l},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.initialState=void 0;var r=i(49),o=n(r),s=i(485),a=n(s),u=t.initialState={uuid:"initial",embedHeight:0,embedWidth:0,embedAspectRatio:0,videoHeight:0,videoWidth:0,videoLength:0,videoProgress:0,isPlayInitiated:!1,hashedId:"gtgmjh6xbc",host:"fast.wistia.dev",isEmbeddedInCustomize:!1,isKeyboardFocus:!1,isUIReady:!1,playerColor:"#000000",customerLogoImageUrl:"",customerLogoTargetUrl:"",hasBeenClicked:!1,embedOptions:{hasBranding:!1,isChromeless:!1,settingsControl:!1,playbackRateControl:!1,qualityControl:!1,bigPlayButtonControl:!1,autoPlay:!1,hasBigPlayButtonTime:!1,endVideoBehavior:null,showCustomerLogo:!1},mediaData:{hasBranding:!1,enableCustomerLogo:!1}},l=function(){var e=arguments.length<=0||void 0===arguments[0]?u:arguments[0],t=arguments[1];switch(t.type){case a.default.setIsKeyboardFocus:return(0,o.default)({},e,{isKeyboardFocus:t.payload});case a.default.setEmbedOptionsFor:var i=(0,o.default)({},e.embedOptions,t.payload);return(0,o.default)({},e,{embedOptions:i});case a.default.setMediaDataFor:var n=(0,o.default)({},e.mediaData,t.payload);return(0,o.default)({},e,{mediaData:n});case a.default.setHashedId:return(0,o.default)({},e,{hashedId:t.payload});case a.default.setHost:return(0,o.default)({},e,{host:t.payload});case a.default.setEmbedHeight:return(0,o.default)({},e,{embedHeight:t.payload});case a.default.setEmbedWidth:return(0,o.default)({},e,{embedWidth:t.payload});case a.default.setEmbedAspectRatio:return(0,o.default)({},e,{embedAspectRatio:t.payload});case a.default.setVideoHeight:return(0,o.default)({},e,{videoHeight:t.payload});case a.default.setVideoWidth:return(0,o.default)({},e,{videoWidth:t.payload});case a.default.setIsUIReady:return(0,o.default)({},e,{isUIReady:t.payload});case a.default.setVideoLength:return(0,o.default)({},e,{videoLength:t.payload});case a.default.setVideoProgress:return(0,o.default)({},e,{videoProgress:t.payload});case a.default.setIsPlayInitiated:return(0,o.default)({},e,{isPlayInitiated:t.payload});case a.default.setPlayerColor:return(0,o.default)({},e,{playerColor:t.payload});case a.default.setCustomerLogoImageUrl:return(0,o.default)({},e,{customerLogoImageUrl:t.payload});case a.default.setCustomerLogoTargetUrl:return(0,o.default)({},e,{customerLogoTargetUrl:t.payload});case a.default.setUUID:return(0,o.default)({},e,{uuid:t.payload});case a.default.setIsEmbeddedInCustomize:return(0,o.default)({},e,{isEmbeddedInCustomize:t.payload});case a.default.setHasBeenClicked:return(0,o.default)({},e,{hasBeenClicked:t.payload});default:return e}};t.default=l},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t={branding:u.default,captions:h.default,chapters:f.default,settings:g.default,shareMenu:y.default,statusBar:b.default,playbar:w.default.reducer,vulcan:k.default,passwordProtect:T.default,reportAProblem:c.default};return(0,r.combineReducers)((0,s.default)({},t,e))};var r=i(7),o=i(72),s=n(o),a=i(592),u=n(a),l=i(598),c=n(l),d=i(604),h=n(d),p=i(593),f=n(p),m=i(599),g=n(m),_=i(600),y=n(_),v=i(601),b=n(v),A=i(395),w=n(A),E=i(602),k=n(E),C=i(594),T=n(C)},function(e,t,i){var n,r,o,s,a,u,l,c;r=i(72),n=i(487),o=i(70),l={id:0,english_name:"Off",native_name:"Off",language:"off",key:"off"},s={isMenuOpen:!1,captions:[l],currentLanguage:0},a=function(e){var t;return t=0,o(e,function(e){return e.id===t})[0]?e:(e.unshift(l),e)},u=function(e){return e.captions?a(e.captions):e},c=function(e,t){switch(null==e&&(e=s),t.type){case n.setMultipleProperties:return u(t.payload),r({},e,t.payload);case n.setIsMenuOpen:return r({},e,{isMenuOpen:t.payload});case n.setCurrentLanguage:return r({},e,{currentLanguage:t.payload});default:return e}},e.exports=c},,function(e,t,i){function n(e,t){return e=Object(e),r(t,function(t,i){return i in e&&(t[i]=e[i]),t},{})}var r=i(215);e.exports=n},function(e,t,i){function n(e,t,i){var n=u(e)?r:a,l=arguments.length<3;return n(e,s(t,4),i,l,o)}var r=i(215),o=i(104),s=i(77),a=i(737),u=i(3);e.exports=n},,,function(e,t,i){"use strict";var n=i(10),r=function(e){return e&&e.__esModule?e:{default:e}}(n),o=r.default,s=o.lib("player/lib/assets"),a=o.lib("utilities/obj"),u=o.lib("utilities/core"),l=u.base64Encode,c=function(e){var t=m3u8OrderedAssets(e,e.allAssets),i=y(t),n=g(i);return n.display_name="Auto",n.slug="Auto",n},d=function(e){return s.filter(e,{container:"m3u8",segment_duration:3,type:"hls_video",status:s.READY,metadata:function(e){return e&&e.max_bitrate}}).sort(function(e,t){return(e.metadata.max_bitrate||0)-(t.metadata.max_bitrate||0)})},h=function(e,t){return a.filter(t,function(e){return"Audio"!=e.display_name})},p=function(e,t){return s.one(t,{width:[601,Math.min(1279,b(e.attributes.width,e.attributes.devicePixelRatio))],sortBy:"width desc"})},f=function(e,t){return s.one(t,{sortBy:"width asc"})},m=function(e,t){var i=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];return s.one(t,{width:[601,Math.min(i.maxWidth||8192,b(e.attributes.width,e.attributes.devicePixelRatio))],sortBy:"width desc"})},g=function(e){return{bitrate:"variable",ext:"m3u8",height:"variable",public:!0,size:"variable",type:"hls_video",url:e,width:"variable",slug:"hls_master_m3u8_seg3s"}},_=function(e){for(var t=[],i=0;i<e.length;i++){var n=e[i],r=8*n.metadata.max_bitrate;t.push("#EXT-X-STREAM-INF:PROGRAM-ID=1,CLOSED-CAPTIONS=NONE,BANDWIDTH="+r+",NAME="+n.display_name+"\n"+n.url)}return"#EXTM3U\n"+t.join("\n")},y=function(e){var t=_(e);return"data:application/x-mpegURL;base64,"+l(t)},v=function(e){var t=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];return urlProto()+"//"+cdnFastWistiaNetHost()+"/embed/medias/"+e+".m3u8?segment_duration=3&exclude_audio="+!t},b=function(e){return e*(arguments.length<=1||void 0===arguments[1]?window.devicePixelRatio||1:arguments[1])*1.2},A=function(e,t){var i=a.filter(t,function(e){return e.width>640});return i.length>0?i:t};e.exports={adaptiveAsset:c,allHlsAssets:d,rejectAudioAsset:h,mediumQualityStartingAsset:p,anyViableAsset:f,bestAssetForCurrentSize:m,buildMasterM3u8Asset:g,masterM3u8ContentFromAssets:_,masterM3u8DataUri:y,masterM3u8Url:v,maxAssetWidthBasedOnVideoWidth:b,filterAssetsForScreencast:A}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(40),o=i(63),s=(n(o),i(194)),a=n(s),u=i(476),l=(n(u),function(e){var t=arguments.length<=1||void 0===arguments[1]?"Share":arguments[1],i=["height=450","width=550","top="+(window.innerHeight/2-275),"left="+(window.innerWidth/2-225),"toolbar=0","location=0","menubar=0","directories=0","scrollBars=0"];return window.open(e,t,i.join(","))}),c=function(e){return window.location=e},d=function(e,t){switch(t){case"facebook":return f(e);case"linkedIn":return m(e);case"twitter":return _(e);case"email":return b(e);case"download":return A(e);case"googlePlus":return w(e);case"embed":return"#";default:return console.log("Don't know how to build a link for "+t+".")}},h=function(e){if(a.default.overrideUrl(e))var t=a.default.pageUrl(e);else var t=window.location.href;if(a.default.ignoreQueryParams(e))var i=t.replace(/\?.*/,"");else var i=t;return encodeURIComponent(i)},p=function(e){return a.default.overrideUrl(e)?a.default.pageTitle(e):document.title},f=function(e){return"https://www.facebook.com/sharer/sharer.php?"+["u="+h(e)].join("&")},m=function(e){return"https://www.linkedin.com/shareArticle?"+g(e)},g=function(e){return["mini=true","url="+h(e),"title="+p(e),"summary=","source="].join("&")},_=function(e){return"https://twitter.com/home?"+["status="+y(e)].join("&")},y=function(e){return encodeURIComponent(v(e))+" "+h(e)},v=function(e){return"{default}"===a.default.tweetText(e)?p(e):a.default.tweetText(e).replace("{video_name}",a.default.videoName(e)).replace("{page_title}",p(e))},b=function(e){return"mailto:?"+["subject="+encodeURIComponent(p(e)),"body="+h(e)].join("&")},A=function(e){var t=a.default.downloadAsset(e),i=t.url.replace("http://embed.wistia.com","https://embed-ssl.wistia.com").replace("http://embed-0.wistia.com","https://embed-ssl.wistia.com"),n=(0,r.unescapeHtml)(a.default.videoName(e))+"."+t.ext;return i+"?filename="+encodeURIComponent(n)+"&disposition=attachment"},w=function(e){return"https://plus.google.com/share?"+["url="+h(e)].join("&")},E=function(e){switch(e){case"facebook":return"Facebook";case"twitter":return"Twitter";case"email":return"Email";case"linkedIn":return"LinkedIn";case"googlePlus":return"Google+";case"embed":return"Embed";case"download":return"Download";default:return console.log("couldnt find a display name for "+e),""}},k=function(e){return shareIcons[e]},C=function(e){var t=(e||"").split("-");return 1===t.length&&""===t[0]?[]:t};t.default={openLinkInNewWindow:l,openLinkInSameWindow:c,generateLinkFor:d,channelToDisplayName:E,channelToIcon:k,channelsStrToArr:C}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(485),o=n(r),s=(i(186),i(582)),a=n(s);t.default={setIsKeyboardFocus:function(e){return{type:o.default.setIsKeyboardFocus,payload:e}},setEmbedOptionFor:function(e,t){var i={};return i[e]=t,{type:o.default.setEmbedOptionsFor,payload:i}},setMediaDataFor:function(e,t){var i={};return i[e]=t,{type:o.default.setMediaDataFor,payload:i}},setHashedId:function(e){return{type:o.default.setHashedId,payload:e}},setHost:function(e){return{type:o.default.setHost,payload:e}},setEmbedHeight:function(e){return{type:o.default.setEmbedHeight,payload:e}},setEmbedWidth:function(e){return{type:o.default.setEmbedWidth,payload:e}},setEmbedAspectRatio:function(e){return{type:o.default.setEmbedAspectRatio,payload:e}},setVideoHeight:function(e){return{type:o.default.setVideoHeight,payload:e}},setVideoWidth:function(e){return{type:o.default.setVideoWidth,payload:e}},setIsUIReady:function(e){return{type:o.default.setIsUIReady,payload:e}},setVideoLength:function(e){return{type:o.default.setVideoLength,payload:e}},setVideoProgress:function(e){return{type:o.default.setVideoProgress,payload:e}},setIsPlayInitiated:function(e){return{type:o.default.setIsPlayInitiated,payload:e}},setPlayerColor:function(e){return{type:o.default.setPlayerColor,payload:e}},setCustomerLogoImageUrl:function(e){return{type:o.default.setCustomerLogoImageUrl,payload:e}},setCustomerLogoTargetUrl:function(e){return{type:o.default.setCustomerLogoTargetUrl,payload:e}},startPlay:function(e){return function(){a.default.trigger(e+":startPlay")}},setHasBeenClicked:function(e){return{type:o.default.setHasBeenClicked,payload:e}},setUUID:function(e){return{type:o.default.setUUID,payload:e}},setIsEmbeddedInCustomize:function(e){return{type:o.default.setIsEmbeddedInCustomize,payload:e}}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),u=i(12),l=i(20),c=i(704),d=n(c),h=i(705),p=n(h),f=i(289),m=n(f),g=function(e){return{isVisible:m.default.getHasBranding(e)}},_=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return s(t,e),a(t,[{key:"renderComponent",value:function(){return(0,u.h)("div",{class:"w-component w-component--branding"},(0,u.h)(p.default,null),(0,u.h)(d.default,null))}},{key:"render",value:function(){var e=this.props.isVisible;return(0,u.h)("div",null,e&&this.renderComponent())}}]),t}(u.Component);t.default=(0,l.connect)(g)(_)},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){var i=(0,u.render)((0,u.h)(p,{instanceId:t}),e);return function(){(0,u.render)((0,u.h)("nothing",null),e,i)}}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();t.default=s;var u=i(12),l=(i(7),i(20)),c=i(107),d=i(702),h=function(e){return e&&e.__esModule?e:{default:e}}(d),p=function(e){function t(){return n(this,t),r(this,Object.getPrototypeOf(t).apply(this,arguments))}return o(t,e),a(t,[{key:"render",value:function(){var e=this.props.instanceId,t=(0,c.getStoreForPlayerInstance)(e);return(0,u.h)(l.Provider,{store:t},(0,u.h)(h.default,null))}}]),t}(u.Component)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),u=i(12),l=i(20),c=i(7),d=i(494),h=n(d),p=i(328),f=n(p),m=i(154),g=n(m),_=function(e){return{menuIsOpen:f.default.getIsMenuOpen(e)}},y=function(e){return(0,c.bindActionCreators)({setIsMenuOpen:h.default.setIsMenuOpen,closeAllMenus:g.default.closeAllMenus},e)},v=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return s(t,e),a(t,[{key:"onClick",value:function(e){e.preventDefault(),e.stopPropagation(),this.toggleMenu()}},{key:"toggleMenu",value:function(){var e=this.props,t=e.menuIsOpen,i=e.setIsMenuOpen;0==t?(this.props.closeAllMenus(),i(!0)):i(!1)}},{key:"classNames",value:function(){return"w-control w-control--branding w-is-visible"}},{key:"render",value:function(){return(0,u.h)("button",{title:"Wistia Branding",class:this.classNames(),onClick:this.onClick.bind(this)})}}]),t}(u.Component);t.default=(0,l.connect)(_,y)(v)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),u=i(12),l=i(20),c=(i(7),i(328)),d=n(c),h=i(47),p=n(h),f=i(192),m=n(f),g=function(e){return{isMenuOpen:d.default.getIsMenuOpen(e)}},_=function(e){function t(){var e,i,n,s;r(this,t);for(var a=arguments.length,u=Array(a),l=0;a>l;l++)u[l]=arguments[l];return i=n=o(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),n.stopProp=function(e){e.stopPropagation()},s=i,o(n,s)}return s(t,e),a(t,[{key:"classNames",value:function(){var e=this.props,t=e.isOpen,i=e.isTransitioned;return p.default.classListToString(["w-hover-detail","w-hover-detail--branding",t?"w-is-visible":"",i?"w-is-transitioned":""])}},{key:"render",value:function(){return(0,u.h)("div",{class:this.classNames()},(0,u.h)("p",{class:"w-hover-detail__p"},"Hi! We're Wistia. We provide business video hosting to attract, engage, and delight"),(0,u.h)("div",{class:"w-align--right"},(0,u.h)("a",{class:"w-hover-detail__button",href:"https://wistia.com",target:"_blank",onClick:this.stopProp},"Learn More")))}}]),t}(u.Component),y=(0,m.default)(_,"isMenuOpen");t.default=(0,l.connect)(g)(y)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),u=i(12),l=(i(20),i(7),i(708)),c=n(l),d=i(710),h=n(d),p=i(63),f=(n(p),i(286)),m=(n(f),i(47)),g=(n(m),function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return s(t,e),a(t,[{key:"render",value:function(){return(0,u.h)("div",{class:"w-component w-component--captions"},(0,u.h)(h.default,null),(0,u.h)(c.default,null))}}]),t}(u.Component));t.default=g},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){var i=(0,u.render)((0,u.h)(p,{instanceId:t}),e);return function(){(0,u.render)((0,u.h)("nothing",null),e,i)}}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();t.default=s;var u=i(12),l=(i(7),i(20)),c=i(107),d=i(706),h=function(e){return e&&e.__esModule?e:{default:e}}(d),p=function(e){function t(){return n(this,t),r(this,Object.getPrototypeOf(t).apply(this,arguments))}return o(t,e),a(t,[{key:"render",value:function(){var e=this.props.instanceId,t=(0,c.getStoreForPlayerInstance)(e);return(0,u.h)(l.Provider,{store:t},(0,u.h)(h.default,null))}}]),t}(u.Component)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),u=i(12),l=i(20),c=i(7),d=i(154),h=n(d),p=i(286),f=n(p),m=i(329),g=n(m),_=i(63),y=n(_),v=i(709),b=n(v),A=function(e){return{menuIsOpen:g.default.getIsMenuOpen(e),isControlVisible:y.default.accessors.getHasCaptionsControl(e)}},w=function(e){return(0,c.bindActionCreators)({setIsMenuOpen:f.default.setIsMenuOpen,closeAllMenus:h.default.closeAllMenus},e)},E=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return s(t,e),a(t,[{key:"onClick",value:function(e){e.stopPropagation(),e.preventDefault();var t=this.props,i=t.menuIsOpen,n=t.setIsMenuOpen;(0,t.closeAllMenus)(),n(!i)}},{key:"render",value:function(){return this.props.isControlVisible?(0,u.h)("button",{title:"Captions",tabIndex:"0","aria-label":"Closed Captions",class:"w-control w-control--captions w-is-visible",onClick:this.onClick.bind(this)},(0,u.h)("div",{class:"w-control--icon"},(0,u.h)(b.default,null))):""}}]),t}(u.Component);t.default=(0,l.connect)(A,w)(E)},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=i(12),u=function(e){function t(){return n(this,t),r(this,Object.getPrototypeOf(t).apply(this,arguments))}return o(t,e),s(t,[{key:"render",value:function(){return(0,a.h)("svg",{x:"0px",y:"0px",viewBox:"0 0 30.6 22.8","enable-background":"new 0 0 30.6 22.8",class:"wistia_vulcan_svg_icon wistia_vulcan_svg_icon_captions"},(0,a.h)("path",{fill:"none",stroke:"#000000","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":"10",d:"M13.5,13.7c-0.6,0.9-1.4,1.6-2.7,1.6c-1.7,0-3.1-1.5-3.1-3.6C7.7,9.5,9,8,10.8,8c1.3,0,2.1,0.7,2.6,1.6"}),(0,a.h)("path",{fill:"none",stroke:"#000000","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":"10",d:"M22.5,13.7c-0.6,0.9-1.4,1.6-2.7,1.6c-1.7,0-3.1-1.5-3.1-3.6C16.7,9.5,18,8,19.8,8c1.3,0,2.1,0.7,2.6,1.6"}),(0,a.h)("path",{fill:"none",stroke:"#000000","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":"10",d:"M29.7,16c0,3.3-2.7,6-6,6h-17c-3.3,0-6-2.7-6-6V7c0-3.3,2.7-6,6-6h17c3.3,0,6,2.7,6,6V16z"}))}}]),t}(a.Component);t.default=u},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),u=i(12),l=i(20),c=i(7),d=i(63),h=n(d),p=i(154),f=n(p),m=i(329),g=n(m),_=i(286),y=n(_),v=i(47),b=n(v),A=i(192),w=n(A),E=i(191),k=n(E),C=function(e){return{isMenuOpen:g.default.getIsMenuOpen(e),captions:g.default.getCaptions(e),currentLanguage:g.default.getCurrentLanguage(e),isKeyboardFocus:h.default.accessors.getIsKeyboardFocus(e),embedWidth:h.default.accessors.getEmbedWidth(e)}},T=function(e){return(0,c.bindActionCreators)({setIsMenuOpen:y.default.setIsMenuOpen,closeAllMenus:f.default.closeAllMenus,setCurrentLanguage:y.default.setCurrentLanguage},e)},x=function(e){function t(){r(this,t);var e=o(this,Object.getPrototypeOf(t).call(this));return e.optionsRefs=[],e}return s(t,e),a(t,[{key:"itemClassnamesFor",value:function(e){var t=this.props.currentLanguage==e.id;return b.default.classListToString(["w-menu__list-link","w-menu__list-link--checkable",t?"is-checked":""])}},{key:"classNames",value:function(){return this.props.isMenuOpen,b.default.classListToString(["w-menu","w-menu--captions",this.props.isOpen?"w-is-visible":"",this.props.isTransitioned?"w-is-transitioned":""])}},{key:"menuStyle",value:function(){return{left:b.default.leftValueToKeepMenuInsideVideo(this.props.embedWidth,this.menuComponent)+"px"}}},{key:"onOptionClick",value:function(e){e.stopPropagation(),e.preventDefault();var t=e.currentTarget.dataset.id;(0,this.props.setCurrentLanguage)(parseInt(t))}},{key:"componentDidUpdate",value:function(){var e=void 0;this.props.isMenuOpenJustChanged&&(e=this.optionsRefs[0])&&e.focus()}},{key:"onCloseMenuFocus",value:function(){(0,this.props.setIsMenuOpen)(!1)}},{key:"getIsTabbable",value:function(){return this.props.isMenuOpen?0:-1}},{key:"renderMenuCloseElement",value:function(){return(0,u.h)("li",{tabindex:this.getIsTabbable(),onFocus:this.onCloseMenuFocus.bind(this),"data-tabto":".w-control--captions",class:"w-menu__list-item"})}},{key:"renderOptions",value:function(){var e=this,t=this.props.captions;this.optionsRefs=[];var i=t.map(function(t){return(0,u.h)("li",{class:"w-menu__list-item"},(0,u.h)("button",{ref:function(t){e.optionsRefs.push(t)},"data-id":t.id,tabindex:e.getIsTabbable(),class:e.itemClassnamesFor(t),onClick:e.onOptionClick.bind(e)},t.native_name))});return i.push(this.renderMenuCloseElement()),i}},{key:"render",value:function(){var e=this;return(0,u.h)("div",{ref:function(t){e.menuComponent=t},style:this.menuStyle(),class:this.classNames()},(0,u.h)("ul",{class:"w-menu__list"},this.renderOptions()))}}]),t}(u.Component),S=(0,w.default)(x,"isMenuOpen"),O=(0,k.default)(S,"isMenuOpen");t.default=(0,l.connect)(C,T)(O)},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ChapterIconBook=t.ChapterIcon=void 0;var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=i(12);t.ChapterIcon=function(e){function t(){return n(this,t),r(this,Object.getPrototypeOf(t).apply(this,arguments))}return o(t,e),s(t,[{key:"render",value:function(){return(0,a.h)("svg",{class:"wistia_vulcan_svg_icon wistia_vulcan_svg_icon_chapters",version:"1.1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"283.469px",height:"227.562px",viewBox:"0 0 283.469 227.562","enable-background":"new 0 0 283.469 227.562"},(0,a.h)("g",null,(0,a.h)("g",null,(0,a.h)("circle",{fill:"#ffffff",cx:"21.5",cy:"21.5",r:"21.5"}),(0,a.h)("path",{fill:"#ffffff",d:"M283.465,21.501c0,8.109-6.572,14.687-14.684,14.687H93.156c-8.109,0-14.684-6.575-14.684-14.687l0,0 c0-8.108,6.574-14.686,14.684-14.686h175.625C276.893,6.815,283.465,13.391,283.465,21.501L283.465,21.501z"})),(0,a.h)("g",null,(0,a.h)("circle",{fill:"#ffffff",cx:"21.5",cy:"113.781",r:"21.5"}),(0,a.h)("path",{fill:"#ffffff",d:"M283.469,113.781c0,8.109-6.574,14.685-14.685,14.685H93.152c-8.109,0-14.684-6.572-14.684-14.685l0,0 c0-8.11,6.574-14.685,14.684-14.685h175.632C276.895,99.097,283.469,105.671,283.469,113.781L283.469,113.781z"})),(0,a.h)("g",null,(0,a.h)("circle",{fill:"#ffffff",cx:"21.5",cy:"206.062",r:"21.5"}),(0,a.h)("path",{fill:"#ffffff",d:"M283.469,206.062c0,8.106-6.574,14.686-14.685,14.686H93.152c-8.109,0-14.684-6.576-14.684-14.686l0,0 c0-8.108,6.574-14.687,14.684-14.687h175.632C276.895,191.378,283.469,197.953,283.469,206.062L283.469,206.062z"}))))}}]),t}(a.Component),t.ChapterIconBook=function(e){function t(){return n(this,t),r(this,Object.getPrototypeOf(t).apply(this,arguments))}return o(t,e),s(t,[{key:"render",value:function(){return(0,a.h)("svg",{class:"wistia_vulcan_svg_icon wistia_vulcan_svg_icon_chapters",xmlns:"http://www.w3.org/2000/svg",version:"1.1",x:"0px",y:"0px",width:"20px",height:"20px",viewBox:"0 0 20 20","enable-background":"new 0 0 20 20"},(0,a.h)("path",{fill:"#ffffff",d:"M0.6,16.4l9.2,3.4c0.2,0.1,0.4,0.1,0.6,0l9.1-3.4c0.3-0.1,0.5-0.4,0.5-0.7V0.9c0-0.4-0.3-0.8-0.7-0.8  c-0.1,0-0.1,0-0.3,0.1L9.8,3.5L1.2,0.1C1.1,0.1,1,0.1,0.9,0.1C0.5,0.1,0,0.4,0,0.9v14.8C0,16,0.3,16.3,0.6,16.4z M10.8,4.9l7.8-3.1  v13.4L10.8,18V4.9z M1.4,1.8l7.8,3.1V18l-7.8-2.8V1.8z"}))}}]),t}(a.Component)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){var i=(0,l.render)((0,l.h)(T,{instanceId:t}),e);return function(){(0,l.render)((0,l.h)("nothing",null),e,i)}}Object.defineProperty(t,"__esModule",{value:!0}),t.ChapterTitle=void 0;var u=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();t.default=a;var l=i(12),c=i(20),d=(i(7),i(224)),h=n(d),p=i(222),f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(p),m=i(228),g=(n(m),i(154)),_=(n(g),i(735)),y=n(_),v=i(47),b=n(v),A=i(40),w=function(e){return{currentlyHoveredChapter:f.getCurrentlyHoveredChapter(e),targetLeft:f.getChapterTitleLeftOffset(e)}},E=t.ChapterTitle=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return s(t,e),u(t,[{key:"style",value:function(){return{left:this.props.boundLeft}}},{key:"hasCurrentlyHoveredChapter",value:function(){return!!this.props.currentlyHoveredChapter}},{key:"classNames",value:function(){return b.default.classListToString(["w-chapter-title",this.hasCurrentlyHoveredChapter()?"w-is-visible":""])}},{key:"title",value:function(){return this.hasCurrentlyHoveredChapter()?""+this.props.currentlyHoveredChapter.title:""}},{key:"render",value:function(){return(0,l.h)("div",{style:this.style(),class:this.classNames()},(0,A.unescapeHtml)(this.title()))}}]),t}(l.Component),k=(0,y.default)(E,".w-control-bar__region--thumbscrubber",{origin:"center",shouldUpdateFunction:function(e,t){var i=!!e.currentlyHoveredChapter,n=!!t.currentlyHoveredChapter;return n||i!=n}}),C=(0,c.connect)(w)(k),T=(0,h.default)(C)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){var i=(0,l.render)((0,l.h)(x,{instanceId:t}),e);return function(){(0,l.render)((0,l.h)("nothing",null),e,i)}}Object.defineProperty(t,"__esModule",{value:!0}),t.Chapters=void 0;var u=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();t.default=a;var l=i(12),c=i(20),d=i(7),h=i(224),p=n(h),f=i(711),m=i(222),g=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(m),_=i(228),y=n(_),v=i(63),b=n(v),A=i(154),w=n(A),E=function(e){return{isVisible:g.getIsVisible(e),isMenuOpen:g.getIsMenuOpen(e),isUIReady:b.default.accessors.getIsUIReady(e),isChromeless:b.default.accessors.getEmbedOption("isChromeless",e)}},k=function(e){return(0,d.bindActionCreators)({setIsMenuOpen:y.default.setIsMenuOpen,closeAllMenus:w.default.closeAllMenus,setHasControlBeenClicked:y.default.setHasControlBeenClicked},e)},C=t.Chapters=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return s(t,e),u(t,[{key:"onClick",value:function(e){e.stopPropagation();var t=this.props,i=t.isMenuOpen,n=t.setIsMenuOpen,r=t.closeAllMenus,o=t.setHasControlBeenClicked;r(),n(!i),o(!0)}},{key:"shouldShow",value:function(){var e=this.props,t=e.isVisible,i=e.isChromeless,n=e.isUIReady;return t&&n&&!i}},{key:"maybeRenderComponent",value:function(){return this.shouldShow()?this.renderComponent():this.renderNothing()}},{key:"renderTabToElement",value:function(){var e=this.props.isMenuOpen?"visible":"hidden";return(0,l.h)("div",{style:{visibility:e},"data-tabto":".w-chapters__chapter-item.first",tabindex:"0"})}},{key:"renderComponent",value:function(){return(0,l.h)("div",{class:"w-control-bar__region w-control-bar__region--chaptering"},(0,l.h)("button",{title:"Chapters",onClick:this.onClick.bind(this),class:"w-control w-control--chapters w-is-visible",tabIndex:"0","aria-label":"Chaptering Menu Button"},(0,l.h)("div",{class:"w-control--icon"},(0,l.h)(f.ChapterIcon,null)),this.renderTabToElement()))}},{key:"renderNothing",value:function(){return(0,l.h)("nothing",null)}},{key:"render",value:function(){return(0,l.h)("div",null,this.maybeRenderComponent())}}]),t}(l.Component),T=(0,c.connect)(E,k)(C),x=(0,p.default)(T)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){var i=(0,l.render)((0,l.h)(B,{instanceId:t}),e);return function(){(0,l.render)((0,l.h)("nothing",null),e,i)}}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();t.default=a;var l=i(12),c=i(20),d=i(7),h=i(47),p=n(h),f=i(222),m=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(f),g=i(228),_=n(g),y=i(63),v=n(y),b=i(224),A=n(b),w=i(192),E=n(w),k=i(191),C=n(k),T=i(40),x=function(e){return 0!==m.getChapters(e).length},S=function(e){var t=v.default.accessors.getIsUIReady(e),i=m.getIsMenuOpen(e),n=m.getIsVisible(e);return t&&i&&n},O=function(e){return{isMenuOpen:S(e),isVisible:m.getIsVisible(e),isVisibleOnLoad:x(e),chapters:m.getChapters(e)}},P=function(e){return(0,d.bindActionCreators)({setIsMenuOpen:_.default.setIsMenuOpen,setHasControlBeenClicked:_.default.setHasControlBeenClicked,setLastChapterActivated:_.default.setLastChapterActivated,setMenuWidth:_.default.setMenuWidth,setCurrentlyHoveredChapter:_.default.setCurrentlyHoveredChapter},e)},I=function(e){function t(e){r(this,t);var i=o(this,Object.getPrototypeOf(t).call(this,e));return i.openIfVisibleOnLoad(e),i.state={previousScrollbarWidth:0},i}return s(t,e),u(t,[{key:"componentDidMount",value:function(){this.root&&this.openIfVisibleOnLoad(this.props)}},{key:"openIfVisibleOnLoad",value:function(e){var t=e.isVisibleOnLoad,i=e.setIsMenuOpen;t&&i(!0)}},{key:"componentDidUpdate",value:function(){this.props.isVisibleJustChanged&&this.props.setIsMenuOpen(!0),this.root&&0!=this.root.clientWidth&&this.props.setMenuWidth(this.root.clientWidth),this.state.previousScrollbarWidth!==this.scrollbarWidth()&&this.setState({previousScrollbarWidth:this.scrollbarWidth()})}},{key:"classNames",value:function(){var e=this.props,t=e.isOpen,i=e.isTransitioned;return p.default.classListToString(["w-menu","w-menu--chapters","w-chapters",t?"w-is-visible":"",i?"w-is-transitioned":""])}},{key:"scrollbarWidth",value:function(){return this.scrollContainer?this.scrollContainer.offsetWidth-this.scrollContainer.clientWidth:25}},{key:"menuStyle",value:function(){return{"margin-right":"-"+this.scrollbarWidth()+"px"}}},{key:"onCloseMenuFocus",value:function(){(0,this.props.setIsMenuOpen)(!1)}},{key:"onRootClick",value:function(e){e.stopPropagation()}},{key:"onItemClick",value:function(e){e.preventDefault(),e.stopPropagation();var t=parseInt(e.target.getAttribute("data-chapter-id"));(0,this.props.setLastChapterActivated)(t)}},{key:"onMouseEnterIndicator",value:function(e){var t=e.target.getAttribute("data-chapter-id");this.props.setCurrentlyHoveredChapter(parseInt(t))}},{key:"onMouseLeaveIndicator",value:function(e){this.props.setCurrentlyHoveredChapter(null)}},{key:"onMouseWheel",value:function(e){(0,T.preventOuterMouseWheel)(e,this.scrollContainer)}},{key:"renderTabToElement",value:function(){var e=arguments.length<=0||void 0===arguments[0]?function(){}:arguments[0];return this.props.isMenuOpen,(0,l.h)("li",{onFocus:e,class:"w-menu__list-item w-menu__list-item--close",tabindex:"0","data-tabto":".w-control--chapters"})}},{key:"classNamesForChapter",value:function(e){return p.default.classListToString(["w-menu__list-link","w-menu__list-link--inline","w-chapters__chapter-item",0===e?"first":""])}},{key:"renderChaptersList",value:function(){var e=this;return this.props.chapters.map(function(t,i){var n=t.title||"";return(0,l.h)("li",{onMouseEnter:e.onMouseEnterIndicator.bind(e),onMouseLeave:e.onMouseLeaveIndicator.bind(e),onClick:e.onItemClick.bind(e),"data-chapter-id":t.id,class:"w-menu__list-item w-menu__list-item--ordered w-chapters__chapter w-menu__list-item-link"},(0,l.h)("div",{class:"w-chapters__chapter-number"},i+1),(0,l.h)("button",{onClick:e.onItemClick.bind(e),onMouseEnter:e.onMouseEnterIndicator.bind(e),onMouseLeave:e.onMouseLeaveIndicator.bind(e),"aria-label":"Chapter Link","data-chapter-id":t.id,class:e.classNamesForChapter(i),tabindex:"0"},(0,T.unescapeHtml)(n)))})}},{key:"renderComponent",value:function(){var e=this;return(0,l.h)("div",{onClick:this.onRootClick.bind(this),class:this.classNames(),style:this.menuStyle()},(0,l.h)("div",{ref:function(t){return e.scrollContainer=t},onMouseWheel:this.onMouseWheel.bind(this),onDOMMouseScroll:this.onMouseWheel,class:"w-chapters__scrollcontainer"},(0,l.h)("ol",{ref:function(t){return e.root=t},class:"w-menu__list w-menu__list--ordered w-menu__list--chapters"},this.renderTabToElement(),this.renderChaptersList(),this.renderTabToElement(this.onCloseMenuFocus.bind(this)))))}},{key:"render",value:function(){return this.props.isVisible?this.renderComponent():void 0}}]),t}(l.Component),M=(0,E.default)(I,"isMenuOpen"),D=(0,C.default)(M,"isVisible"),R=(0,c.connect)(O,P)(D),B=(0,A.default)(R)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){var i=(0,l.render)((0,l.h)(I,{instanceId:t}),e);return function(){(0,l.render)((0,l.h)("nothing",null),e,i)}}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();t.default=a;var l=i(12),c=i(20),d=i(7),h=i(336),p=(n(h),i(47)),f=n(p),m=i(186),g=i(222),_=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(g),y=i(228),v=n(y),b=i(192),A=(n(b),i(224)),w=n(A),E=i(63),k=n(E),C=i(395),T=n(C),x=function(e){return{isVisible:_.getIsVisible(e),chapters:_.getChapters(e),videoLength:k.default.accessors.getVideoLength(e),playbarPosition:T.default.accessors.getPlaybarPositionPercentage(e),playbarWidth:T.default.accessors.getWidth(e),playbarIsBeingDragged:T.default.accessors.getIsDragging(e),chapterTitleLeftOffset:_.getChapterTitleLeftOffset(e),currentlyHoveredChapterId:_.getCurrentlyHoveredChapterId(e)}},S=function(e){return(0,d.bindActionCreators)({setCurrentlyHoveredChapter:v.default.setCurrentlyHoveredChapter,setLastChapterActivated:v.default.setLastChapterActivated,setChapterTitleLeftOffset:v.default.setChapterTitleLeftOffset},e)},O=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return s(t,e),u(t,[{key:"indicatorStyle",value:function(e){var t=this.props.videoLength,i=16/t;return{left:Math.max(i,e.time/t*100)+"%"}}},{key:"indicatorClassnames",value:function(e){var t=this.indicatorPositionRelativeToPlayhead(e),i=t.playheadAfterIndicator,n=t.playheadOverIndicator,r=this.props,o=r.playbarIsBeingDragged,s=r.currentlyHoveredChapterId,a=s==e.id;return f.default.classListToString(["w-playbar-indicators__indicator",n?"is-hidden":"",i?"is-passed":"",o?"is-dragging":"",a?"is-hovering":""])}},{key:"indicatorPositionRelativeToPlayhead",value:function(e){var t=this.props,i=t.playbarWidth,n=t.videoLength,r=t.playbarPosition,o=parseFloat(50/i),s=parseFloat(10/i),a=parseFloat(e.time/n),u=[a-s,a+o],l=Math.max(r,o),c=l<u[0],d=l>u[1];return{playheadBeforeIndicator:c,playheadOverIndicator:!(c||d),playheadAfterIndicator:d}}},{key:"onIndicatorClick",value:function(e){var t=parseInt(e.target.getAttribute("data-chapter-id"));(0,this.props.setLastChapterActivated)(t)}},{key:"onIndicatorMousedown",value:function(e){e.preventDefault(),e.stopPropagation()}},{key:"onMouseEnterIndicator",value:function(e){var t=e.target.getAttribute("data-chapter-id");this.props.setCurrentlyHoveredChapter(parseInt(t))}},{key:"onMouseLeaveIndicator",value:function(e){this.props.setCurrentlyHoveredChapter(null)}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.currentlyHoveredChapterId;if(e.setChapterTitleLeftOffset,void 0!=t&&null!=t){var i=this.indicators[t],n=(0,m.offset)(i).left;this.props.setChapterTitleLeftOffset(n+8)}}},{key:"renderComponent",value:function(){var e=this,t=this.props.chapters;return this.indicators={},(0,l.h)("div",{class:"w-playbar-indicators"},t.map(function(t){return(0,l.h)("button",{onMouseEnter:e.onMouseEnterIndicator.bind(e),onMouseLeave:e.onMouseLeaveIndicator.bind(e),onMouseDown:e.onIndicatorMousedown.bind(e),onClick:e.onIndicatorClick.bind(e),style:e.indicatorStyle(t),"data-chapter-id":t.id,ref:function(i){return e.indicators[t.id]=i},class:e.indicatorClassnames(t),"aria-label":t.title,tabIndex:"0"},(0,l.h)("div",{class:"w-playbar-indicators__indicator-dot"},String.fromCharCode(9679)," "))}))}},{key:"render",value:function(){return this.props.isVisible?this.renderComponent():void 0}}]),t}(l.Component),P=(0,c.connect)(x,S)(O),I=(0,w.default)(P)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),u=i(12),l=i(20),c=i(7),d=i(154),h=n(d),p=i(229),f=n(p),m=i(193),g=n(m),_=i(717),y=n(_),v=function(e){return{menuIsOpen:g.default.getIsMenuOpen(e)}},b=function(e){return(0,c.bindActionCreators)({setIsMenuOpen:f.default.setIsMenuOpen,closeAllMenus:h.default.closeAllMenus},e)},A=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return s(t,e),a(t,[{key:"onButtonClick",value:function(e){e.preventDefault(),e.stopPropagation(),this.toggleMenu()}},{key:"toggleMenu",value:function(){var e=this.props,t=e.menuIsOpen,i=e.setIsMenuOpen;0==t?(this.props.closeAllMenus(),i(!0)):i(!1)}},{key:"classNames",value:function(){return"w-control w-control--settings w-is-visible"}},{key:"render",value:function(){return(0,u.h)("button",{class:this.classNames(),onClick:this.onButtonClick.bind(this),title:"Settings",alt:"Settings",tabIndex:"0","aria-label":"Settings"},(0,u.h)("div",{class:"w-control--icon"},y.default.settingsControl()))}}]),t}(u.Component);t.default=(0,l.connect)(v,b)(A)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(12);t.default={settingsControl:function(){return(0,n.h)("svg",{x:"0px",y:"0px",viewBox:"0 0 19 19","enable-background":"new 0 0 19 19",class:"wistia_vulcan_svg_icon wistia_vulcan_svg_icon_settings"},(0,n.h)("path",{d:"M17.8,8.8h-2c-0.2-1-0.5-2-1-2.7l1.4-1.5c0.5-0.5,0.5-1.3,0-1.7c-0.5-0.5-1.2-0.5-1.7,0l-1.5,1.4 c-0.7-0.5-1.5-0.8-2.5-1v-2c0-0.7-0.3-1.2-1-1.2s-1,0.5-1,1.2v2.1c-1,0.2-1.8,0.5-2.5,1L4.5,2.8c-0.5-0.5-1.2-0.5-1.7,0 S2.3,4,2.8,4.5l1.5,1.8c-0.5,0.7-0.8,1.6-1,2.6H1.2C0.5,8.8,0,9.2,0,9.8s0.5,1,1.2,1h2.1c0.2,1,0.5,1.6,1,2.3l-1.5,1.4 c-0.5,0.5-0.5,1.2,0,1.7c0.2,0.2,0.5,0.3,0.8,0.3s0.6-0.1,0.8-0.4l1.6-1.5c0.7,0.5,1.5,0.8,2.5,1v2.1c0,0.7,0.3,1.2,1,1.2 s1-0.5,1-1.2v-2c1-0.2,1.8-0.5,2.5-1l1.4,1.4c0.2,0.2,0.5,0.3,0.9,0.3s0.6-0.1,0.8-0.3c0.5-0.5,0.5-1.2,0-1.7l-1.4-1.3 c0.5-0.7,0.9-1.4,1-2.4h2c0.7,0,1.2-0.3,1.2-1S18.5,8.8,17.8,8.8z M9.6,14.1C7,14.1,5,12,5,9.5S7,4.9,9.6,4.9s4.6,2.1,4.6,4.6 S12.1,14.1,9.6,14.1z"}))}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),u=i(12),l=i(20),c=i(7),d=i(47),h=n(d),p=i(229),f=n(p),m=i(193),g=n(m),_=i(719),y=n(_),v=i(722),b=n(v),A=i(192),w=n(A),E=i(191),k=n(E),C=i(63),T=n(C),x=function(e){return{isMenuOpen:g.default.getIsMenuOpen(e),embedWidth:T.default.accessors.getEmbedWidth(e),isPlayrateVisible:T.default.accessors.getHasPlaybackRateControl(e),isQualityVisible:T.default.accessors.getHasQualityControl(e)}},S=function(e){return(0,c.bindActionCreators)({setIsMenuOpen:f.default.setIsMenuOpen},e)},O=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return s(t,e),a(t,[{key:"classNames",value:function(){var e=this.props,t=e.isOpen,i=e.isTransitioned;return h.default.classListToString(["w-menu","w-menu--share",t?"w-is-visible":"",i?"w-is-transitioned":""])}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.isMenuOpenJustChanged,i=e.isMenuOpen,n=e.isPlayrateVisible,r=e.isQualityVisible;if(t&&i)if(n){var o=this.playrateMenu.base.getElementsByTagName("button")[0];o.focus()}else if(r){var o=this.qualityMenu.base.getElementsByTagName("button")[0];o.focus()}}},{key:"getIsTabbable",value:function(){return this.props.isMenuOpen?0:-1}},{key:"onCloseMenuFocus",value:function(){(0,this.props.setIsMenuOpen)(!1)}},{key:"menuStyle",value:function(){return{left:h.default.leftValueToKeepMenuInsideVideo(this.props.embedWidth,this.menuComponent)+"px"}}},{key:"renderMenuCloseElement",value:function(){return(0,u.h)("li",{key:"MenuCloseElement",tabindex:this.getIsTabbable(),onFocus:this.onCloseMenuFocus.bind(this),"data-tabto":".w-control--settings",class:"w-menu__list-item w-menu__list-item--close-settings"})}},{key:"renderPlayrateMenu",value:function(){var e=this;return this.props.isPlayrateVisible?(0,u.h)(y.default,{ref:function(t){e.playrateMenu=t}}):void 0}},{key:"renderQualityMenu",value:function(){var e=this;return this.props.isQualityVisible?(0,u.h)(b.default,{ref:function(t){e.qualityMenu=t}}):void 0}},{key:"render",value:function(){var e=this;return(0,u.h)("div",{class:this.classNames(),ref:function(t){e.menuComponent=t},style:this.menuStyle()},(0,u.h)("ul",{class:"w-menu__list"},this.renderPlayrateMenu(),this.renderQualityMenu(),this.renderMenuCloseElement()))}}]),t}(u.Component),P=(0,w.default)(O,"isMenuOpen"),I=(0,k.default)(P,"isMenuOpen");t.default=(0,l.connect)(x,S)(I)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),u=i(12),l=i(20),c=i(7),d=i(495),h=n(d),p=i(229),f=n(p),m=i(193),g=n(m),_=i(191),y=n(_),v=function(e){return{isParentMenuOpen:g.default.getIsMenuOpen(e),playbackRateOptions:g.default.getPlaybackRateOptions(e),currentPlaybackRate:g.default.getPlaybackRateValue(e),isPlaybackRateOpen:g.default.getIsPlaybackRateOpen(e)}},b=function(e){return(0,c.bindActionCreators)({setValueFor:f.default.setValueFor,setIsOpenFor:f.default.setIsOpenFor},e)},A=function(e){function t(){var e,i,n,s;r(this,t);for(var a=arguments.length,u=Array(a),l=0;a>l;l++)u[l]=arguments[l];return i=n=o(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),n.getIsTabbable=function(){return n.props.isParentMenuOpen?0:-1},s=i,o(n,s)}return s(t,e),a(t,[{key:"onItemClick",value:function(e){this.props.setValueFor("playbackRate",e)}},{key:"onTitleClick",value:function(){var e=this.props,t=e.isPlaybackRateOpen,i=e.setIsOpenFor;i("playbackRate",!t),i("videoQuality",!1)}},{key:"onCloseMenuFocus",value:function(){(0,this.props.setIsOpenFor)("playbackRate",!1)}},{key:"keySorter",value:function(e){return Object.keys(e).sort(function(e,t){return parseInt(e)-parseInt(t)})}},{key:"getIsCloseElementTabbable",value:function(){return this.props.isPlaybackRateOpen?0:-1}},{key:"renderMenuCloseElement",value:function(){return(0,u.h)("li",{tabindex:this.getIsCloseElementTabbable(),onFocus:this.onCloseMenuFocus.bind(this),"data-tabto":".w-menu__list-item--Quality button",class:"w-menu__list-item"})}},{key:"render",value:function(){var e=this.props.playbackRateOptions,t=this.props.currentPlaybackRate,i=this.props.isPlaybackRateOpen;return e[t],(0,u.h)(h.default,{key:"playbackRateMenu",tabindex:this.getIsTabbable,isOpen:i,title:"Speed",options:e,currentOption:t,onItemClick:this.onItemClick.bind(this),onTitleClick:this.onTitleClick.bind(this),keySorter:this.keySorter,lastItem:this.renderMenuCloseElement.bind(this)})}}]),t}(u.Component),w=(0,y.default)(A,"isMenuOpen");t.default=(0,l.connect)(v,b)(w)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),u=i(12),l=i(20),c=i(193),d=(n(c),i(716)),h=n(d),p=i(718),f=n(p),m=i(63),g=n(m),_=function(e){return{isVisible:g.default.accessors.getHasSettingsControl(e)}},y=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return s(t,e),a(t,[{key:"maybeRender",value:function(){return this.props.isVisible?this.renderComponent():this.renderNothing()}},{key:"renderComponent",value:function(){return(0,u.h)("div",null,(0,u.h)(f.default,null),(0,u.h)(h.default,null))}},{key:"renderNothing",value:function(){return(0,u.h)("nothing",null)}},{key:"render",value:function(){return(0,u.h)("div",{class:"w-component w-component--settings"},this.maybeRender())}}]),t}(u.Component);t.default=(0,l.connect)(_)(y)},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){var i=(0,u.render)((0,u.h)(p,{instanceId:t}),e);return function(){(0,u.render)((0,u.h)("nothing",null),e,i)}}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();t.default=s;var u=i(12),l=(i(7),i(20)),c=i(107),d=i(720),h=function(e){return e&&e.__esModule?e:{default:e}}(d),p=function(e){function t(){return n(this,t),r(this,Object.getPrototypeOf(t).apply(this,arguments))}return o(t,e),a(t,[{key:"render",value:function(){var e=this.props.instanceId,t=(0,c.getStoreForPlayerInstance)(e);return(0,u.h)(l.Provider,{store:t},(0,u.h)(h.default,null))}}]),t}(u.Component)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),u=i(12),l=i(20),c=i(7),d=i(495),h=n(d),p=i(229),f=n(p),m=i(193),g=n(m),_=function(e){return{videoQualityOptions:g.default.getVideoQualityOptions(e),currentVideoQuality:g.default.getVideoQualityValue(e),selectedVideoQuality:g.default.getSelectedVideoQualityValue(e),isVideoQualityOpen:g.default.getIsVideoQualityOpen(e),isParentMenuOpen:g.default.getIsMenuOpen(e)}},y=function(e){return(0,c.bindActionCreators)({setValueFor:f.default.setValueFor,setIsOpenFor:f.default.setIsOpenFor,setIsMenuOpen:f.default.setIsMenuOpen},e)},v=function(e){function t(){var e,i,n,s;r(this,t);for(var a=arguments.length,u=Array(a),l=0;a>l;l++)u[l]=arguments[l];return i=n=o(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),n.getIsTabbable=function(){return n.props.isParentMenuOpen?0:-1},s=i,o(n,s)}return s(t,e),a(t,[{key:"onItemClick",value:function(e){this.props.setValueFor("selectedVideoQuality",e),this.props.setValueFor("videoQuality",e)}},{key:"onTitleClick",value:function(){var e=this.props,t=e.isVideoQualityOpen,i=e.setIsOpenFor;i("videoQuality",!t),i("playbackRate",!1)}},{key:"onCloseMenuFocus",value:function(){(0,this.props.setIsOpenFor)("videoQuality",!1)}},{key:"getIsCloseElementTabbable",value:function(){return this.props.isVideoQualityOpen?0:-1}},{key:"renderMenuCloseElement",value:function(){return(0,u.h)("li",{tabindex:this.getIsCloseElementTabbable(),onFocus:this.onCloseMenuFocus.bind(this),"data-tabto":".w-menu__list-item--close-settings",class:"w-menu__list-item"})}},{key:"render",value:function(){var e=this.props,t=e.videoQualityOptions,i=e.currentVideoQuality,n=e.selectedVideoQuality,r=e.isVideoQualityOpen;return t[i],(0,u.h)(h.default,{key:"VideoQualityMenu",tabindex:this.getIsTabbable,isOpen:r,title:"Quality",options:t,currentOption:i,selectedOption:n,onItemClick:this.onItemClick.bind(this),onTitleClick:this.onTitleClick.bind(this),lastItem:this.renderMenuCloseElement.bind(this)})}}]),t}(u.Component);t.default=(0,l.connect)(_,y)(v)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),u=i(12),l=i(20),c=i(7),d=i(287),h=n(d),p=i(194),f=n(p),m=i(724),g=n(m),_=i(154),y=n(_),v=i(47),b=n(v),A=function(e){return{menuIsOpen:f.default.getIsMenuOpen(e),isVisible:f.default.getIsVisible(e)}},w=function(e){return(0,c.bindActionCreators)({setIsMenuOpen:h.default.setIsMenuOpen,closeAllMenus:y.default.closeAllMenus},e)},E=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return s(t,e),a(t,[{key:"onClick",value:function(e){e.preventDefault(),e.stopPropagation(),this.toggleMenu()}},{key:"toggleMenu",value:function(){var e=this.props,t=e.menuIsOpen,i=e.setIsMenuOpen;this.props.closeAllMenus(),i(!t)}},{key:"classNames",value:function(){return b.default.classListToString(["w-control","w-control--share",this.props.isVisible?"w-is-visible":""])}},{key:"render",value:function(){return(0,u.h)("button",{title:"Share Control","aria-label":"Share Control",class:this.classNames(),onClick:this.onClick.bind(this)},(0,u.h)(g.default,null))}}]),t}(u.Component);t.default=(0,l.connect)(A,w)(E)},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=i(12),u=function(e){function t(){return n(this,t),r(this,Object.getPrototypeOf(t).apply(this,arguments))}return o(t,e),s(t,[{key:"render",value:function(){return(0,a.h)("div",{class:"w-control--icon"},(0,a.h)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 25 22.3","enable-background":"new 0 0 25 22.3",class:"wistia_vulcan_svg_icon wistia_vulcan_svg_icon_social"},(0,a.h)("g",null,(0,a.h)("polyline",{fill:"none",stroke:"#000000","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":"10",points:" 10.8,6.5 0.8,6.5 0.8,21.5 23.8,21.5 23.8,12.6 \t"}),(0,a.h)("polyline",{fill:"none",stroke:"#000000","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":"10",points:" 21.2,9.1 24.3,2.9 18,0.8 \t"}),(0,a.h)("path",{fill:"none",stroke:"#000000","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":"10",d:" M24,3.2c-7.5,2.1-12.2,6.6-12.2,13"}))))}}]),t}(a.Component);t.default=u},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),u=i(12),l=i(20),c=(i(7),i(287)),d=(n(c),i(194)),h=n(d),p=i(63),f=n(p),m=i(47),g=n(m),_=function(e){return{menuIsOpen:h.default.getIsMenuOpen(e),isEmbedCodeCopierOpen:h.default.getIsEmbedCodeCopierOpen(e),embedAspectRatio:f.default.accessors.getEmbedAspectRatio(e),embedWidth:f.default.accessors.getEmbedWidth(e),embedHeight:f.default.accessors.getEmbedHeight(e),videoWidth:f.default.accessors.getVideoWidth(e),videoHeight:f.default.accessors.getVideoHeight(e),host:f.default.accessors.getHost(e),hashedId:f.default.accessors.getHashedId(e)}},y=function(e){function t(){r(this,t);var e=o(this,Object.getPrototypeOf(t).call(this));return e.refs={},e}return s(t,e),a(t,[{key:"embedCodeProperties",value:function(){var e=this.props,t=e.embedAspectRatio,i=e.embedWidth,n=e.embedHeight,r=e.videoWidth,o=e.videoHeight,s=i-r,a=n-o,u=480+s;return{width:u,height:Math.round((u-s)/t+a),name:"wistia_embed",className:"wistia_embed",url:this.getEmbedCodeUrl()}}},{key:"getEmbedCodeUrl",value:function(){var e=this.props;return"https://"+e.host+"/embed/iframe/"+e.hashedId}},{key:"iframeString",value:function(){var e=this.embedCodeProperties(),t=e.width,i=e.height,n=e.name;return'<iframe allowtransparency="true" frameborder="0" scrolling="no" class="'+e.className+'" name="'+n+'" src="'+e.url+'" width="'+t+'" height="'+i+'"></iframe>'}},{key:"onClick",value:function(e){e.preventDefault(),e.stopPropagation()}},{key:"classNames",value:function(){var e=this.props.isEmbedCodeCopierOpen;return g.default.classListToString(["embed-code-copier",e?"w-is-visible":""])}},{key:"style",value:function(){return this.refs.textarea?{height:this.refs.textarea.scrollHeight+"px"}:{}}},{key:"getIsTabbable",value:function(){return this.props.menuIsOpen?0:-1}},{key:"renderTextArea",value:function(){var e=this,t=this.props,i=t.isEmbedCodeCopierOpen,n=t.menuIsOpen;return i||n?(0,u.h)("textarea",{title:"Embed Code",tabindex:this.getIsTabbable(),resizable:!1,class:"embed-code-copier__textarea",style:this.style(),ref:function(t){e.refs.textarea=t}},this.iframeString()):void 0}},{key:"render",value:function(){return(0,u.h)("div",{class:this.classNames(),onClick:this.onClick.bind(this)},this.renderTextArea())}}]),t}(u.Component);t.default=(0,l.connect)(_)(y)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(12);t.default={email:function(){return(0,n.h)("svg",{x:"0px",y:"0px",viewBox:"0 0 18.6 13.5","enable-background":"new 0 0 18.6 13.5",class:"w-svg w-svg--menu w-svg--email"},(0,n.h)("line",{fill:"none",stroke:"#ffffff","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":"10",x1:"1.6",y1:"11.9",x2:"5.9",y2:"5.9"}),(0,n.h)("line",{fill:"none",stroke:"#ffffff","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":"10",x1:"12.8",y1:"5.9",x2:"17",y2:"11.9"}),(0,n.h)("rect",{x:"0.8",y:"0.8",fill:"none",stroke:"#ffffff","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":"10",width:"17.1",height:"12"}),(0,n.h)("polyline",{fill:"none",stroke:"#ffffff","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":"10",points:"17,1.6 9.3,9.3 1.6,1.6"}))},embed:function(){return(0,n.h)("svg",{x:"0px",y:"0px",viewBox:"0 0 21.7 13.3","enable-background":"new 0 0 21.7 13.3",class:"w-svg w-svg--menu s-svg--embed"},(0,n.h)("line",{fill:"none",stroke:"#ffffff","stroke-width":"1.5","stroke-linejoin":"round",x1:"20.9",y1:"6.7",x2:"13.7",y2:"0.8"}),(0,n.h)("line",{fill:"none",stroke:"#ffffff","stroke-width":"1.5","stroke-linejoin":"round",x1:"13.7",y1:"12.5",x2:"20.9",y2:"6.7"}),(0,n.h)("line",{fill:"none",stroke:"#ffffff","stroke-width":"1.5","stroke-linejoin":"round",x1:"0.8",y1:"6.6",x2:"8",y2:"12.5"}),(0,n.h)("line",{fill:"none",stroke:"#ffffff","stroke-width":"1.5","stroke-linejoin":"round",x1:"8",y1:"0.8",x2:"0.8",y2:"6.6"}))},download:function(){return(0,n.h)("svg",{x:"0px",y:"0px",viewBox:"0 0 19.4 15.4","enable-background":"new 0 0 19.4 15.4",class:"w-svg w-svg--menu w-svg--download"},(0,n.h)("polyline",{fill:"none",stroke:"#ffffff","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":"10",points:"0.8,6.2 0.8,14.7 18.6,14.7 18.6,6.2  "}),(0,n.h)("polyline",{fill:"none",stroke:"#ffffff","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":"10",points:"13.5,7.3 9.7,11.1 5.9,7.3  "}),(0,n.h)("line",{fill:"none",stroke:"#ffffff","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":"10",x1:"9.7",y1:"11.1",x2:"9.7",y2:"0.8"}))},facebook:function(){return(0,n.h)("svg",{x:"0px",y:"0px",viewBox:"0 0 17 17","enable-background":"new 0 0 17 17",class:"w-svg w-svg--menu s-svg--facebook"},(0,n.h)("path",{fill:"#ffffff",d:"M16.1,0H0.9C0.4,0,0,0.4,0,0.9v15.1C0,16.6,0.4,17,0.9,17h8.1v-6.6H6.9V7.9h2.2V6c0-2.2,1.3-3.4,3.3-3.4  c0.9,0,1.7,0.1,2,0.1V5L13,5c-1.1,0-1.3,0.5-1.3,1.2v1.6h2.5l-0.3,2.6h-2.2V17h4.3c0.5,0,0.9-0.4,0.9-0.9V0.9C17,0.4,16.6,0,16.1,0z"}))},googlePlus:function(){return(0,n.h)("svg",{x:"0px",y:"0px",viewBox:"0 0 612 792","enable-background":"new 0 0 612 792",class:"w-svg w-svg--menu w-svg--googlePlus"},(0,n.h)("path",{fill:"#ffffff",d:"M593.6,649.3c0-170,0.2-339.9-0.1-509.9c2.2-18.6-14.7-35.6-33.4-33.3c-168.3-0.1-336.7,0.1-505-0.1 c-7.3,0.3-14.8-0.1-21.8,2.6c-10.8,6.2-17.5,18.3-16.4,30.8c-0.4,169.9-0.1,339.9-0.1,509.8c-2.2,18.9,14.7,35.7,33.5,33.9 c169.9,0,339.9,0,509.8,0C578.9,685,595.8,668.2,593.6,649.3z M330,503.2c-34,43.8-96.9,56.6-148,39.5 c-54.3-17.8-93.7-72.5-92.6-129.8c-2.7-70.8,59.3-136.2,130.2-137.1c36.1-3.1,71.3,10.9,98.6,33.8c-11.2,12.3-22.6,24.5-34.8,35.9 c-24.1-14.6-53-25.8-81.2-15.9c-45.4,12.9-72.8,66.5-56.1,110.9c13.9,46.3,70.3,71.8,114.5,52.3c22.9-8.2,38-29.3,44.6-52 c-26.2-0.5-52.4-0.2-78.7-0.9c-0.1-15.6-0.1-31.1-0.1-46.7c43.7-0.1,87.5-0.2,131.3,0.2C360.4,431.6,354.8,472.5,330,503.2z M523,432.4c-15,0.1-26.9,0.1-40,0.2c-0.1,13.1-0.6,26.2-0.6,39.3c-13-0.1-26.3,0-39.3,0c-0.1-13.1,0-26.2-0.1-39.2 c-13-0.1-25-0.2-39-0.3c0-13,0-26,0-39.1c14-0.1,25.8-0.6,38.9-0.7c0.1-13-0.1-25.6,0.1-39.6c13,0,26,0,39,0c0.1,14,1,26.6,1,39.6 c13,0.1,25,0.6,40,0.7C523,406.4,523,419.4,523,432.4z"}))},linkedIn:function(){return(0,n.h)("svg",{x:"0px",y:"0px",viewBox:"0 0 612 792","enable-background":"new 0 0 612 792",class:"w-svg w-svg--menu w-svg--linkedIn"},(0,n.h)("path",{fill:"#ffffff",d:"M541.6,107H66.1C43.4,107,26,124.2,26,146.3v477.5c0,22.2,17.4,41.1,40.1,41.1h475.5 c22.7,0,42.4-18.9,42.4-41.1V146.3C584,124.2,564.3,107,541.6,107z M191,583h-83V314h83V583z M149,278.9c-26.6,0-48-21.5-48-48 c0-26.5,21.4-48,48-48c26.5,0,48,21.5,48,48C197,257.4,175.5,278.9,149,278.9z M500,583h-83V452.1c0-30.9-0.8-70.6-43.2-70.6 c-43.1,0-49.8,33.6-49.8,68.4V583h-82V314h79v36h1.8c11-18,37.9-42.2,78.1-42.2c83.7,0,99,56,99,127.7V583z"}))},twitter:function(){return(0,n.h)("svg",{x:"0px",y:"0px",viewBox:"0 -1 19.1 17.9","enable-background":"new 0 0 19.1 17.9",class:"w-svg w-svg--menu w-svg--twitter"},(0,n.h)("path",{fill:"#ffffff",d:"M17.2,4c0,0.2,0,0.3,0,0.5c0,5.3-3.9,11.4-11.2,11.4c-2.2,0-4.3-0.7-6-1.8c0.3,0,0.6,0.1,0.9,0.1c1.8,0,3.5-0.6,4.9-1.7 c-1.7,0-3.2-1.2-3.7-2.8c0.2,0,0.5,0.1,0.7,0.1c0.4,0,0.4,0,0.8-0.1c-1.8-0.4-3.4-2-3.4-3.9c0,0,0,0,0-0.1c1.2,0.3,1.4,0.5,2.1,0.5 C1.2,5.4,0.7,4.1,0.7,2.7c0-0.7,0.3-1.4,0.6-2c1.9,2.4,4.9,4,8.1,4.2C9.3,4.6,9.3,4.3,9.3,4c0-2.2,1.8-4,3.9-4 c1.1,0,2.2,0.5,2.9,1.3c0.9-0.2,1.7-0.5,2.5-1c-0.3,0.9-0.9,1.7-1.7,2.2c0.8-0.1,1.5-0.3,2.3-0.6C18.6,2.7,17.9,3.4,17.2,4z"}))}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),u=i(12),l=i(20),c=i(7),d=i(336),h=n(d),p=i(476),f=n(p),m=i(287),g=n(m),_=i(194),y=n(_),v=i(47),b=n(v),A=i(611),w=n(A),E=i(726),k=n(E),C=i(191),T=n(C),x=i(192),S=n(x),O=i(63),P=n(O),I=function(e){return{activeChannels:y.default.activeChannels(e),isMenuOpen:y.default.getIsMenuOpen(e),embedWidth:P.default.accessors.getEmbedWidth(e)}},M=function(e){return(0,c.bindActionCreators)({showStatusBarMessage:f.default.actions.default.showMessage,setIsEmbedCodeCopierOpen:g.default.setIsEmbedCodeCopierOpen,setIsMenuOpen:g.default.setIsMenuOpen,setConversionOpportunity:g.default.setConversionOpportunity},e)},D=function(e){return e?0:-1},R=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return s(t,e),a(t,[{key:"render",value:function(){var e=this.props,t=e.channel,i=e.onClick,n=e.isMenuOpen,r=k.default[t],o=this.context.store.getState();return(0,u.h)("li",{class:"w-menu__list-item"},(0,u.h)("a",{class:"w-menu__list-link","data-channel":t,href:w.default.generateLinkFor(o,t),tabindex:D(n),onClick:i},(0,u.h)("div",{class:"w-menu__icon"},(0,u.h)(r,null)),(0,u.h)("span",null," ",w.default.channelToDisplayName(t)," ")))}}]),t}(u.Component),B=function(e){function t(){r(this,t);var e=o(this,Object.getPrototypeOf(t).call(this));return e.onMenuJustOpenedDebounced=(0,h.default)(e.onMenuJustOpened,100),e}return s(t,e),a(t,[{key:"takeActionFor",value:function(e,t){switch(e){case"facebook":return w.default.openLinkInNewWindow(t,"Share to Facebook");case"twitter":return w.default.openLinkInNewWindow(t,"Share to Twitter");case"linkedIn":return w.default.openLinkInNewWindow(t,"Share to linkedIn");case"googlePlus":return w.default.openLinkInNewWindow(t,"Share to Google Plus");case"download":case"email":return w.default.openLinkInSameWindow(t);case"embed":return this.copyEmbedCode()}}},{key:"onCloseMenuFocus",value:function(){(0,this.props.setIsMenuOpen)(!1)}},{key:"renderMenuCloseElement",value:function(){var e=this.props.isMenuOpen;return(0,u.h)("li",{onFocus:this.onCloseMenuFocus.bind(this),class:"w-menu__list-item",tabindex:D(e),"data-tabto":".w-control--share"})}},{key:"copyEmbedCode",value:function(){document.querySelector(".embed-code-copier__textarea").select(),document.execCommand("copy",!1,null)?this.props.showStatusBarMessage("Embed code is now in your clipboard!"):this.props.setIsEmbedCodeCopierOpen(!0),this.props.setIsMenuOpen(!1)}},{key:"componentDidUpdate",value:function(){this.props.isMenuOpenJustChanged&&this.onMenuJustOpenedDebounced()}},{key:"componentWillUnmount",value:function(){this.optionsRefs=[]}},{key:"onMenuJustOpened",value:function(){var e=void 0;(e=this.optionsRefs[0])&&(e=e.base.getElementsByTagName("a")[0],e.focus()),this.props.setConversionOpportunity()}},{key:"classNames",value:function(){var e=this.props,t=e.isOpen,i=e.isTransitioned;return b.default.classListToString(["w-menu","w-menu--share",t?"w-is-visible":"",i?"w-is-transitioned":""])}},{key:"menuStyle",value:function(){return{left:b.default.leftValueToKeepMenuInsideVideo(this.props.embedWidth,this.menuComponent)+"px"}}},{key:"onMenuItemClick",value:function(e){e.preventDefault(),e.stopPropagation();var t=e.currentTarget.dataset.channel,i=e.currentTarget.href;this.takeActionFor(t,i),this.props.setConversionOpportunity({channel:t,converted:!0})}},{key:"renderMenuItems",value:function(){var e=this,t=this.props,i=t.activeChannels,n=t.isMenuOpen,r=w.default.channelsStrToArr(i);this.optionsRefs=[];var o=r.map(function(t){return(0,u.h)(R,{channel:t,isMenuOpen:n,onClick:e.onMenuItemClick.bind(e),ref:function(t){e.optionsRefs.push(t)}})});return o.push(this.renderMenuCloseElement()),o}},{key:"render",value:function(){var e=this;return(0,u.h)("div",{style:this.menuStyle(),ref:function(t){e.menuComponent=t},class:this.classNames()},(0,u.h)("ul",{class:"w-menu__list"},this.renderMenuItems()))}}]),t}(u.Component),L=(0,S.default)(B,"isMenuOpen"),F=(0,T.default)(L,"isMenuOpen");t.default=(0,l.connect)(I,M)(F)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),u=i(12),l=i(20),c=i(194),d=(n(c),i(723)),h=n(d),p=i(727),f=n(p),m=i(725),g=n(m),_=i(63),y=n(_),v=function(e){return{isVisible:y.default.accessors.getIsUIReady(e)}},b=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return s(t,e),a(t,[{key:"maybeRender",value:function(){return this.props.isVisible?this.renderComponent():this.renderNothing()}},{key:"renderComponent",value:function(){return(0,u.h)("div",null,(0,u.h)(f.default,null),(0,u.h)(h.default,null),(0,u.h)(g.default,null))}},{key:"renderNothing",value:function(){return(0,u.h)("nothing",null)}},{key:"render",value:function(){return(0,u.h)("div",{class:"w-component w-component--share"},this.maybeRender())}}]),t}(u.Component);t.default=(0,l.connect)(v)(b)},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){var i=(0,u.render)((0,u.h)(p,{instanceId:t}),e);return function(){(0,u.render)((0,u.h)("nothing",null),e,i)}}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){
function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();t.default=s;var u=i(12),l=(i(7),i(20)),c=i(107),d=i(728),h=function(e){return e&&e.__esModule?e:{default:e}}(d),p=function(e){function t(){return n(this,t),r(this,Object.getPrototypeOf(t).apply(this,arguments))}return o(t,e),a(t,[{key:"render",value:function(){var e=this.props.instanceId,t=(0,c.getStoreForPlayerInstance)(e);return(0,u.h)(l.Provider,{store:t},(0,u.h)(h.default,null))}}]),t}(u.Component)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(314),r=function(e){return e&&e.__esModule?e:{default:e}}(n),o={setMessage:function(e){return{type:r.default.setMessage,payload:e}},setVisibility:function(e){return{type:r.default.setVisibility,payload:e}},showMessage:function(e){var t=arguments.length<=1||void 0===arguments[1]?2e3:arguments[1];return function(i){i(o.setMessage(e)),i(o.setVisibility(!0)),setTimeout(function(){i(o.setVisibility(!1))},t)}}};t.default=o},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),u=i(12),l=i(20),c=i(47),d=n(c),h=i(496),p=n(h),f=function(e){return{isVisible:p.default.getIsVisible(e),statusMessage:p.default.getStatusMessage(e)}},m=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return s(t,e),a(t,[{key:"classNames",value:function(){return d.default.classListToString(["w-status-bar",this.props.isVisible?"w-is-visible":"",this.props.isVisible?"w-is-transitioned":""])}},{key:"render",value:function(){return(0,u.h)("div",{class:this.classNames()},this.props.statusMessage)}}]),t}(u.Component);t.default=(0,l.connect)(f)(m)},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){var i=(0,u.render)((0,u.h)(p,{instanceId:t}),e);return function(){(0,u.render)((0,u.h)("nothing",null),e,i)}}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();t.default=s;var u=i(12),l=(i(7),i(20)),c=i(107),d=i(731),h=function(e){return e&&e.__esModule?e:{default:e}}(d),p=function(e){function t(){return n(this,t),r(this,Object.getPrototypeOf(t).apply(this,arguments))}return o(t,e),a(t,[{key:"render",value:function(){var e=this.props.instanceId,t=(0,c.getStoreForPlayerInstance)(e);return(0,u.h)(l.Provider,{store:t},(0,u.h)(h.default,null))}}]),t}(u.Component)},,function(e,t){e.exports={KEY_CODE_TAB:9,KEY_CODE_ENTER:13,KEY_CODE_ESCAPE:27,KEY_CODE_SPACE:32,KEY_CODE_LEFT:37,KEY_CODE_UP:38,KEY_CODE_RIGHT:39,KEY_CODE_DOWN:40,KEY_CODE_0:48,KEY_CODE_1:49,KEY_CODE_2:50,KEY_CODE_3:51,KEY_CODE_4:52,KEY_CODE_5:53,KEY_CODE_6:54,KEY_CODE_7:55,KEY_CODE_8:56,KEY_CODE_9:57,KEY_CODE_A:65,KEY_CODE_B:66,KEY_CODE_C:67,KEY_CODE_D:68,KEY_CODE_E:69,KEY_CODE_F:70,KEY_CODE_G:71,KEY_CODE_H:72,KEY_CODE_I:73,KEY_CODE_J:74,KEY_CODE_K:75,KEY_CODE_L:76,KEY_CODE_M:77,KEY_CODE_N:78,KEY_CODE_O:79,KEY_CODE_P:80,KEY_CODE_Q:81,KEY_CODE_R:82,KEY_CODE_S:83,KEY_CODE_T:84,KEY_CODE_U:85,KEY_CODE_V:86,KEY_CODE_W:87,KEY_CODE_X:88,KEY_CODE_Y:89,KEY_CODE_Z:90,KEY_CODE_F11:122,KEY_CODE_FORWARD_SLASH:191}},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0});var n=i(12),r=i(474),o=function(e){return e&&e.__esModule?e:{default:e}}(r),s={createElement:n.h},a=function(e){return e.base},u=(0,o.default)(s,n.Component,a);t.default=u},,function(e,t){function i(e,t,i,n,r){return r(e,function(e,r,o){i=n?(n=!1,e):t(i,e,r,o)}),i}e.exports=i},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.playButtonImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAP4AAACiCAYAAABh2nDdAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAulJREFUeNrs3d1tGlEQBtAlSgEpgXSAO8AdxB2QDuwONhWQDpxUAB14OyAdmA5IB+SOvDdCSHnLn/WdI91XP4z1aYY77DIMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAvnc/nQzsrlYCs4JdTOxvVgKzgd7t23qkKZAW/PLezVhnICn43qg7kBb88tbNUJcgKfr/4+6BSkBX8buviD/KCf7bzh8zgd/cqB3nBt/OH0OD3i7+1KkJW8O38ITj4/eJvqaKQFXw7fwgNfvfo4i/PQgleV/D/0J8+tnO3WCy+qXKGN0pAU5/3D3b+Oj5ZHf/SNHf/7yqu45Nj3Y7n/AWfQHXZV4/5bpXCqE/GqH+tLvw+uvjT8cmymrv/Ril0fHI6/qX93P1d/Ak+QcEvx8HO36hPnOXwsvMflULHJ6fjX5oGO38dnzjr4WXn72EfwSdM7fx3XvBp1Cdn1L9m56/jE6jv/D3so+MT1PEv2fnr+ASqC7+Dh30EnzzLefQflcKoT8aof60u/Grnf/Sf1PHJsZpHfzt/wSfMz52/Ugg+WWrk/6oMgk+OL+3c+oLPv/dWCfgLapdfO/29Uuj4ZJjauRF6wSfHpxb4Wys8oz4ZjvNoPymFjk+G/TzaC73gE6Au8B5a4L2Rx6hPCM/h6/iE+dwCfyP0Oj45o73dvOATZBq8XdeoT5S+mxd6HZ8Ax8Ev6Oj4ROm7eaEXfAL0Czyf5436hPCqLB2fMH03L/Q6PiGj/Z3v2ev45Kiwvxd6wSfHg908/KfOv1+97nqlspAT/Ec/aw05wT/5UQvICn6N9kuVhJzgjyoIOcE/+alqyAr+zgUe5AS/uvy9ikFO8O3mISz4W6M95ATfbh7Cgv9kNw9ZwR9VBXKC/+wCD7KCbzcPYcHfqAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAvE4/BBgAB9Vp0xXzB8AAAAAASUVORK5CYII="},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.hoverColorFunction=t.colorFunction=void 0;var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),u=i(12),l=i(49),c=n(l),d=i(840),h=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(d),p=i(294),f=n(p),m=t.colorFunction=function(e){return e.alpha(.8).toRgbaOrHex()},g=t.hoverColorFunction=function(e){return e.alpha(.8).lighten(20).toRgbaOrHex()},_=function(e){function t(e){r(this,t);var i=o(this,Object.getPrototypeOf(t).call(this,e));return i.storeColors(e),i.state={isHovering:!1},i}return s(t,e),a(t,[{key:"isVisible",value:function(){return void 0==this.props.isVisible||this.props.isVisible}},{key:"componentWillReceiveProps",value:function(e){this.props.color!=e.color&&this.storeColors(e)}},{key:"storeColors",value:function(e){var t=e.color||"#ffffff";this.color=m(new f.default(t)),this.hoverColor=g(new f.default(t))}},{key:"wrapperStyle",value:function(){var e={top:this.props.top||"0px",right:this.props.right||"0px",bottom:this.props.bottom||"0px",left:this.props.left||"0px",transition:this.props.shouldTransition?"100ms ease all":"none"};return(0,c.default)({},h.wrapper,e)}},{key:"contentsStyle",value:function(){return h.contents}},{key:"verticallyCenteredStyles",value:function(){return h.verticallyCenteredContents}},{key:"horizontallyCenteredStyles",value:function(){return h.horizontallyCenteredContents}},{key:"backgroundColor",value:function(){return this.state.isHovering?this.hoverColor:this.color}},{key:"buttonStyle",value:function(){var e={background:this.backgroundColor()};return(0,c.default)({},h.button,e)}},{key:"bottomTextStyle",value:function(){return h.bottomText}},{key:"onMouseEnter",value:function(){this.setState({isHovering:!0})}},{key:"onMouseLeave",value:function(){this.setState({isHovering:!1})}},{key:"onClick",value:function(){this.props.onClick&&this.props.onClick()}},{key:"maybeRenderComponent",value:function(){return this.isVisible()?this.renderComponent():void 0}},{key:"renderComponent",value:function(){return(0,u.h)("div",{"data-testid":"big-play-button__wrapper",onClick:this.onClick.bind(this),style:this.wrapperStyle()},(0,u.h)("div",{"data-testid":"big-play-button__contents",style:this.contentsStyle()},(0,u.h)("div",{"data-testid":"big-play-button__vertically-centered-contents",style:this.verticallyCenteredStyles()},(0,u.h)("div",{"data-testid":"big-play-button__horizontally-centered-contents",style:this.horizontallyCenteredStyles(),onMouseEnter:this.onMouseEnter.bind(this),onMouseLeave:this.onMouseLeave.bind(this)},(0,u.h)("div",{"data-testid":"big-play-button__button",style:this.buttonStyle()}),this.renderBottomText()))))}},{key:"renderBottomText",value:function(){var e=this.props.bottomText;if(e)return(0,u.h)("div",{"data-testid":"bottom-text",style:this.bottomTextStyle()},e)}},{key:"render",value:function(){return(0,u.h)("div",{"data-testid":"big-play-button"},this.maybeRenderComponent())}}]),t}(u.Component);t.default=_},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bottomText=t.button=t.horizontallyCenteredContents=t.verticallyCenteredContents=t.contents=t.wrapper=void 0;var n=(function(){function e(e,t){var i=[],n=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done)&&(i.push(s.value),!t||i.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}return i}}(),i(15)),r=i(786),o=((0,n.cachedDetect)(),t.wrapper={position:"absolute",top:0,bottom:0,left:0,right:0,zIndex:8},t.contents={position:"relative",display:"table",height:"100%",width:"100%"},t.verticallyCenteredContents={position:"relative",display:"table-cell",verticalAlign:"middle"},t.horizontallyCenteredContents={width:"127px",margin:"auto"},r.playButtonImage);t.button={cursor:"pointer",background:"none",backgroundImage:"url("+o+")",backgroundSize:"127px 81px",height:"81px",width:"127px"},t.bottomText={cursor:"pointer",color:"rgb(255, 255, 255)",fontSize:"18px",textAlign:"center",zIndex:1,lineHeight:"30px",background:"rgba(0, 0, 0, 0.4)"}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=(0,c.render)((0,c.h)(v,t),e);return function(){(0,c.render)((0,c.h)("nothing",null),e,i)}}function u(e,t){var i=(0,c.render)((0,c.h)(A,{instanceId:t}),e);return function(){(0,c.render)((0,c.h)("nothing",null),e,i)}}Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectedCustomerLogo=t.CustomerLogo=void 0;var l=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();t.mountForTest=a,t.default=u;var c=i(12),d=(i(7),i(20)),h=i(224),p=n(h),f=(i(107),i(47)),m=n(f),g=i(289),_=n(g),y=function(e){return{isVisible:_.default.getShowCustomerLogo(e),imageUrl:_.default.getCustomerLogoImageUrl(e),targetUrl:_.default.getCustomerLogoTargetUrl(e)}},v=t.CustomerLogo=function(e){function t(){var e,i,n,s;r(this,t);for(var a=arguments.length,u=Array(a),l=0;a>l;l++)u[l]=arguments[l];return i=n=o(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),n.isVisible=function(){var e=n.props,t=e.isVisible,i=e.imageUrl;return t&&!!i},n.isClickable=function(){return!!n.props.targetUrl},s=i,o(n,s)}return s(t,e),l(t,[{key:"onClick",value:function(){var e=this;return this.isClickable()?function(t){t.stopPropagation(),window.open(e.props.targetUrl,"_blank")}:null}},{key:"linkClasses",value:function(){return m.default.classListToString(["w-customer-logo",this.isClickable()?"w-customer-logo--clickable":"w-customer-logo--unclickable"])}},{key:"render",value:function(){return this.isVisible()?(0,c.h)("a",{class:this.linkClasses(),"data-test":"logo",onClick:this.onClick()},(0,c.h)("img",{class:"w-customer-logo__image",src:this.props.imageUrl})):(0,c.h)("nothing",null)}}]),t}(c.Component),b=t.ConnectedCustomerLogo=(0,d.connect)(y)(v),A=(0,p.default)(b)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),u=function e(t,i,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,i);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,i,n)}if("value"in r)return r.value;var s=r.get;return void 0===s?void 0:s.call(n)},l=i(10),c=function(e){return e&&e.__esModule?e:{default:e}}(l),d=c.default.lib("utilities/core"),h=(d.base64Encode,d.base64Decode),p=i(342),f=p.XhrLoader,m=function(e){function t(e){n(this,t);var i=r(this,Object.getPrototypeOf(t).call(this,e));return i.log=e.debug,e&&e.getFragFromCache&&(i.getFragFromCache=e.getFragFromCache),e&&e.getM3u8FromCache&&(i.getM3u8FromCache=e.getM3u8FromCache),e&&e.transformPlaylist&&(i.transformPlaylist=e.transformPlaylist),e&&e.callbackOnFragmentProgress&&(i.callbackOnFragmentProgress=e.callbackOnFragmentProgress),i}return o(t,e),a(t,[{key:"load",value:function(e,i,n){var r=this;if("manifest"===e.type&&e.url&&0===e.url.indexOf("data:application/x-mpegURL;base64,")){var o=function(){var t=e.url.replace("data:application/x-mpegURL;base64,",""),i=h(t);return setTimeout(function(){var t={url:e.url,data:i},r={trequest:performance.now(),retry:0};n.onSuccess(t,r,e)},0),{v:void 0}}();if("object"===(void 0===o?"undefined":s(o)))return o.v}if("level"===e.type){var a=function(){if(r.getM3u8FromCache){var o=r.getM3u8FromCache(e.url);if(o){var a=function(){var t=o.event,i=o.stats;return setTimeout(function(){n.onSuccess(t,i,e)},0),{v:{v:void 0}}}();if("object"===(void 0===a?"undefined":s(a)))return a.v}}var l=n.onSuccess,c=function(e,t,i){l&&(e.data&&r.transformPlaylist&&(e.data=r.transformPlaylist(e.data)),l(e,t,i))};return n.onSuccess=c,u(Object.getPrototypeOf(t.prototype),"load",r).call(r,e,i,n),{v:void 0}}();if("object"===(void 0===a?"undefined":s(a)))return a.v}if(null==e.type){var l=this.getFragFromCache(e.url,e.rangeStart,e.rangeEnd);if(l){var c=function(){var t=l.event,i=l.stats;return setTimeout(function(){n.onSuccess(t,i,e)},0),{v:void 0}}();if("object"===(void 0===c?"undefined":s(c)))return c.v}}u(Object.getPrototypeOf(t.prototype),"load",this).call(this,e,i,n)}}]),t}(f);t.default=m},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(51),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={menuWidth:120,controlWidth:40,appHost:(0,r.default)(),sslAppHost:(0,r.default)(),embedHost:(0,r.default)("fast"),sslEmbedHost:(0,r.default)("fast"),oembedHost:(0,r.default)("get-embed"),externalEmbedHost:"fast.wistia.net",externalSslEmbedHost:"fast.wistia.net",assetHost:"embed.wistia.com",assetSslHost:"embed-ssl.wistia.com",freeAssetHost:"embed.wistia.com",freeAssetSslHost:"embed-ssl.wistia.com",metricsHost:"pipedream.wistia.com"}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=i(49),u=function(e){return e&&e.__esModule?e:{default:e}}(a),l=i(977),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(l),d=function(e,t){return function(t){function i(){return n(this,i),r(this,Object.getPrototypeOf(i).call(this))}return o(i,t),s(i,[{key:"scaleFactor",value:function(){return this.props.scaleFactor||1}},{key:"framesPerRow",value:function(){return this.props.framesPerRow||10}},{key:"targetAspectRatio",value:function(){return this.props.targetAspectRatio||this.originalAspectRatio()}},{key:"targetWidth",value:function(){return this.props.targetWidth||200}},{key:"shouldLoadStoryboard",value:function(){var e=this.props.shouldLoadStoryboard;return void 0==e||e}},{key:"originalAspectRatio",value:function(){var e=this.props;return e.frameWidth/e.frameHeight}},{key:"storyboardViewerStyles",value:function(){var e=this.scaleFactor(),t=this.viewerDimensions(),i=t.viewerWidth,n=t.viewerHeight,r={width:i*e+"px",height:n*e+"px"};return(0,u.default)({},c.storyboardViewer,r)}},{key:"viewerDimensions",value:function(){var e=this.targetWidth()/this.targetAspectRatio();return{viewerWidth:this.targetWidth(),viewerHeight:e}}},{key:"storyboardViewerStoryboardStyles",value:function(){var e=this.propsToCoverViewerWithImage(),t=e.height,i=e.width,n=e.left,r=e.top,o={width:i,height:t,left:n,top:r,backgroundImage:this.backgroundImage(),backgroundPosition:this.backgroundPosition(),backgroundSize:this.backgroundSize()};return(0,u.default)({},c.storyboardViewerStoryboard,o)}},{key:"backgroundImage",value:function(){var e=this.props.storyboardUrl;return this.shouldLoadStoryboard()?"url("+e+")":""}},{key:"propsToCoverViewerWithImage",value:function(){var e=this.viewerDimensions(),t=e.viewerHeight,i=e.viewerWidth,n=this.scaledStoryboardDimensions(),r=n.scaledHeight,o=n.scaledWidth;return{width:o,height:r,top:(t-r)/2,left:(i-o)/2}}},{key:"scaledStoryboardDimensions",value:function(){var e=this.viewerDimensions(),t=e.viewerHeight,i=e.viewerWidth,n=t,r=i;return this.targetAspectRatio()>this.originalAspectRatio()?n=i/this.originalAspectRatio():r=t*this.originalAspectRatio(),{scaledHeight:n,scaledWidth:r}}},{key:"backgroundPosition",value:function(){var e=this.props,t=e.percent,i=e.frameCount,n=(e.frameHeight,e.frameWidth,Math.floor(t*i));return this.frameToPosition(n)}},{key:"frameToPosition",value:function(e){var t=this.propsToCoverViewerWithImage(),i=t.height,n=t.width,r=this.props,o=(r.frameHeight,r.frameWidth,e%this.framesPerRow()),s=Math.floor(e/this.framesPerRow());return-n*o*this.scaleFactor()+"px "+-i*s*this.scaleFactor()+"px"}},{key:"backgroundSize",value:function(){var e=this.props.frameHeight,t=this.propsToCoverViewerWithImage(),i=t.height,n=i/e,r=this.props,o=r.storyboardWidth,s=r.storyboardHeight;return o*n*this.scaleFactor()+"px "+Math.floor(s*n*this.scaleFactor())+"px"}},{key:"render",value:function(){return e.createElement("div",{style:this.storyboardViewerStyles(),className:"w-storyboard-viewer"},e.createElement("div",{style:this.storyboardViewerStoryboardStyles(),className:"w-storyboard-viewer__storyboard"}))}}]),i}(t)};t.default=d},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.storyboardViewer={position:"relative",overflow:"hidden"},t.storyboardViewerStoryboard={position:"absolute",top:0,left:0}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=i(10),o=n(r),s=i(342),a=n(s),u=o.default.lib("utilities/cacheable"),l=u.makeCacheable,c=u.uncacheNamespace,d=u.makeNamespace,h=o.default.lib("utilities/localstorage"),p=h.setOrGet,f=l("bandwidth_tracking"),m=d("bandwidth_tracking"),g=function(e){var t=e.hls,i=f(e,"persistBandwidthEstimate",function(){return function(){var e=t.abrController.getEstimate();p("hls.bandwidth_estimate",e)}});t.off(a.default.Events.FRAG_LOADED,i),t.on(a.default.Events.FRAG_LOADED,i)},_=function(e){m(e).persistBandwidthEstimate&&e.hls&&e.hls.off(a.default.Events.FRAG_LOADED,m(e).persistBandwidthEstimate),c("bandwidth_tracking",e)};e.exports={setup:g,teardown:_}},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=function(){function e(){i(this,e)}return n(e,null,[{key:"bufferInfo",value:function(e,t,i){if(e){var n,r=e.buffered,o=[];for(n=0;n<r.length;n++)o.push({start:r.start(n),end:r.end(n)});return this.bufferedInfo(o,t,i)}return{len:0,start:0,end:0,nextStart:void 0}}},{key:"bufferedInfo",value:function(e,t,i){var n,r,o,s,a,u=[];for(e.sort(function(e,t){var i=e.start-t.start;return i||t.end-e.end}),a=0;a<e.length;a++){var l=u.length;if(l){var c=u[l-1].end;e[a].start-c<i?e[a].end>c&&(u[l-1].end=e[a].end):u.push(e[a])}else u.push(e[a])}for(a=0,n=0,r=o=t;a<u.length;a++){var d=u[a].start,h=u[a].end;if(t+i>=d&&h>t)r=d,o=h,n=o-t;else if(d>t+i){s=d;break}}return{len:n,start:r,end:o,nextStart:s}}},{key:"lastBufferedTime",value:function(e,t){return e?this.bufferInfo(e,e.currentTime||0,t).end:0}},{key:"timeBeforeEndOfBuffer",value:function(e,t){var i=e&&e.currentTime||0;return this.lastBufferedTime(e,t)-i}}]),e}();t.default=r},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=function(){function e(t){i(this,e),this.alpha_=t?Math.exp(Math.log(.5)/t):0,this.estimate_=0,this.totalWeight_=0}return n(e,[{key:"sample",value:function(e,t){var i=Math.pow(this.alpha_,e);this.estimate_=t*(1-i)+i*this.estimate_,this.totalWeight_+=e}},{key:"getTotalWeight",value:function(){return this.totalWeight_}},{key:"getEstimate",value:function(){if(this.alpha_){var e=1-Math.pow(this.alpha_,this.totalWeight_);return this.estimate_/e}return this.estimate_}}]),e}();t.default=r},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=i(342),o=n(r),s=i(10),a=n(s),u=i(585),l=(a.default,a.default.lib("utilities/wlog")),c=l.wlog,d=c.getPrefixedFunctions("hls_video"),h=a.default.lib("utilities/cacheable"),p=h.makeCacheable,f=h.uncacheNamespace,m=h.makeNamespace,g=p("dynamic_max_max_buffer"),_=m("dynamic_max_max_buffer"),y=function(e){var t=e.hls,i=g(e,"onFragLoaded",function(){return function(){v(e)}});t.off(o.default.Events.FRAG_LOADED,i),t.on(o.default.Events.FRAG_LOADED,i)},v=function(e){var t=e.hls,i=(0,u.levelToAsset)(e,t.currentLevel);i&&i.metadata&&t.abrController.getEstimate()*t.config.abrBandWidthFactor<8*i.metadata.max_bitrate&&(t.manualLevel>=0||0===t.currentLevel?(d.info("set maxMaxBufferLength",e.getDuration()),t.config.maxMaxBufferLength=e.getDuration()):(d.info("set maxMaxBufferLength",60),t.config.maxMaxBufferLength=60))},b=function(e){_(e).onFragLoaded&&e.hls&&e.hls.off(o.default.Events.FRAG_LOADED,_(e).onFragLoaded),f("dynamic_max_max_buffer",e)};e.exports={setup:y,teardown:b}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=i(342),o=n(r),s=i(10),a=n(s),u=a.default,l=u.lib("player/lib/timeout-utils"),c=l.doTimeout,d=u.lib("utilities/obj"),h=u.lib("utilities/wlog"),p=h.wlog,f=u.lib("utilities/metrics"),m=u.lib("utilities/cacheable"),g=m.makeCacheable,_=m.uncacheNamespace,y=m.makeNamespace,v=g("error_handling"),b=y("error_handling"),A=p.getPrefixedFunctions("hls error_handling"),w=function(e){var t=v(e,"onError",function(){return function(t,i){E(e,t,i)}});e.hls.on(o.default.Events.ERROR,t);var i=v(e,"onEmergencyAbortLoad",function(){return function(){x(e)}});e.hls.on(o.default.Events.FRAG_LOAD_EMERGENCY_ABORTED,i)},E=function(e,t,i){i.fatal?k(e,t,i):C(e,t,i)},k=function(e,t,i){var n=e.hls,r=e.attributes;switch(i.type){case o.default.ErrorTypes.NETWORK_ERROR:p.info("hlsjsplugin - Fatal network error encountered, try to recover"),n.startLoad(),x(e);break;case o.default.ErrorTypes.MEDIA_ERROR:p.info("hlsjsplugin - Fatal media error encountered, try to recover"),b(e).countedRecoverMediaError||(b(e).countedRecoverMediaError=!0,S(e,"player/hls/recover_media_error")),e.isChangingVideo()||"bufferStalledError"===i.details&&n.startLoad(),"wistia-production_435826"===e.mediaData.accountKey&&function(){A.error("trying to recover from media error...");var t=e.getCurrentTime();n.recoverMediaError();var i=null!=r.bufferStallRecoveryTimeout?r.bufferStallRecoveryTimeout:1e3;c(e.uuid+".nudge_if_not_playing",function(){"playing"!==e.getPlaybackMode()?(A.error("trying to nudge 0.5 seconds..."),e.seek(e.getCurrentTime()+.5).then(function(){e.play()})):e.getCurrentTime()!==t&&A.error("video is playing; recoverMediaError() succeeded")},i)}();break;default:S(e,"player/hls/fatal",1,{at:e.getCurrentTime(),data:i}),p.info("hlsjsplugin - Fatal error - cannot recover"),n.destroy()}},C=function(e,t,i){e.hls,e.attributes,p.info("hlsjsplugin - Non fatal error encountered",i),"bufferSeekOverHole"===i.details?O(e,"player/hls/buffer_seek_over_hole",{hole:i.hole}):"bufferStalledError"===i.details?e.getCurrentTime()>0&&O(e,"player/hls/buffer_stalled"):"internalException"===i.details?O(e,"player/hls/non-fatal/"+i.details,{errorDetails:i}):O(e,"player/hls/non-fatal/"+i.details)},T=[100,500,1500,3e3,6e3],x=function(e){for(var t=function(){var t=e.hls;t&&t.startLoad()},i=0;i<T.length;i++){var n=T[i];c(e.uuid+".hls.start_load_on_stall_"+n,t,n)}},S=function(e,t,i){i=D(e,d.merge({at:e.getCurrentTime()},i)),f.count(t,1,i),I(e,t)},O=function(e,t,i){P(e,t)||S(e,t,i)},P=function(e,t){return M(e),!0===b(e).metricsCounted[t]},I=function(e,t){M(e),b(e).metricsCounted[t]=!0},M=function(e){null==b(e).metricsCounted&&(b(e).metricsCounted={})},D=function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i={hlsVideo:e.diagnosticData()};return i.locationHref=location.href,top!==self&&(i.referrer=document.referrer,i.inIframe=!0),d.merge(i,t)},R=function(e){b(e).onError&&e.hls&&e.hls.off(o.default.Events.ERROR,b(e).onError),b(e).onEmergencyAbortLoad&&e.hls&&e.hls.off(o.default.Events.ERROR,b(e).onEmergencyAbortLoad),_("error_handling",e)};e.exports={setup:w,teardown:R}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=i(10),a=n(s),u=i(105),l=n(u),c=i(610),d=n(c),h=i(585),p=i(1038),f=n(p),m=i(1039),g=n(m),_=i(1036),y=n(_),v=i(1035),b=n(v),A=i(1040),w=n(A),E=i(1032),k=n(E),C=i(342),T=n(C),x=a.default,S=x.lib("utilities/obj"),O=x.lib("utilities/wlog"),P=O.wlog,I=x.lib("player/lib/elem"),M=(I.elemWidth,I.elemHeight,x.lib("utilities/localstorage")),D=M.setOrGet,R=x.lib("utilities/seqid"),B=x.lib("player/lib/assets"),L=x.lib("player/engines/simple_video"),F=L.delegatePublicMethods,j=P.getPrefixedFunctions("hls_video"),N=i(1091).default,H=i(881).default,U=function(){function e(t,i){var n=this,o=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];r(this,e),this.bitrateForLevel=function(e){return(0,h.bitrateForLevel)(n,e)},this.getM3u8FromCache=function(e){var t=void 0;return(t=n.preloading&&n.preloading.m3u8Cache[e])?{event:t.event,stats:t.stats}:null},this.popFragFromCache=function(e,t,i){var r=e+"-"+t+"-"+i,o=void 0;if(o=n.preloading&&n.preloading.fragCache[r]){var s={event:o.event,stats:S.assign(o.stats,{alreadySampled:!0})};return delete n.preloading.fragCache[r],s}return null},this.transformPlaylist=function(e){return(0,h.transformPlaylist)(n,e)},this.uuid=R("wistia_hls_video_"),this.root=t,this.mediaData=i,this.allAssets=i.assets,this.attributes=S.assign(this.defaultAttributes(),o),this.state={},this.setupProperties(),this.simpleVideo=new L(this.root,this.mediaData,this.attributes),this.setAttributes({bwEstimateOnInit:D("hls.bandwidth_estimate")}),this.setupHls()}return o(e,[{key:"setupProperties",value:function(){null==this.preloading&&(this.preloading={}),null==this.preloading.m3u8Cache&&(this.preloading.m3u8Cache={}),null==this.preloading.fragCache&&(this.preloading.fragCache={})}},{key:"setupHls",value:function(){var e=this.getHlsjsConfig();this.hls=new T.default(e),f.default.setup(this),w.default.setup(this);var t=this.adaptiveAsset();this.hls.loadSource(t.url),this.hls.attachMedia(this.simpleVideo.videoElem()),b.default.setup(this),y.default.setup(this),k.default.setup(this),g.default.setup(this),
this.trigger("stream-changed",this.currentAsset())}},{key:"adaptiveAsset",value:function(){var e=d.default.buildMasterM3u8Asset(d.default.masterM3u8DataUri(this.m3u8OrderedAssets()));return e.display_name="Auto",e.slug="Auto",e}},{key:"masterM3u8Content",value:function(){return d.default.masterM3u8ContentFromAssets(this.m3u8OrderedAssets())}},{key:"defaultAttributes",value:function(){return{contentType:"video/m3u8",qualityMin:360,qualityMax:2160,preload:"metadata"}}},{key:"m3u8OrderedAssets",value:function(){return(0,h.m3u8OrderedAssets)(this,this.allAssets)}},{key:"selectableAssets",value:function(e){var t=this.m3u8OrderedAssets().sort(function(e,t){return e.width-t.width});return[this.adaptiveAsset()].concat(t)}},{key:"setupPreloading",value:function(){var e=this;this.trigger("stream-changed",(0,h.levelToAsset)(this,this.hls.startLevel)),this.hls.on(T.default.Events.MEDIA_ATTACHED,function(){e.hls.startLevel,preloadStream(e,function(){e.trigger("stream-changed",(0,h.levelToAsset)(e,e.hls.startLevel))})})}},{key:"onWidthChange",value:function(e){var t=this;this.setAttributes({width:e}),this.onReady().then(function(){f.default.capLevelBasedOnVideoWidth(t)})}},{key:"onHeightChange",value:function(e){this.setAttributes({height:e})}},{key:"setAttributes",value:function(e){return S.assign(this.attributes,e),this.simpleVideo.setAttributes(e)}},{key:"play",value:function(){return(0,h.startLoadOnce)(this),this.simpleVideo.play()}},{key:"seek",value:function(e){return(0,h.startLoadOnce)(this),this.simpleVideo.seek(e)}},{key:"showFirstFrame",value:function(){return this.seek(.01)}},{key:"getAsset",value:function(e){if("number"==typeof e)return this.assetFromQuality(e);if("string"==typeof e&&"auto"===e.toLowerCase()){if("auto"===e.toLowerCase())return this.adaptiveAsset();if("4k"===e.toLowerCase())return this.assetFromQuality(2160);if(/^\d+/.test(e))return this.assetFromQuality(parseInt(e))}return e}},{key:"changeStreamWithoutLoad",value:function(e){if((e=this.getAsset(e))&&(!this.currentAsset()||this.currentAsset().url!==e.url)){var t=void 0;t="variable"===e.bitrate?-1:(0,h.assetToLevel)(this,e),(0,h.stopLoad)(this),this.hls.currentLevel=t}}},{key:"changeStream",value:function(e){var t=this,i=arguments.length<=1||void 0===arguments[1]||arguments[1];return!(arguments.length<=2||void 0===arguments[2])&&arguments[2],e=this.getAsset(e),new l.default(function(n){t.changeStreamWithoutLoad(e),(0,h.startLoadOnce)(t),i?t.play().then(n):n()})}},{key:"changeVideo",value:function(e,t){var i=this;return new l.default(function(n){i.mediaData=e,i.allAssets=e.assets,i.attributes=t,i.state={},i.state.isChangingVideo=!0,i._bindings={},i.simpleVideo.reset(),i.destroyHls(),i.setupProperties(),i.setAttributes({bwEstimateOnInit:D("hls.bandwidth_estimate")}),i.setupHls(),i.state.isChangingVideo=!1,n()})}},{key:"isChangingVideo",value:function(){return!!this.state.isChangingVideo}},{key:"reset",value:function(){this.simpleVideo.reset()}},{key:"assetFromQuality",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?e:arguments[1],i=B.withinQualityRange(this.allAssets,e,t);return 0===i.length&&(i=B.nearestOutsideRange(this.allAssets,e,t)),i[0]}},{key:"destroyHls",value:function(){var e=this,t=function(e){try{return e()}catch(e){j.error(e)}};t(function(){y.default.teardown(e)}),t(function(){k.default.teardown(e)}),t(function(){b.default.teardown(e)}),t(function(){w.default.teardown(e)}),t(function(){g.default.teardown(e)}),t(function(){f.default.teardown(e)}),t(function(){(0,h.teardown)(e)}),this.hls&&(this.hls.detachMedia(),this.hls.destroy(),this.hls=null)}},{key:"destroy",value:function(){return this._bindings={},this.destroyHls(),this.simpleVideo.destroy()}},{key:"getHlsjsConfig",value:function(){return{autoStartLoad:!1,maxFragLookUpTolerance:.01,seekHoleNudgeDuration:.1,abrEwmaDefaultEstimate:this.attributes.bwEstimateOnInit,abrEwmaFastVoD:4,abrEwmaSlowVoD:15,maxMaxBufferLength:60,maxBufferSize:6e7,abrBandWidthFactor:1,abrBandWidthUpFactor:.9,debug:{log:function(){for(var e=arguments.length,t=Array(e),i=0;e>i;i++)t[i]=arguments[i];P.info.apply(P,["hlsjs log >"].concat(t))},error:function(){for(var e=arguments.length,t=Array(e),i=0;e>i;i++)t[i]=arguments[i];P.notice.apply(P,["hlsjs error >"].concat(t))},warn:function(){for(var e=arguments.length,t=Array(e),i=0;e>i;i++)t[i]=arguments[i];P.notice.apply(P,["hlsjs warn >"].concat(t))},info:function(){for(var e=arguments.length,t=Array(e),i=0;e>i;i++)t[i]=arguments[i];P.info.apply(P,["hlsjs info >"].concat(t))},debug:function(){for(var e=arguments.length,t=Array(e),i=0;e>i;i++)t[i]=arguments[i];P.debug.apply(P,["hlsjs debug >"].concat(t))}},loader:H,abrController:N,transformPlaylist:this.transformPlaylist,bitrateForLevel:this.bitrateForLevel,getFragFromCache:this.popFragFromCache,getM3u8FromCache:this.getM3u8FromCache}}},{key:"currentLevel",value:function(){return this.hls.currentLevel}},{key:"selectedAsset",value:function(){return this.hls.manualLevel>=0?this.currentAsset():this.adaptiveAsset()}},{key:"currentAsset",value:function(){return this.hls.currentLevel>=0?(0,h.levelToAsset)(this,this.hls.currentLevel)||this.adaptiveAsset():null!=this.hls.startLevel&&this.hls.startLevel>=0?(0,h.levelToAsset)(this,this.hls.startLevel)||this.adaptiveAsset():this.adaptiveAsset()}},{key:"abrBandWidthUpFactor",value:function(){return.9}},{key:"abrBandWidthFactor",value:function(){return 1}},{key:"diagnosticData",value:function(){var e=this,t=function(e){try{return e()}catch(e){return"ERROR: "+e.message}},i={simpleVideo:this.simpleVideo.diagnosticData(),attributes:this.attributes,currentLevel:t(function(){return e.currentLevel()}),startLevel:t(function(){return e.hls.startLevel}),nextLevel:t(function(){return e.hls.nextLevel}),loadLevel:t(function(){return e.hls.loadLevel}),autoLevel:t(function(){return e.hls.autoLevel}),autoLevelCapping:t(function(){return e.hls.autoLevelCapping}),nextAutoLevel:t(function(){return e.hls.nextAutoLevel}),manualLevel:t(function(){return e.hls.manualLevel}),bandwidthEstimate:t(function(){return e.hls.abrController.getEstimate()})};return i.currentAsset=this.currentAsset(),i.currentAsset&&i.currentAsset.url&&i.currentAsset.url.length>100&&(i.currentAsset.url=i.currentAsset.url.substring(0,97)+"..."),i.selectedAsset=this.selectedAsset(),i.selectedAsset&&i.selectedAsset.url&&i.selectedAsset.url.length>100&&(i.selectedAsset.url=i.selectedAsset.url.substring(0,97)+"..."),i}}],[{key:"fakeAutoAsset",value:function(){var e=d.default.buildMasterM3u8Asset("#fake");return e.slug="Auto",e.display_name="Auto",e}}]),e}();F(U.prototype,function(){return this.simpleVideo}),e.exports=U},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=i(10),o=n(r),s=i(342),a=n(s),u=i(610),l=n(u),c=i(585),d=o.default.lib("player/lib/assets"),h=o.default.lib("utilities/wlog"),p=h.wlog,f=p.getPrefixedFunctions("hls_video level_capping"),m=o.default.lib("utilities/cacheable"),g=m.makeCacheable,_=m.uncacheNamespace,y=m.makeNamespace,v=g("level_capping"),b=y("level_capping"),A=function(e){var t=v(e,"onManifestParsed",function(){return function(t,i){C(e)}});e.hls.off(a.default.Events.MANIFEST_PARSED,t),e.hls.on(a.default.Events.MANIFEST_PARSED,t)},w=function(e,t){e.hls.autoLevelCapping=t},E=function(e,t){var i=d.one(e.allAssets,{width:[0,t],sortBy:"width desc, bitrate desc",metadata:function(e){return e.max_bitrate<c.UNOBTAINABLE_BITRATE}});return i?(0,c.assetToLevel)(e,i):-1},k=function(e){return E(e,l.default.maxAssetWidthBasedOnVideoWidth(e.attributes.width,e.attributes.devicePixelRatio))},C=function(e){if(!1!==e.attributes.capBasedOnVideoWidth){var t=e.hls,i=k(e);if(f.info("capLevelBasedOnVideoWidth",i),i>=0){var n=t.currentLevel,r=t.autoLevelCapping;w(e,i);var o=e.getPlaybackMode(),s=(0,c.m3u8OrderedAssets)(e,e.allAssets);if(0===s.length)return;if("beforeplay"===o&&i===(0,c.assetToLevel)(e,s[0]))f.info("Not reevaluating next fragment because starting level is the same as the capped level");else{var a=t.levels.length-1,u=(0,c.levelToAsset)(e,Math.min(n+1,a));r>=0&&i>r&&(0,c.canSupportAsset)(e,u)&&(t.nextLevel=-1)}}}},T=function(e){b(e).onManifestParsed&&e.hls&&e.hls.off(a.default.Events.MANIFEST_PARSED,b(e).onManifestParsed),_("level_capping",e)};e.exports={setup:A,capLevelBasedOnVideoWidth:C,teardown:T}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=i(10),o=n(r),s=i(342),a=n(s),u=i(585),l=o.default.lib("utilities/detect"),c=l.cachedDetect,d=o.default.lib("player/lib/timeout-utils"),h=d.doTimeout,p=o.default.lib("player/lib/elem"),f=p.pageLoaded,m=o.default.lib("utilities/localstorage"),g=m.setOrGet,_=o.default.lib("utilities/wlog"),y=_.wlog,v=o.default.lib("utilities/cacheable"),b=v.makeCacheable,A=v.uncacheNamespace,w=v.makeNamespace,E=b("preloading"),k=w("preloading"),C=i(881).default,T=y.getPrefixedFunctions("hls preloading"),x=c(),S=function(e){var t=e.hls,i=E(e,"onMediaAttached",function(){return function(){B(e,function(){e.trigger("stream-changed",(0,u.levelToAsset)(e,t.startLevel))})}});t.off(a.default.Events.MEDIA_ATTACHED,i),t.on(a.default.Events.MEDIA_ATTACHED,i)},O=function(e,t,i){var n=e.hls;P(e,n.startLevel,1,function(){var r=(n.startLevel,(0,u.levelToAsset)(e,n.startLevel)),o=(0,u.startingAssetBasedOnBandwidthEstimate)(e,e.m3u8OrderedAssets(e,e.allAssets),(0,u.weightedBwUpEstimate)(e)),s=n.abrController.getEstimate();T.info("bandwidth estimate after 1 fragment",s),T.info("determined best starting asset",o);var a=o&&o.url,l=r&&r.url;if(o&&l!==a){var c=(0,u.assetToLevel)(e,o);if(0>c)return T.warn("no matching level found, got",c),void("function"==typeof i&&i());T.info("set startLevel",c),null!=c&&isNaN(c)&&T.error("error: setting startLevel to NaN",c,a),n.startLevel=c,P(e,c,t,function(){"function"==typeof i&&i()})}else P(e,n.startLevel,t-1,i)})},P=function(e,t){var i=arguments.length<=2||void 0===arguments[2]?1:arguments[2],n=arguments[3];return R(e,t,0,i,n)},I=function(e,t){return e.hls.levels[t].url[0]},M=function(e,t,i){if(e.hls){var n=I(e,t),r=k(e).m3u8Cache,o=void 0;if(o=r&&r[n])return void h(e.uuid+".preload_m3u8_level",function(){i(o)},0);var s=new C(e.hls.config),a={type:"level",level:t,id:0,responseType:"text",loader:C,url:n},l=function(t,r,o){var s={};if(s.event=t,s.stats=r,s.url=n,s.segments=[],(0,u.shouldTransformPathToIncludeByteRange)(e)){var a=/\n([a-zA-Z0-9]+)-(\d+)-(\d+)\.ts/gm,l=function(e,t,i,n){return s.segments.push({url:e}),""};t.data.replace(a,l)}else{var a=/#EXT-X-BYTERANGE:(\d+)@(\d+)\s+([a-zA-Z0-9]+\.ts)/g,l=function(e,t,i,n){var r=parseInt(i)+parseInt(t);return s.segments.push({from:parseInt(i),to:r,url:n}),""};t.data.replace(a,l)}k(e).m3u8Cache[n]=s,i(s)},c={onSuccess:l,onError:function(){for(var e=arguments.length,t=Array(e),i=0;e>i;i++)t[i]=arguments[i];T.error.apply(T,["Failed to fetch data for m3u8 "+n].concat(t))},onTimeout:function(){for(var e=arguments.length,t=Array(e),i=0;e>i;i++)t[i]=arguments[i];T.error.apply(T,["Timeout fetching data for m3u8 "+n].concat(t))}},d={timeout:6e3,maxRetry:3,retryDelay:500,maxRetryDelay:3e3};s.load(a,d,c)}},D=function(e,t,i,n){var r=I(e,t);M(e,t,function(){var o=k(e).m3u8Cache[r].segments[i];if(o){var s=o.url,a=k(e).m3u8Cache[r].url,u=/^https?:\/\//.test(s)?s:a.substring(0,a.lastIndexOf("/")+1)+s,l=new C(e.hls.config),c=function(t,i){var r=u+"-"+o.from+"-"+o.to,s={event:t,stats:i},a=Math.max(50,performance.now()-i.trequest),l=i.loaded;g("hls.bandwidth_estimate",8e3*l/a),e.hls.abrController.sample(a,l),k(e).fragCache[r]=s,"function"==typeof n&&n(s)},d=function(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];T.warn.apply(T,["failed to preload segment",u,i].concat(t))},h=function(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];T.warn.apply(T,["timed out preloading segment",u,i].concat(t))},p={onSuccess:c,onError:d,onTimeout:h},f={type:"level",level:t,id:0,url:u,responseType:"arraybuffer",loader:C,rangeStart:o.from,rangeEnd:o.to},m={timeout:6e3,maxRetry:3,retryDelay:500,maxRetryDelay:3e3};l.load(f,m,p)}})},R=function e(t,i,n,r,o){n>=r?"function"==typeof o&&o():D(t,i,n,function(){"beforeplay"===t.getPlaybackMode()&&e(t,i,n+1,r,o)})},B=function(e,t){x.trident||x.edge||x.firefox||f(function(){"beforeplay"===e.getPlaybackMode()&&("auto"===e.getPreload()?O(e,9,t):"metadata"===e.getPreload()&&O(e,1,t))})},L=function(e){k(e).onMediaAttached&&e.hls&&e.hls.off(a.default.Events.MEDIA_ATTACHED,k(e).onMediaAttached),A("preloading",e)};e.exports={setup:S,preloadStream:B,teardown:L}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=i(10),o=n(r),s=i(342),a=n(s),u=i(585),l=o.default,c=l.lib("utilities/wlog"),d=c.wlog,h=d.getPrefixedFunctions("hls_video"),p=o.default.lib("utilities/cacheable"),f=p.makeCacheable,m=p.uncacheNamespace,g=p.makeNamespace,_=f("track_stream_changes"),y=g("track_stream_changes"),v=function(e){var t=e.hls;y(e).lastLevel=null,y(e).lastAutoLevel=null,y(e).substreamIndex=0;var i=_(e,"onFragChanged",function(){return function(t,i){if(i.frag.level!==e._lastLevel||i.frag.autoLevel!=e._lastAutoLevel){var n=(0,u.levelToAsset)(e,i.frag.level);e.trigger("stream-changed",n),y(e).lastLevel=i.frag.level,y(e).lastAutoLevel=i.frag.autoLevel,y(e).substreamIndex+=1,i.frag.level>=0?h.notice("frag switch to",n||i.level,"at",e.getCurrentTime()):h.notice("frag switch to Auto at",e.getCurrentTime())}}});t.off(a.default.Events.FRAG_CHANGED,i),t.on(a.default.Events.FRAG_CHANGED,i);var n=_(e,"onLevelSwitch",function(){return function(t,i){if(i.level>=0){var n=(0,u.levelToAsset)(e,i.level);h.notice("level switch to",n||i.level,"at",e.lastBufferedTime())}else h.notice("level switch to Auto at",e.lastBufferedTime())}});t.off(a.default.Events.LEVEL_SWITCH,n),t.on(a.default.Events.LEVEL_SWITCH,n)},b=function(e){y(e).onFragChanged&&e.hls&&e.hls.off(a.default.Events.FRAG_CHANGED,y(e).onFragChanged),y(e).onLevelSwitch&&e.hls&&e.hls.off(a.default.Events.LEVEL_SWITCH,y(e).onLevelSwitch),m("track_stream_changes",e)};e.exports={setup:v,teardown:b}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=i(305),o=i(610),s=n(o),a=i(10),u=n(a),l=(u.default,u.default.lib("player/lib/assets")),c=(u.default.lib("utilities/obj"),u.default.lib("utilities/core")),d=(c.base64Encode,function(e){var t=(0,r.selectableAssets)(e.allAssets);return t.unshift(h(e)),t}),h=function(e){var t=p(e,e.allAssets),i=s.default.masterM3u8DataUri(t),n=s.default.buildMasterM3u8Asset(i);return n.display_name="Auto",n.slug="Auto",n},p=function(e,t){t=s.default.allHlsAssets(t),t=f(e,t);var i=s.default.bestAssetForCurrentSize(e,t,{maxWidth:1280})||s.default.mediumQualityStartingAsset(e,t)||s.default.anyViableAsset(e,t);return l.moveToFront(t,i),t},f=function(e,t){l.isScreencast(e.allAssets)&&(t=s.default.filterAssetsForScreencast(e,t)),e.attributes.qualityMin>0&&(t=s.default.rejectAudioAsset(e,t));var i=e.attributes,n=i.qualityMin,r=i.qualityMax,o=l.withinQualityRange(t,n,r);return t=o.length>0?o:l.nearestOutsideRange(t,n,r)};e.exports={selectable:d,adaptiveAsset:h}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=i(1041),a=n(s),u=i(33),l=n(u),c=i(10),d=n(c),h=d.default,p=(h.lib("player/lib/assets"),h.lib("player/engines/simple_video")),f=p.delegatePublicMethods,m=p.mediaDataWithAssets,g=function(){function e(t,i){var n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];r(this,e),this.uuid=(0,l.default)("wistia_native_hls_video_"),this.root=t,this.mediaData=i,this.allAssets=i.assets,this.attributes=n,this.simpleVideo=new p(this.root,this.mediaDataForSimpleVideo(),this.attributes),this.videoElem().src=a.default.adaptiveAsset(this).url}return o(e,[{key:"mediaDataForSimpleVideo",value:function(){return m(this.mediaData,this.selectableAssets())}},{key:"selectableAssets",value:function(){return a.default.selectable(this)}},{key:"changeVideo",value:function(e,t){return this.mediaData=e,this.allAssets=e.assets,this.attributes=t,this.simpleVideo.changeVideo(this.mediaDataForSimpleVideo(),this.attributes)}}]),e}();f(g.prototype,function(){return this.simpleVideo}),e.exports=g},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.formatQualityOptions=void 0;var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=i(607),a=n(s),u=i(13),l=n(u),c=i(514),d=n(c),h=i(63),p=n(h),f=i(488),m=n(f),g=i(469),_=n(g),y=i(47),v=n(y),b=i(154),A=n(b),w=i(40),E=i(937),k=n(E),C=i(486),T=n(C),x=i(582),S=n(x),O=(i(4),function(e){return v.default.bindActionsToStore(e,{branding:d.default.actions.default,player:p.default.actions,settings:m.default.actions.default,chapters:_.default.actions,root:A.default})}),P=function(e){return v.default.bindAccessorsToStore(e,{chapters:_.default.accessors,player:p.default.accessors})},I=t.formatQualityOptions=function(e){return(0,a.default)(e,function(t,i){return"webm"==i.container?t[i.slug]=""+i.display_name:"m3u8"===i.container?(e.map(function(e){return e.slug=e.display_name,e}),t[i.slug]=i.display_name):t[i.slug]=i.display_name,t},{})},M=function(e){return(0,l.default)(e)?p.default.accessors.getUUID(e.getState()):e},D=function(){function e(t,i){var n=this;r(this,e),this.onStartPlay=function(){n.publicApi.play()},this.onPlay=function(){n.actions.player.setIsPlayInitiated(!0)},this.onPlayerColorChange=function(e){n.actions.player.setPlayerColor(e)},this.onEnd=function(){var e=window.__wistiaStores[n.store];"reset"===p.default.accessors.getEmbedOption("endVideoBehavior",e.getState())&&n.actions.player.setHasBeenClicked(!1)},this.publicApi=t,this.store=i,this.actions=O(i),this.accessors=P(i),this._unbindStoreListeners=function(){}}return o(e,[{key:"sync",value:function(){this.syncEmbedAndMediaData(),this.syncPlayer(),this.syncSettings(),this.syncEmbedDimensions()}},{key:"syncEmbedAndMediaData",value:function(){var e=this.publicApi._opts,t=this.publicApi._mediaData;this.actions.player.setEmbedOptionFor("hasBranding",e.branding),this.actions.player.setEmbedOptionFor("isChromeless",e.chromeless),this.actions.player.setEmbedOptionFor("isAutoPlay",this.publicApi.canPlay()&&e.autoPlay),this.actions.player.setEmbedOptionFor("hasBigPlayButtonTime",e.bpbTime),this.actions.player.setEmbedOptionFor("settingsControl",(0,w.notSetOrTrue)(e.settingsControl)),this.actions.player.setEmbedOptionFor("playbackRateControl",(0,w.notSetOrTrue)(e.playbackRateControl)),this.actions.player.setEmbedOptionFor("qualityControl",(0,w.notSetOrTrue)(e.qualityControl)),this.actions.player.setEmbedOptionFor("bigPlayButtonControl",(0,w.notSetOrTrue)(e.playButton)),this.actions.player.setEmbedOptionFor("endVideoBehavior",e.endVideoBehavior),this.actions.player.setEmbedOptionFor("showCustomerLogo",(0,w.notSetOrTrue)(e.showCustomerLogo)),this.actions.player.setMediaDataFor("hasBranding",t.branding),this.actions.player.setMediaDataFor("enableCustomerLogo",t.enableCustomerLogo),this.actions.player.setVideoLength(this.publicApi.duration()),this.actions.player.setUUID(M(this.store)),this.actions.chapters.setIsVisible(e.chaptersOn),this.actions.chapters.setChapters(e.chapterList)}},{key:"syncPlayer",value:function(){var e=this.publicApi._opts;this.actions.player.setHashedId(this.publicApi.hashedId()),this.actions.player.setHost(k.default.embedHost),this.actions.player.setPlayerColor(this.publicApi.playerColor()),this.actions.player.setCustomerLogoImageUrl(e.customerLogoImageUrl),this.actions.player.setCustomerLogoTargetUrl(e.customerLogoTargetUrl)}},{key:"syncSettings",value:function(){var e=this.publicApi._impl,t=e.engine?e.assetOptions():[],i=e.engine&&e.engine.currentAsset(),n=e.engine&&e.engine.selectedAsset();this.actions.settings.setVideoQualityOptions(I(t)),i?this.actions.settings.setValueFor("videoQuality",i.slug):n&&this.actions.settings.setValueFor("videoQuality",n.slug)}},{key:"syncEmbedDimensions",value:function(){var e=this.publicApi._impl,t=e.width(),i=e.height();this.actions.player.setEmbedWidth(t),this.actions.player.setEmbedHeight(i),this.actions.player.setEmbedAspectRatio(t/i),this.actions.player.setVideoWidth(e.videoWidth()),this.actions.player.setVideoHeight(e.videoHeight())}},{key:"subscribeToPublicApiEvents",value:function(){S.default.bind(M(this.store)+":startPlay",this.onStartPlay),this.publicApi.bind("play",this.onPlay),this.publicApi.bind("playercolorchange",this.onPlayerColorChange),this.publicApi.bind("end",this.onEnd)}},{key:"unsubscribeFromPublicApiEvents",value:function(){this.publicApi.unbind("play",this.onPlay),this.publicApi.unbind("playercolorchange",this.onPlayerColorChange),S.default.unbind(M(this.store)+":startPlay",this.onStartPlay)}},{key:"subscribeToStoreChanges",value:function(){var e=this;this._unbindStoreListeners(),this._unbindStoreListeners=(0,T.default)(this.store,{onPlaybackRateChange:{accessor:m.default.accessors.default.getPlaybackRateValue,callback:function(t){e.publicApi._impl.playbackRate(t)}},onSelectedVideoQualityChange:{accessor:m.default.accessors.default.getSelectedVideoQualityValue,callback:function(t){e.publicApi._impl.videoQuality(t)}},onActiveChapterChange:{accessor:_.default.accessors.getLastChapterActivated,callback:function(t){if(null!=t&&void 0!=t){var i=e.accessors.chapters.getChapterById(t);e.publicApi._tracker.logChapterClick(i,e.publicApi.time()),e.publicApi.time(i.time),e.publicApi.play(),e.actions.chapters.setLastChapterActivated(null)}}}})}},{key:"unsubscribeFromStoreChanges",value:function(){this._unbindStoreListeners()}},{key:"destroy",value:function(){this.unsubscribeFromPublicApiEvents(),this.unsubscribeFromStoreChanges(),this.publicApi=null,this.store=null,this.actions=null}}]),e}();t.default=D},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){var n,r,o=function(e,t){return function(){return e.apply(t,arguments)}};r=i(1090),n=function(){function e(e){this.onUpdate=o(this.onUpdate,this),this.update=o(this.update,this),this.template=e,this.keyvals={},this.createUpdateCssNodeFunction()}return e.prototype.update=function(e){var t,i;for(t in e)i=e[t],this.keyvals[t]=i;return this.onUpdate(this.keyvals)},e.prototype.onUpdate=function(e){var t;return t=this.render(this.template,e),this.updateDOM(t)},e.prototype.updateDOM=function(e){return this.cssNode?this.updateCssNode(e):this.cssNode=this.addToDOM(e)},e.prototype.render=function(e,t){return r(e,t)},e.prototype.addToDOM=function(e){return window.Wistia.css(e)},e.prototype.createUpdateCssNodeFunction=function(){return this.updateCssNode=function(e){return this.cssNode.innerHTML=e}},e}(),e.exports=n},function(e,t){var i,n,r,o=[].indexOf||function(e){for(var t=0,i=this.length;i>t;t++)if(t in this&&this[t]===e)return t;return-1};i=/(__[\w-]+__)/g,n=function(e,t){var n,o,s;if(n=[],o=e.replace(i,function(e,i){if(null!=t[i])return n.push(i),""+t[i];throw new Error("Unknown template variable '"+i+"'")}),s=r(n,t),s.length>0)throw new Error("Could not find variables '"+s.join(", ")+"' in your teplate");return o},r=function(e,t){var i,n;n=[];for(i in t)t[i],o.call(e,i)>=0||n.push(i);return n},e.exports=n},function(e,t,i){var n,r,o,s,a,u,l,c=function(e,t){return function(){return e.apply(t,arguments)}};a=i(10),s=i(342),l=a.lib("utilities/wlog").wlog,u=l.getPrefixedFunctions("hlsabr"),o=i(1034).default,n=i(1033).default,r=function(){function e(e){var t,i;this.hls=e,this.abandonRulesCheck=c(this.abandonRulesCheck,this),this._onFragLoaded=c(this._onFragLoaded,this),this._onFragLoading=c(this._onFragLoading,this),this._onError=c(this._onError,this),this.lastLoadedFragLevel=0,this._autoLevelCapping=-1,this._nextAutoLevel=-1,this.defaultEstimate=this.hls.config.abrEwmaDefaultEstimate||5e5,this.minTotalWeight=.001,this._sampleCount=0,this._fast=new o(this.hls.config.abrEwmaFastVoD),this._slow=new o(this.hls.config.abrEwmaSlowVoD),this.minAutoLevel=0,(i=this.hls.config.abrEwmaDefaultEstimate)&&(t=i/8,this.sample(6e3,6*t)),this.hls.on(s.Events.FRAG_LOADING,this._onFragLoading),this.hls.on(s.Events.FRAG_LOADED,this._onFragLoaded),this.hls.on(s.Events.FRAG_LOADED,this._onError)}return e.prototype.destroy=function(){return this.clearTimer(),this.hls.off(s.Events.FRAG_LOADED,this._onFragLoaded),this.hls.off(s.Events.FRAG_LOADING,this._onFragLoading),this.hls.off(s.Events.FRAG_LOADING,this._onError)},e.prototype.getNextAutoLevel=function(){var e,t,i,n,r;if(n=this.maxAutoLevel(),-1!==this._nextAutoLevel)return Math.min(this._nextAutoLevel,n);for(e=this.getEstimate()/this.playbackRate(),t=i=0,r=n;r>=0?r>=i:i>=r;t=r>=0?++i:--i)if((t<=this.lastLoadedFragLevel?this.hls.config.abrBandWidthFactor*e:this.hls.config.abrBandWidthUpFactor*e)<this.bitrateForLevel(t))return Math.max(0,t-1);return t-1},e.prototype.bitrateForLevel=function(e){return"function"==typeof this.hls.config.bitrateForLevel?this.hls.config.bitrateForLevel(e):this.hls.levels[e].bitrate},e.prototype._onError=function(e,t){var i,n;return i=t.details===s.ErrorDetails.FRAG_LOAD_ERROR,n=t.details===s.ErrorDetails.FRAG_LOAD_TIMEOUT,i||n?this.clearTimer():void 0},e.prototype._onFragLoading=function(e,t){var i;return i=t.frag,i.trequest=performance.now(),this.fragCurrent=i,this.timer||(this.timer=setInterval(this.abandonRulesCheck,100)),this._setupSeekTracking?void 0:(this._setupSeekTracking=!0,this.hls.media.addEventListener("seeked",function(e){return function(){var t;if((null!=(t=e.hls)?t.media:void 0)&&!(e.hls.media.currentTime>0&&e.hls.media.currentTime<3))return e._justSeeked=!0,clearTimeout(e._unsetSeekedTimeout),e._unsetSeekedTimeout=setTimeout(function(){return e._justSeeked=!1},3e3)}}(this)))},e.prototype._onFragLoaded=function(e,t){var i,n,r,o;return r=t.frag,o=t.stats,"main"!==r.type||(this.clearTimer(),null!=o.aborted||1!==r.loadCounter||o.alreadySampled)?void 0:(n=performance.now()-o.trequest,i=o.loaded,!this.hls.media.seeking&&this._justSeeked&&this.timeBeforeEndOfBuffer()<3?this.sample(.35*n,.35*i):this.sample(n,i),this.lastLoadedFragLevel=r.level,this._nextAutoLevel=-1)},e.prototype.abandonRulesCheck=function(){var e,t,i,r,o,s,a,l,c,d,h,p,f,m,g;if(a=this.hls,g=a.media,r=this.fragCurrent,(!r.loader||(null!=(f=r.loader.stats)?f.aborted:void 0))&&(a.config.debug.info("hlsjs: frag loader destroy or aborted, disarm abandonRulesCheck"),this.clearTimer()),g&&!g.paused&&r.autoLevel&&r.level&&(l=.1,(m=performance.now()-r.trequest)>3e3&&m>1e3*r.duration*.5&&(c=a.levels,d=Math.max(1,1e3*r.loaded/m),e=this.bitrateForLevel(r.level),i=Math.max(r.loaded,Math.round((r.duration-l)*e/8)),p=g.currentTime,s=(i-r.loaded)/d,(t=n.bufferInfo(g,p,a.config.maxBufferHole).end-p)<2*r.duration&&s>t))){if(h=r.level-1,0===r.loaded)return g.currentTime<1&&(isNaN(h)&&u.error("abandonRulesCheck a: nextLoadLevel is NaN",h,s,t,p,d,m,c),a.startLevel=h),a.nextLoadLevel=h;for(;h>=0&&(e=this.bitrateForLevel(h),o=r.duration*e/(7.2*d)+l,a.config.debug.info("hlsjs: fragLoadedDelay/bufferStarvationDelay/fragLevelNextLoadedDelay["+h+"] :"+s.toFixed(1)+"/"+t.toFixed(1)+"/"+o.toFixed(1)),!(t>o));)h-=1;return s-o>1&&(h=Math.max(0,h),g.currentTime<1&&(isNaN(h)&&u.error("abandonRulesCheck b: nextLoadLevel is NaN",h,s,t,p,d,m,c),a.startLevel=h),a.nextLoadLevel=h,this.sample(m,r.loaded)),a.config.debug.warn("loading too slow, abort fragment loading and switch to level "+h),r.loader.abort(),this.clearTimer(),a.trigger(Event.FRAG_LOAD_EMERGENCY_ABORTED,{frag:r}),a.startLoad()}},e.prototype.clearTimer=function(){return this.timer?(clearInterval(this.timer),this.timer=null):void 0},e.prototype.maxAutoLevel=function(){var e;return e=this.hls.levels,-1===this._autoLevelCapping&&(null!=e?e.length:void 0)?e.length-1:this._autoLevelCapping},e.prototype.playbackRate=function(){var e;return e=this.hls.media,0!==(null!=e?e.playbackRate:void 0)?Math.abs(e.playbackRate):1},e.prototype.sample=function(e,t){var i,n;return e=Math.max(e,50),n=e/1e3,i=8e3*t/e,this._fast.sample(n,i),this._slow.sample(n,i),this._sampleCount+=1},e.prototype.getEstimate=function(){return this._sampleCount<1||this._fast.getTotalWeight()<this.minTotalWeight?this.defaultEstimate:this.hls.media?this.timeBeforeEndOfBuffer()<=6?Math.min(this._fast.getEstimate(),this._slow.getEstimate()):Math.max(this._fast.getEstimate(),this._slow.getEstimate()):Math.min(this._fast.getEstimate(),this._slow.getEstimate())},e.prototype.timeBeforeEndOfBuffer=function(){return n.timeBeforeEndOfBuffer(this.hls.media,this.hls.config.maxBufferHole)},e.prototype.lastBufferedTime=function(){return n.lastBufferedTime(this.hls.media,this.hls.config.maxBufferHole)},Object.defineProperties(e.prototype,{nextAutoLevel:{get:function(){return this.getNextAutoLevel()},set:function(e){return this._nextAutoLevel=e}},autoLevelCapping:{get:function(){return this._autoLevelCapping},set:function(e){return this._autoLevelCapping=e}}}),e}(),e.exports={default:r}},,,,,,,,,,,,,,,,,,,,,function(e,t,i){!function(e){e.HlsVideo||(e.HlsVideo=i(1037))}(Wistia),function(e){e.plugin("hlsVideo",function(t,i){return e.info("loaded dummy hlsVideo plugin",t,i),{}})}(Wistia)},function(e,t,i){!function(e){Object.defineProperties&&e.detect.nativeHls&&!e.NativeHlsVideo&&(e.NativeHlsVideo=i(1042))}(Wistia),function(e){e.plugin("nativeHlsVideo",function(t,i){return e.info("loaded dummy nativeHlsVideo plugin",t,i),{}})}(Wistia)},function(e,t){var i=function(e,t){return function(){return e.apply(t,arguments)}};!function(e){e.Vulcan.Loading||(e.Vulcan.Loading=function(){function t(t){this.video=t,this.reorient=i(this.reorient,this),this.hide=i(this.hide,this),this.show=i(this.show,this),this.turnOff=i(this.turnOff,this),this.turnOn=i(this.turnOn,this),this.name="loadingIndicator",this.uuid=e.seqId("wistia_"+this.name+"_"),this.elem=document.createElement("div"),this.elem.id=this.uuid,this.elem.className="wistia_loading_indicator",this.elem.setAttribute("alt","Loading..."),e.elem.append(this.video.vulcanElem,this.elem),"function"==typeof this.setupBindings&&this.setupBindings(),e.elem.style(this.elem,{cursor:"default",display:"none",pointerEvents:"none",position:"absolute",height:this.height()+"px",width:this.width()+"px",zIndex:1}),this.updateSvg(),this.throttleUpdateSvg=e.util.throttle(200,function(e){return function(){return e.updateSvg()}}(this))}return t.prototype.updateSvg=function(){var t,i,n,r,o,s,a,u,l;if(("small"!==this.svgSize||!this.shouldShrink())&&("big"!==this.svgSize||this.shouldShrink())){if(this.svgText=this.shouldShrink()?"small":"big",this.svgSize=this.shouldShrink()?"small":"big",this.activeSvgId=e.seqId("wistia_loading_svg_"),e.detect.browser.msie&&e.detect.browser.version<10)return void(this.elem.innerHTML="Loading...");for(o=this.shouldShrink()?"M23,7 L41,18 L23,30 Z":"M52,21 L81,40 L52,60 Z",l='<svg version="1.2" id="'+this.activeSvgId+'" height="'+this.height()+'" width="'+this.width()+'" xmlns="http://www.w3.org/2000/svg" viewport="0 0 '+this.width()+" "+this.height()+'" xmlns:xlink="http://www.w3.org/1999/xlink">\n  <path fill="none" stroke="#'+this.primaryColor().toHex()+'" stroke-miterlimit="20" d="'+o+'" />\n</svg>',s=this.elem.ownerDocument.createRange(),s.selectNodeContents(this.elem),r=s.createContextualFragment(l),this.elem.appendChild(r),a=this.elem.childNodes,i=0,n=a.length;n>i;i++)(t=a[i])&&t!==this.styleElem&&t.id!==this.activeSvgId&&e.elem.remove(t);return this.pathLength=(null!=(u=this.elem.getElementsByTagName("path")[0])&&"function"==typeof u.getTotalLength?u.getTotalLength():void 0)||100,this.setupCss()}},
t.prototype.initialize=function(){return this},t.prototype.bindingNamespace=function(){return this.video.uuid+".vulcan-loading"},t.prototype.setupBindings=function(){var e,t;return e=this.bindingNamespace(),this.video.bindNamed(e,"onWidthChange","widthchange",this.reorient),this.video.bindNamed(e,"onHeightChange","heightchange",this.reorient),t=-1,this.video.bindNamed(e,"onWaiting","waiting",function(e){return function(i){return e.off()&&2>t&&i>=2&&e.turnOn(),t=i}}(this)),this.video.bindNamed(e,"onDoneWaiting","done-waiting",function(e){return function(){return t=-1,e.turnOff()}}(this)),this.video.bindNamed(e,"onTimeChange","timechange",function(e){return function(){return t=-1,e.turnOff()}}(this))},t.prototype.setupCss=function(){return this.styleElem&&e.elem.remove(this.styleElem),this.styleElem=e.css(this.elem,"#"+this.video.wrapperElem.id+" .wistia_loading_indicator path {\n  stroke-width: "+this.strokeWidth()+"px;\n  stroke-dasharray: "+this.pathLength/3+", "+2*this.pathLength/3+";\n  -webkit-animation: wistia_dash 1s infinite linear forwards;\n}\n@-webkit-keyframes wistia_dash {\n  from { stroke-dashoffset: "+this.pathLength+"; }\n  to { stroke-dashoffset: 0; }\n}")},t.prototype.strokeWidth=function(){return Math.max(Math.min(Math.floor(this.video.videoWidth()/640*3),3),1)},t.prototype.on=function(){return this._on},t.prototype.off=function(){return!this._on},t.prototype.shouldShrink=function(){return this.video.videoWidth()<=320||this.video.videoHeight()<=200},t.prototype.width=function(){return this.shouldShrink()?60:127},t.prototype.height=function(){return this.shouldShrink()?38:81},t.prototype.turnOn=function(){return this._on?void 0:(this._on=!0,this.show())},t.prototype.turnOff=function(){return this._on?(this._on=!1,this.hide()):void 0},t.prototype.show=function(){return this.on()?(this.elem.style.display="block",this.reorient()):void 0},t.prototype.hide=function(){return this.elem.style.display="none"},t.prototype.reorient=function(){var t;return this.video.looksDown()?e.elem.style(this.elem,{left:"-100%",width:"-100%"}):(this.throttleUpdateSvg(),e.elem.style(this.elem,{width:this.width()+"px",height:this.height()+"px"}),(t=this.elem.getElementsByTagName("path")[0])&&e.elem.style(t,{strokeWidth:this.strokeWidth()+"px"}),this.center())},t.prototype.center=function(){var e,t,i;return i=this.video.videoHeight(),e=Math.round((this.video.videoWidth()-this.width())/2),t=Math.round((i-this.height())/2),this.elem.style.left=e+"px",this.elem.style.top=t+"px"},t.prototype.destroy=function(){return this.video.unbindNamed(this.bindingNamespace()),e.elem.remove(this.elem)},t.prototype.primaryColor=function(){return new e.Color("#ffffff")},t}())}(Wistia)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){
e.exports='#__chromeid__ #__wrapperid__, #__chromeid__ #__wrapperid__ div, #__chromeid__ #__wrapperid__ span, #__chromeid__ #__wrapperid__ ul, #__chromeid__ #__wrapperid__ li, #__chromeid__ #__wrapperid__ label, #__chromeid__ #__wrapperid__ button, #__chromeid__ #__wrapperid__ img, #__chromeid__ #__wrapperid__ a, #__chromeid__ #__wrapperid__ svg, #__chromeid__ #__wrapperid__ p {  box-shadow: none;  color: inherit;  display: block;  float: none;  font-family: WistiaPlayerOverpass, sans-serif;  font-style: none;  font-weight: normal;  font-size: 14px;  letter-spacing: 0;  line-height: inherit;  margin: 0;  padding: 0;  position: static;  text-decoration: none;  text-transform: none;  text-shadow: none;  word-wrap: normal; }#__chromeid__ #__wrapperid__ a {  border: 0; }#__chromeid__ #__wrapperid__ p {  margin: 1.4em 0; }#__chromeid__ #__wrapperid__ a, #__chromeid__ #__wrapperid__ span, #__chromeid__ #__wrapperid__ svg {  display: inline; }#__chromeid__ #__wrapperid__ ul, #__chromeid__ #__wrapperid__ ol, #__chromeid__ #__wrapperid__ li {  background-attachment: scroll;  background-image: none;  background-position: 0 0;  background-repeat: no-repeat;  background-size: 100% 100%;  list-style-type: none;  position: static; }  #__chromeid__ #__wrapperid__ ul:before, #__chromeid__ #__wrapperid__ ol:before, #__chromeid__ #__wrapperid__ li:before {    display: none; }  #__chromeid__ #__wrapperid__ ul:after, #__chromeid__ #__wrapperid__ ol:after, #__chromeid__ #__wrapperid__ li:after {    display: none; }#__chromeid__ #__wrapperid__ label {  background-attachment: scroll;  background-image: none;  background-position: 0 0;  background-repeat: no-repeat;  background-size: 100% 100%;  float: none;  outline: none; }#__chromeid__ #__wrapperid__ button {  background-attachment: scroll;  background-image: none;  background-position: 0 0;  background-repeat: no-repeat;  background-size: 100% 100%;  border: 0;  border-radius: 0;  outline: none;  position: static; }#__chromeid__ #__wrapperid__ img {  background-attachment: scroll;  background-image: none;  background-position: 0 0;  background-repeat: no-repeat;  background-size: 100% 100%;  border: 0;  display: inline-block;  vertical-align: top; }#__chromeid__ #__wrapperid__ .wistia_vulcan_svg_icon, #__chromeid__ #__wrapperid__ .w-svg {  position: absolute;  top: 6px;  left: 9px;  width: 35px; }  #__chromeid__ #__wrapperid__ .wistia_vulcan_svg_icon polyline,  #__chromeid__ #__wrapperid__ .wistia_vulcan_svg_icon polygon,  #__chromeid__ #__wrapperid__ .wistia_vulcan_svg_icon rect,  #__chromeid__ #__wrapperid__ .wistia_vulcan_svg_icon path,  #__chromeid__ #__wrapperid__ .wistia_vulcan_svg_icon circle, #__chromeid__ #__wrapperid__ .w-svg polyline,  #__chromeid__ #__wrapperid__ .w-svg polygon,  #__chromeid__ #__wrapperid__ .w-svg rect,  #__chromeid__ #__wrapperid__ .w-svg path,  #__chromeid__ #__wrapperid__ .w-svg circle {    stroke: #ffffff; }  #__chromeid__ #__wrapperid__ .wistia_vulcan_svg_icon polygon, #__chromeid__ #__wrapperid__ .w-svg polygon {    fill: #ffffff; }#__chromeid__ #__wrapperid__ .wistia_vulcan_svg_icon_captions {  top: 7px;  left: 7px;  width: 27px;  height: 19px; }#__chromeid__ #__wrapperid__ .wistia_vulcan_svg_icon_fullscreen {  top: 8px;  left: 7px;  width: 27px;  height: 19px; }#__chromeid__ #__wrapperid__ .wistia_vulcan_svg_icon_airplay {  top: 0px;  left: 0px;  width: 40px;  height: 34px; }#__chromeid__ #__wrapperid__ .wistia_vulcan_svg_icon_social {  width: 23px;  height: 22px;  top: 6px;  left: 9px; }#__chromeid__ #__wrapperid__ .wistia_vulcan_svg_icon_settings {  width: 18px;  height: 19px;  fill: #ffffff;  top: 8px;  left: 11px; }#__chromeid__ #__wrapperid__ .wistia_vulcan_svg_icon_chapters {  width: 22px;  height: 19px;  fill: #ffffff;  top: 8px;  left: 9px; }#__chromeid__ #__wrapperid__ .wistia_vulcan_svg_icon_pause {  fill: #ffffff;  width: 12px;  left: 21px;  top: 8px;  height: 18px; }#__chromeid__ #__wrapperid__ .wistia_vulcan_svg_icon_play {  fill: #ffffff;  width: 12px;  height: 18px;  left: 22px;  top: 8px;  stroke-width: 0; }#__chromeid__ #__wrapperid__ .w-svg--menu {  width: 15px;  height: 17px;  position: static;  vertical-align: middle; }#__chromeid__ #__wrapperid__ .w-control--volume {  width: 40px;  height: 34px; }  #__chromeid__ #__wrapperid__ .w-control--volume .w-control--icon {    height: 34px;    width: 40px; }#__chromeid__ #__wrapperid__ .wistia_vulcan_svg_volume {  position: absolute;  top: 9px;  left: 9px;  width: 21px;  height: 17px; }#__chromeid__ #__wrapperid__ .wistia_vulcan_svg_icon_volume {  width: 24px;  left: 9px;  top: 5px; }#__chromeid__ #__wrapperid__ .wistia_vulcan_svg_volume_hat_group {  fill: #ffffff;  opacity: 0;  -webkit-transform: translateY(5px);          transform: translateY(5px);  -webkit-transition: opacity 100ms, -webkit-transform 100ms;  transition: opacity 100ms, -webkit-transform 100ms;  transition: transform 100ms, opacity 100ms;  transition: transform 100ms, opacity 100ms, -webkit-transform 100ms; }#__chromeid__ #__wrapperid__ .number-active-0 .wistia_vulcan_svg_volume_speaker_group {  -webkit-transform: translateX(2px);          transform: translateX(2px); }#__chromeid__ #__wrapperid__ .number-active-0 .wistia_vulcan_svg_volume_x {  opacity: 1; }#__chromeid__ #__wrapperid__ .number-active-1 .wistia_vulcan_svg_volume_speaker_group {  -webkit-transform: translateX(2px);          transform: translateX(2px); }#__chromeid__ #__wrapperid__ .number-active-1 .wistia_vulcan_svg_wave_1 {  opacity: 1; }#__chromeid__ #__wrapperid__ .number-active-2 .wistia_vulcan_svg_volume_speaker_group {  -webkit-transform: translateX(0);          transform: translateX(0); }#__chromeid__ #__wrapperid__ .number-active-2 .wistia_vulcan_svg_wave_1 {  opacity: 1; }#__chromeid__ #__wrapperid__ .number-active-2 .wistia_vulcan_svg_wave_2 {  opacity: 1; }#__chromeid__ #__wrapperid__ .wistia_vulcan_svg_volume_speaker_group {  -webkit-transition: -webkit-transform 100ms;  transition: -webkit-transform 100ms;  transition: transform 100ms;  transition: transform 100ms, -webkit-transform 100ms; }#__chromeid__ #__wrapperid__ .wistia_vulcan_svg_volume_speaker_group_inner {  -webkit-transition: -webkit-transform 100ms;  transition: -webkit-transform 100ms;  transition: transform 100ms;  transition: transform 100ms, -webkit-transform 100ms;  -webkit-transform: translateY(0) scale(1);          transform: translateY(0) scale(1); }#__chromeid__ #__wrapperid__ .wistia_vulcan_svg_volume_waves {  opacity: 1;  -webkit-transition: opacity 0s 100s;  transition: opacity 0s 100s; }#__chromeid__ #__wrapperid__ .wistia_vulcan_svg_volume_wave {  opacity: 0;  -webkit-transition: opacity 0s 100ms;  transition: opacity 0s 100ms; }#__chromeid__ #__wrapperid__ .wistia_vulcan_volume_slider {  position: absolute;  left: 0;  width: 40px;  height: 0;  overflow: hidden;  bottom: 34px;  border: none;  outline: none; }  #__chromeid__ #__wrapperid__ .wistia_vulcan_volume_slider.w-is-visible {    height: 110px; }#__chromeid__ #__wrapperid__ .wistia_vulcan_volume_track_hit {  position: absolute;  bottom: 15px;  height: 80px;  left: 0;  width: 100%; }#__chromeid__ #__wrapperid__ .wistia_vulcan_volume_track {  position: absolute;  bottom: 0;  height: 100%;  left: 19px;  width: 2px; }#__chromeid__ #__wrapperid__ .wistia_vulcan_volume_level {  position: absolute;  bottom: 0;  height: 0;  width: 100%; }#__chromeid__ #__wrapperid__ .wistia_vulcan_volume_grabber_hit {  position: absolute;  top: 0;  left: -19px;  margin-top: -15px;  height: 30px;  width: 40px;  border-radius: 50%; }  #__chromeid__ #__wrapperid__ .wistia_vulcan_volume_grabber_hit:hover .wistia_vulcan_volume_grabber {    -webkit-transform: scale(1.15);            transform: scale(1.15); }#__chromeid__ #__wrapperid__ .wistia_vulcan_volume_grabber {  position: absolute;  top: 50%;  left: 50%;  margin-top: -6px;  margin-left: -6px;  height: 12px;  width: 12px;  border-radius: 50%;  -webkit-transition: -webkit-transform 100ms ease;  transition: -webkit-transform 100ms ease;  transition: transform 100ms ease;  transition: transform 100ms ease, -webkit-transform 100ms ease; }  #__chromeid__ #__wrapperid__ .wistia_vulcan_volume_grabber.is-mousedown {    -webkit-transform: scale(1.15);            transform: scale(1.15); }#__chromeid__ #__wrapperid__ .wistia_vulcan_volume_dot_grabber {  position: absolute;  top: 2px;  left: 2px;  border-radius: 50%;  width: 8px;  height: 8px;  background: rgba(0, 0, 0, 0.8); }#__chromeid__ #__wrapperid__ .wistia_vulcan_volume_slider {  background-color: rgba(0, 0, 0, 0.55); }#__chromeid__ #__wrapperid__ .wistia_vulcan_volume_level {  background-color: white; }#__chromeid__ #__wrapperid__ .wistia_vulcan_volume_track {  background-color: white; }#__chromeid__ #__wrapperid__ .wistia_vulcan_volume_grabber {  background-color: white; }#__chromeid__ #__wrapperid__ .wistia_playbar {  position: relative;  width: 100%;  height: 34px;  -webkit-user-select: none;     -moz-user-select: none;      -ms-user-select: none;          user-select: none;  overflow: hidden; }  #__chromeid__ #__wrapperid__ .wistia_playbar.wistia_dragging .wistia_player {    -webkit-transition: left 0;    transition: left 0; }  #__chromeid__ #__wrapperid__ .wistia_playbar.wistia_dragging .wistia_scrub_bar {    -webkit-transition: left 0;    transition: left 0; }#__chromeid__ #__wrapperid__ .w-playbar-placeholder {  position: relative;  cursor: arrow;  width: 100%;  display: none; }#__chromeid__ #__wrapperid__ .wistia_playbar_mask {  position: absolute;  left: 0;  right: 0;  bottom: 0;  top: 0;  overflow: hidden;  outline: none; }#__chromeid__ #__wrapperid__ .wistia_playbar_slider {  position: absolute;  width: 200%;  top: 0;  bottom: 0; }#__chromeid__ #__wrapperid__ .wistia_playbar_completed {  position: absolute;  left: 0;  right: 50%;  top: 0;  bottom: 0; }#__chromeid__ #__wrapperid__ .wistia_playbar_unplayed_mask {  overflow: hidden;  position: absolute;  left: 50%;  right: 0;  top: 0;  bottom: 0; }#__chromeid__ #__wrapperid__ .wistia_playbar_unplayed_slider {  position: absolute;  left: 0;  top: 0;  width: 201%;  bottom: 0; }#__chromeid__ #__wrapperid__ .wistia_playbar_buffered {  position: absolute;  left: 0;  right: 50%;  bottom: 0;  top: 0; }#__chromeid__ #__wrapperid__ .wistia_playbar_background {  position: absolute;  right: 0;  left: 50%;  top: 0;  bottom: 0; }#__chromeid__ #__wrapperid__ .wistia_time_positioner {  position: absolute;  left: 0;  bottom: 0;  top: 0;  width: 0; }#__chromeid__ #__wrapperid__ .wistia_time {  bottom: 9px;  cursor: pointer;  color: white;  display: inline-block;  -webkit-font-smoothing: antialiased;  font-size: 15px;  line-height: 1.1em;  letter-spacing: .01em;  position: absolute;  text-shadow: 0 0 6px rgba(0, 0, 0, 0.2);  white-space: nowrap;  width: auto;  z-index: 2; }#__chromeid__ #__wrapperid__ .wistia_placeholder_time_element {  padding-left: 5px;  pointer-events: none; }#__chromeid__ #__wrapperid__ .wistia_playbar_hover_line {  position: absolute;  top: 0;  bottom: 0;  width: 36px;  background: -webkit-linear-gradient(left, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0.12) 100%);  background: linear-gradient(to right, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0.12) 100%);  opacity: 0;  -webkit-transform: translateX(-36px);          transform: translateX(-36px);  -webkit-transition: opacity 200ms ease;  transition: opacity 200ms ease; }#__chromeid__ #__wrapperid__ .w-is-visible .wistia_playbar_hover_line {  -webkit-transition: none;  transition: none; }#__chromeid__ #__wrapperid__ .wistia_playbar_hover_line--is-visible {  opacity: 1; }#__chromeid__ #__wrapperid__ .bp-325 .wistia_playbar,#__chromeid__ #__wrapperid__ .bp-450 .wistia_playbar {  position: absolute;  bottom: 34px;  left: 0;  height: 15px; }  #__chromeid__ #__wrapperid__ .bp-325 .wistia_playbar .wistia_time,  #__chromeid__ #__wrapperid__ .bp-450 .wistia_playbar .wistia_time {    display: none; }#__chromeid__ #__wrapperid__ .bp-325 .wistia_playbar_placeholder.w-is-visible,#__chromeid__ #__wrapperid__ .bp-450 .wistia_playbar_placeholder.w-is-visible {  display: block; }#__chromeid__ #__wrapperid__ {  /* W Menu with grid */ }  #__chromeid__ #__wrapperid__ .is-keyboard-focused [tabindex="0"]:focus,  #__chromeid__ #__wrapperid__ .is-keyboard-focused button:focus {    box-shadow: inset 0 0 0 2px white; }  #__chromeid__ #__wrapperid__ .wistia_vulcan_menuview {    position: relative;    color: white; }  #__chromeid__ #__wrapperid__ .wistia_vulcan_menuview_items {    padding: 7px 0;    margin: 0;    box-sizing: border-box; }  #__chromeid__ #__wrapperid__ .wistia_vulcan_menuview_item {    color: white;    font-size: 14px;    font-family: WistiaPlayerOverpass, sans-serif;    -webkit-font-smoothing: antialiased;    line-height: 26px;    letter-spacing: 0;    word-wrap: normal;    text-decoration: none;    text-transform: none;    cursor: pointer;    padding: 0 30px 0 30px;    margin: 0;    white-space: nowrap;    outline: none;    text-decoration: none;    border-bottom: none;    display: block;    background: none;    border: none; }    #__chromeid__ #__wrapperid__ .wistia_vulcan_menuview_item a {      text-decoration: none;      border-bottom: none;      outline: none; }  #__chromeid__ #__wrapperid__ .wistia_vulcan_menuview_item--is-active {    background: url(__base64_check__) 12px center no-repeat;    background-size: 10px 8px; }  #__chromeid__ #__wrapperid__ .wistia_vulcan_back_element {    text-decoration: underline;    position: relative;    font-size: 10px;    cursor: pointer; }  #__chromeid__ #__wrapperid__ .wistia_vulcan_title_element {    color: white;    font-size: 14px;    font-family: WistiaPlayerOverpass, sans-serif;    -webkit-font-smoothing: antialiased;    line-height: 26px;    letter-spacing: 0;    word-wrap: normal;    text-decoration: none;    text-transform: none;    padding: 4px 10px 5px 29px;    display: block;    background: url(__base64_arrow__) 12px center no-repeat;    background-size: 7px 10px;    background-color: rgba(0, 0, 0, 0.3);    cursor: pointer;    box-sizing: border-box; }  #__chromeid__ #__wrapperid__ .wistia_vulcan_title_element--is-hidden {    display: none; }  #__chromeid__ #__wrapperid__ .wistia_vulcan_back_arrow {    display: inline-block; }  #__chromeid__ #__wrapperid__ .w-menu {    position: absolute;    z-index: 9;    bottom: 34px;    background: rgba(0, 0, 0, 0.55);    height: 0;    overflow: hidden;    width: 120px;    opacity: 0; }    #__chromeid__ #__wrapperid__ .w-menu.w-is-visible {      height: auto; }    #__chromeid__ #__wrapperid__ .w-menu.w-is-transitioned {      opacity: 1; }  #__chromeid__ #__wrapperid__ .w-is-visible .w-menu {    -webkit-transition: opacity 200ms ease;    transition: opacity 200ms ease; }  #__chromeid__ #__wrapperid__ .w-menu--chapters {    height: auto; }  #__chromeid__ #__wrapperid__ .w-menu__list {    margin: 0;    padding: 0;    list-style: none; }  #__chromeid__ #__wrapperid__ .w-menu__list--ordered {    list-style-type: decimal;    list-style-position: inside;    color: white;    padding: 0; }  #__chromeid__ #__wrapperid__ .w-menu__list--collapsable {    overflow: hidden;    -webkit-transition: opacity 200ms ease, max-height 200ms ease;    transition: opacity 200ms ease, max-height 200ms ease;    opacity: 0; }    #__chromeid__ #__wrapperid__ .w-menu__list--collapsable.w-is-transitioned {      opacity: 1; }  #__chromeid__ #__wrapperid__ .w-menu__list-item {    text-align: left;    padding: 0;    margin: 0; }    #__chromeid__ #__wrapperid__ .w-menu__list-item:before {      display: none; }  #__chromeid__ #__wrapperid__ .w-menu__list-item--close {    list-style: none; }  #__chromeid__ #__wrapperid__ .w-menu__list-item--ordered {    list-style-type: decimal;    list-style-position: inside;    display: list-item; }  #__chromeid__ #__wrapperid__ .w-menu__list-link {    display: block;    color: white;    text-decoration: none;    color: white;    font-size: 14px;    font-family: WistiaPlayerOverpass, sans-serif;    -webkit-font-smoothing: antialiased;    line-height: 26px;    letter-spacing: 0;    word-wrap: normal;    text-decoration: none;    text-transform: none;    line-height: 34px;    height: 34px;    cursor: pointer;    -webkit-transition: background-color 50ms ease;    transition: background-color 50ms ease;    border-bottom: none;    background: none;    border: none;    text-align: left;    box-sizing: border-box;    width: 100%;    outline: none;    padding: 0;    margin: 0;    overflow: hidden; }    #__chromeid__ #__wrapperid__ .w-menu__list-link:focus {      outline: none;      border: none; }    #__chromeid__ #__wrapperid__ .w-menu__list-link:hover {      background-color: rgba(0, 0, 0, 0.3); }  #__chromeid__ #__wrapperid__ .w-menu__list-link--padded {    padding: 0 12px; }  #__chromeid__ #__wrapperid__ .w-menu__list-link--inline {    display: inline;    width: auto;    background: none;    padding: 0 0 0 7px; }    #__chromeid__ #__wrapperid__ .w-menu__list-link--inline:hover {      background: none; }  #__chromeid__ #__wrapperid__ .w-menu__list-link--checkable {    padding-left: 40px; }    #__chromeid__ #__wrapperid__ .w-menu__list-link--checkable.is-checked {      background-image: url(__base64_check__);      background-position: 18px center;      background-repeat: no-repeat;      background-size: 10px 8px; }  #__chromeid__ #__wrapperid__ .w-menu__list-item-link {    line-height: 32px;    -webkit-transition: background-color 50ms ease;    transition: background-color 50ms ease;    cursor: pointer; }    #__chromeid__ #__wrapperid__ .w-menu__list-item-link:hover {      background: rgba(0, 0, 0, 0.3); }  #__chromeid__ #__wrapperid__ .w-menu__icon {    width: 40px;    display: inline-block;    text-align: center;    line-height: 34px;    vertical-align: middle;    margin-bottom: 3px; }  #__chromeid__ #__wrapperid__ .w-menu__section-title {    color: white;    font-size: 14px;    font-family: WistiaPlayerOverpass, sans-serif;    -webkit-font-smoothing: antialiased;    line-height: 26px;    letter-spacing: 0;    word-wrap: normal;    text-decoration: none;    text-transform: none;    line-height: 34px;    height: 34px;    display: block;    box-sizing: border-box;    padding: 0 12px;    background: none;    border: none;    width: 100%;    margin: 0;    text-align: left;    outline: none;    cursor: pointer;    -webkit-transition: background-color 50ms ease;    transition: background-color 50ms ease; }    #__chromeid__ #__wrapperid__ .w-menu__section-title:hover {      background-color: rgba(0, 0, 0, 0.3); }  #__chromeid__ #__wrapperid__ .w-menu__section-title_label {    display: inline-block; }  #__chromeid__ #__wrapperid__ .w-menu__section-title_value {    float: right;    opacity: .7; }  #__chromeid__ #__wrapperid__ .w-menu__collapsable-wrapper {    overflow: hidden;    height: 0;    -webkit-transition: height 150ms ease;    transition: height 150ms ease; }#__chromeid__ #__wrapperid__ .w-control-bar {  width: 100%;  position: absolute;  bottom: 0;  left: 0;  display: -webkit-box;  display: -webkit-flex;  display: -ms-flexbox;  display: flex;  z-index: 11;  opacity: 0;  -webkit-transition: opacity 200ms ease;  transition: opacity 200ms ease;  pointer-events: none; }  #__chromeid__ #__wrapperid__ .w-control-bar.w-is-visible {    opacity: 1;    pointer-events: auto; }  #__chromeid__ #__wrapperid__ .w-control-bar .w-menu * {    color: #fff;    font-family: WistiaPlayerOverpass, Sans-Serif; }#__chromeid__ #__wrapperid__ .w-control-bar__region {  -webkit-box-flex: 0;  -webkit-flex-grow: 0;      -ms-flex-positive: 0;          flex-grow: 0;  display: -webkit-box;  display: -webkit-flex;  display: -ms-flexbox;  display: flex;  position: relative; }  #__chromeid__ #__wrapperid__ .w-control-bar__region.is-hidden {    display: none; }#__chromeid__ #__wrapperid__ .w-control-bar__region--center {  -webkit-box-flex: 1;  -webkit-flex-grow: 1;      -ms-flex-positive: 1;          flex-grow: 1;  position: static; }#__chromeid__ #__wrapperid__ .w-control-bar__region--centerMobile {  -webkit-box-flex: 1;  -webkit-flex-grow: 1;      -ms-flex-positive: 1;          flex-grow: 1;  display: none; }#__chromeid__ #__wrapperid__ .w-control-bar__region--thumbscrubber {  position: absolute;  bottom: 34px;  left: 0;  right: 0; }#__chromeid__ #__wrapperid__ .w-icon-rail {  left: 0;  top: 0;  position: absolute;  height: 60px;  width: 100%; }#__chromeid__ #__wrapperid__ .bp-325 .w-icon-rail {  height: 22px; }#__chromeid__ #__wrapperid__ .bp-450 .w-icon-rail {  height: 29px; }#__chromeid__ #__wrapperid__ .bp-640 .w-icon-rail {  height: 36px; }#__chromeid__ #__wrapperid__ .bp-750 .w-icon-rail {  height: 60px; }#__chromeid__ #__wrapperid__ .w-control-bar__region--iconRail {  display: -webkit-box;  display: -webkit-flex;  display: -ms-flexbox;  display: flex;  -webkit-box-align: center;  -webkit-align-items: center;      -ms-flex-align: center;          align-items: center;  height: 100%; }#__chromeid__ #__wrapperid__ .w-component {  position: relative; }#__chromeid__ #__wrapperid__ .w-control, #__chromeid__ #__wrapperid__ .w-control--icon {  z-index: 1;  padding: 0;  border: none;  border-radius: 0;  color: white;  font-size: 14px;  font-family: WistiaPlayerOverpass, sans-serif;  -webkit-font-smoothing: antialiased;  line-height: 26px;  letter-spacing: 0;  word-wrap: normal;  text-decoration: none;  text-transform: none;  outline: none;  margin: 0;  display: none;  height: 34px;  width: 40px;  top: inherit;  cursor: pointer;  tap-highlight-color: transparent;  -webkit-tap-highlight-color: transparent; }  #__chromeid__ #__wrapperid__ .w-control.w-is-visible, #__chromeid__ #__wrapperid__ .w-is-visible.w-control--icon {    display: block; }  #__chromeid__ #__wrapperid__ .w-control:focus, #__chromeid__ #__wrapperid__ .w-control--icon:focus {    outline: none;    border: none;    padding: 0; }#__chromeid__ #__wrapperid__ .w-control--icon {  display: block;  position: relative; }#__chromeid__ #__wrapperid__ .w-control--chapters {  -webkit-box-ordinal-group: 1;  -webkit-order: 0;      -ms-flex-order: 0;          order: 0; }#__chromeid__ #__wrapperid__ .w-control--captions,#__chromeid__ #__wrapperid__ .w-component--captions {  -webkit-box-ordinal-group: 2;  -webkit-order: 1;      -ms-flex-order: 1;          order: 1; }#__chromeid__ #__wrapperid__ .w-control--volume {  -webkit-box-ordinal-group: 3;  -webkit-order: 2;      -ms-flex-order: 2;          order: 2; }#__chromeid__ #__wrapperid__ .w-control--share,#__chromeid__ #__wrapperid__ .w-component--share {  -webkit-box-ordinal-group: 4;  -webkit-order: 3;      -ms-flex-order: 3;          order: 3; }#__chromeid__ #__wrapperid__ .w-control--settings,#__chromeid__ #__wrapperid__ .w-component--settings {  -webkit-box-ordinal-group: 5;  -webkit-order: 4;      -ms-flex-order: 4;          order: 4; }#__chromeid__ #__wrapperid__ .w-control--fullscreen {  -webkit-box-ordinal-group: 6;  -webkit-order: 5;      -ms-flex-order: 5;          order: 5; }#__chromeid__ #__wrapperid__ .w-control--branding {  -webkit-box-ordinal-group: 7;  -webkit-order: 6;      -ms-flex-order: 6;          order: 6;  width: 100px;  background-size: 110px 34px;  background-position: center center;  background-repeat: no-repeat;  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANwAAABECAMAAADdsaudAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAADNQTFRFAAAA////////////////////////////////////////////////////////////////t5XiggAAABB0Uk5TABAgMEBQYHCAj5+vv8/f7yMagooAAAM2SURBVGje7ZjRlqsgDEUDIkUNcv7/a++DCgGx047Oy105T211iZuEk6REKpVKpVKpVCqVSqVSqVSqP5OZ/mO4F/x/yzYm8AbJPMsLlpnHahf2Gzwz5x/dvAJp8YaIaOCOiIhoYm4SZAbcX6MxAGyviXq5ACDKexMQjgtHSi/Ylcb9EScREREDXB+G1P7yay1LOGlmjnJ9WgEZuhUAhvLdA7ANHBeG8B3cC8fjbmtIeCMu65kSUwAVLQML1XAeQJqc8/MGZ4+NA8DH5z7c2jz9jtw7uP00GACvEmwgASnT2py1BY7zDZaDXG6PZLUzFZzfVjbP0PlrtmTLGV8lSwCKk075YoErG0M0fAXHAKf2pt9ruoTzMryu2EmipViKSTmsfTj6Bs4B8HIv72r+iY0olmOwAhONxVJ8SaIgLSjZ38DNwEq2XvyeYtdMhiZ3TbYTKw1UcBe4GUAcvoez2/WlqTW3+qwz3eKIiMbhlHvL9jLhcIyhztgdziYA6fU13P7YtrLeo6syM85bW0FDctRYypExOXPk+RB1bisxbL+DM2lPg3hUl2fw3KGqnOaXOwIUgHREMNZ2UsHRsOYK/jlcbgf8Y4W8L7uIV81Haz1scLcUL2uShCOzuTCbL+DWHLD1sULeQ5sSqtTYKMSObstH+RIVHNEQ0Xah7+HEUQuyTXgUbJziqRiYBITSaRFNQDKu6jIbuO0HfN6hcG1qr8cClQcR4ZypqYarBTAK1/ZzFZkT3NZjmg/hbOPYDxVy/2MV3ywlyhUZiPVNZzgKYjt+gpvfrv9w88y9Uh+aHZFx6cCZhuYNnEnAlE3bxWfGuouxJ5peeG01o9aeVuDCFc0buFA/3T9SyO1nbGQa/9w67qELl9tm32TXG7jW/Z+oBia+G+Xa8UGeH9savZwK4rj/D1NX42s43+wUve4X8j4b9xLCtgbGzZmvRh6AeT1t0zVc7P2ZcnOs6807y0Wuc7OYr4uFgBMz4odF3J3dcbpbyE9suWvuVowmTdJ0AUfD/u9XCh/2lp0B9fZY52r95Kvt93ofrHyCcSEE11mv3qDBuaF7QVxTqVQqlUqlUqlUKpVKpVKprvQPULZVy61arz0AAAAASUVORK5CYII="); }#__chromeid__ #__wrapperid__ .w-component--branding {  -webkit-box-ordinal-group: 7;  -webkit-order: 6;      -ms-flex-order: 6;          order: 6; }#__chromeid__ #__wrapperid__ .w-control--play {  width: 53px; }#__chromeid__ #__wrapperid__ .w-control--spherical {  background: none !important; }#__chromeid__ #__wrapperid__ .w-control--context-menu {  height: auto; }#__chromeid__ #__wrapperid__ .w-control--volume {  z-index: 11; }#__chromeid__ #__wrapperid__ .w-control--playbar-placeholder {  width: 100%; }#__chromeid__ #__wrapperid__ .w-control--playbar {  width: 100%; }#__chromeid__ #__wrapperid__ .bp-325 .w-control-bar__region--centerMobile,#__chromeid__ #__wrapperid__ .bp-450 .w-control-bar__region--centerMobile {  display: -webkit-box;  display: -webkit-flex;  display: -ms-flexbox;  display: flex; }#__chromeid__ #__wrapperid__ .bp-325 .w-control-bar__region--center,#__chromeid__ #__wrapperid__ .bp-450 .w-control-bar__region--center {  display: -webkit-box;  display: -webkit-flex;  display: -ms-flexbox;  display: flex;  width: 0;  -webkit-box-flex: 0;  -webkit-flex-grow: 0;      -ms-flex-positive: 0;          flex-grow: 0; }#__chromeid__ #__wrapperid__ .w-status-bar {  background: rgba(0, 0, 0, 0.5);  position: absolute;  top: 0;  left: 0;  right: 0;  z-index: 10;  display: none;  opacity: 0;  color: white;  font-size: 14px;  font-family: WistiaPlayerOverpass, sans-serif;  -webkit-font-smoothing: antialiased;  line-height: 26px;  letter-spacing: 0;  word-wrap: normal;  text-decoration: none;  text-transform: none;  font-size: 18px;  line-height: 34px;  text-align: center;  -webkit-transition: opacity 200ms ease;  transition: opacity 200ms ease; }  #__chromeid__ #__wrapperid__ .w-status-bar.w-is-visible {    display: block; }  #__chromeid__ #__wrapperid__ .w-status-bar.w-is-transitioned {    opacity: 1; }#__chromeid__ #__wrapperid__ .w-hover-detail {  position: absolute;  bottom: 34px;  background: rgba(0, 0, 0, 0.3);  display: none;  overflow: hidden;  width: 300px;  box-sizing: border-box;  padding: 14px;  right: 0px;  opacity: 0;  -webkit-transition: opacity 100ms ease;  transition: opacity 100ms ease;  color: white;  font-size: 14px;  font-family: WistiaPlayerOverpass, sans-serif;  -webkit-font-smoothing: antialiased;  line-height: 26px;  letter-spacing: 0;  word-wrap: normal;  text-decoration: none;  text-transform: none; }  #__chromeid__ #__wrapperid__ .w-hover-detail.w-is-visible {    display: block; }  #__chromeid__ #__wrapperid__ .w-hover-detail.w-is-transitioned {    opacity: 1; }#__chromeid__ #__wrapperid__ .w-hover-detail__p {  margin: 0;  margin-bottom: 10px;  color: white;  font-size: 14px;  font-family: WistiaPlayerOverpass, sans-serif;  -webkit-font-smoothing: antialiased;  line-height: 26px;  letter-spacing: 0;  word-wrap: normal;  text-decoration: none;  text-transform: none;  line-height: 22px;  text-align: left; }#__chromeid__ #__wrapperid__ .w-hover-detail__button {  color: white;  font-size: 14px;  font-family: WistiaPlayerOverpass, sans-serif;  -webkit-font-smoothing: antialiased;  line-height: 26px;  letter-spacing: 0;  word-wrap: normal;  text-decoration: none;  text-transform: none;  font-size: 12px;  border-radius: 4px;  padding: 3px 6px;  border: 1px solid white; }#__chromeid__ #__wrapperid__ .w-align--right {  text-align: right; }#__chromeid__ #__wrapperid__ .w-control--spherical {  background: none !important;  background-color: none;  height: 100%;  width: 60px;  z-index: 10;  top: 0;  left: 0;  overflow: visible; }  #__chromeid__ #__wrapperid__ .w-control--spherical.is-expanded {    width: 100%; }  #__chromeid__ #__wrapperid__ .w-control--spherical.is-closed {    display: none; }#__chromeid__ #__wrapperid__ .w-control--spherical__trigger {  height: 100%;  top: 0;  left: 0;  background-color: rgba(0, 0, 0, 0.4); }  #__chromeid__ #__wrapperid__ .w-control--spherical__trigger.is-hidden {    opacity: 0;    -webkit-transition: opacity 100ms ease 300ms;    transition: opacity 100ms ease 300ms; }  #__chromeid__ #__wrapperid__ .w-control--spherical__trigger .w-control--spherical__icon {    display: inline-block;    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFgAAABYCAYAAABxlTA0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA6NJREFUeNrsm4txozAQhu1U4BJcgjs40gEdnK4Dl0AHvg5IB6QDfBXYHfg6IB04MLe+YTSrF2jXA/7/GSYOD0l8rFZaPTabheh+v+/649If9QYSg/sQIAvCBWQFuICsABeQFeACcma4w/kOkOXgDtcPgCwEd3QvIEvBBWQFuICsABeQFeACsgJcQOZhNDnhRkKuXgkwB2IWXI20lww5KwDJtJcIuZUAIJk2BEEQBEEQBEEQBEH66mP88hXifBq7LrUzNa8wUmVNDBhtuKsea3XMuhhtuA+1KwTcOt7VaMMdBrYPKwTsm34ygLsUyHPhki+r+uNmPX+bMhHZP1MMs8SP9AL37uleG9JQ/YunQ84EN7QMNXaBScF8pPtEMEmARCDncAuehiJp3QJZISvPh+0i89a35ExwSw4kuYsmwRJbj+VXjmcqptwnh6u6qPrknA0aFehEz5oAuIJ5/uT4SPtAvjdX2mTd9vWDCmTN3gJjZQXjc5OthACM1US8ZzXBcNIgO6xFCu7esqKOucd2I0eCXvj8JgPPOPL3foSZkI+xjUg2uKOFIF1o3RhVY64snLvYpdSM0X2zI9GoBYcacD1V3lWFy4QdRp21vSAW8CVHqB+C/Nbf44J43m63V4WAqWSqccqHHeA2E/L9ylF4YnR2XD4MgN/74+p48Zzrar+oIGcmvzqiP/pBZX2n32MVE2pbLtc3MOLGi69U1mDEJbJ4mRotNh+mmlcRvZCj43wp6IPrUHT6Rmb+5bFkIwG5z/O3dcrXtz1HnNs5zv/g2gPG2qZYrnFZLjH9B1gCMtUKQ92xlrue4B85+K4PcmVcnZ3XT+v/PxJwpwzQ1AmFsKOl5hGBUR61qzfBBAudFY0VTMtdevrQ/7tzjGvqEjfcBN3C1OmSJMjMi4QUCqV9ukV2CWft3cgCNzPkOvIlm4nDjc7+emTe0WCyws0MuQq85Cki+nNarq975gn/7ynbC+bA3cZA7v+0jn7jR+/Qf0WmUVoN09AQfPbP/42Jlpi+5hAInWPGPejZMYjP2CBqVoOmackLnZPL7xYA+QlwIyCbFQI2qnA9kM2KXYR5ygqmEeTVwrUgv+5uUQiCIAiCIAiCIAhaX6xfLDHtpcCtpUbkJNNeGtzsw56SaS8F7klqa5RnJsK8EmAzd+dPItxV7+dTgQy4gpABVxAy4ApCBlxByIArCBlwBSEDrjxkwFWGDLiCkAFXEDLgCkIGXEHIi4L7LcAAUR0jYiGZz/IAAAAASUVORK5CYII=");    background-size: 76% 76%;    background-repeat: no-repeat;    margin: 12% 12%;    height: 100%;    width: 100%; }#__chromeid__ #__wrapperid__ .w-control.w-control--spherical, #__chromeid__ #__wrapperid__ .w-control--spherical.w-control--icon {  background: none; }  #__chromeid__ #__wrapperid__ .w-control.w-control--spherical:hover, #__chromeid__ #__wrapperid__ .w-control--spherical.w-control--icon:hover {    background: none; }#__chromeid__ #__wrapperid__ .w-control--spherical__direction-box-mask {  left: 60px;  right: 0;  height: 100%;  position: absolute;  overflow: hidden;  width: 0%;  -webkit-transition: width 200ms;  transition: width 200ms; }#__chromeid__ #__wrapperid__ .w-control--spherical__direction-box-text {  opacity: 0;  -webkit-transition: opacity 200ms ease 0;  transition: opacity 200ms ease 0;  white-space: nowrap; }#__chromeid__ #__wrapperid__ .w-control--spherical__direction-box {  position: absolute;  top: 0;  left: 0;  display: -webkit-box;  display: -webkit-flex;  display: -ms-flexbox;  display: flex;  -webkit-box-align: center;  -webkit-align-items: center;      -ms-flex-align: center;          align-items: center;  width: 100%;  height: 100%;  padding-left: 10px;  font-size: 16px;  background-color: rgba(0, 0, 0, 0.4);  box-sizing: border-box;  -webkit-transform: translateX(-100%);          transform: translateX(-100%);  -webkit-transition: -webkit-transform 200ms ease 100ms;  transition: -webkit-transform 200ms ease 100ms;  transition: transform 200ms ease 100ms;  transition: transform 200ms ease 100ms, -webkit-transform 200ms ease 100ms; }#__chromeid__ #__wrapperid__ .is-open .w-control--spherical__direction-box {  -webkit-transform: translateX(0);          transform: translateX(0);  -webkit-transition: -webkit-transform 200ms ease 200ms;  transition: -webkit-transform 200ms ease 200ms;  transition: transform 200ms ease 200ms;  transition: transform 200ms ease 200ms, -webkit-transform 200ms ease 200ms; }  #__chromeid__ #__wrapperid__ .is-open .w-control--spherical__direction-box .w-control--spherical__direction-box-text {    -webkit-transition: opacity 200ms ease 300ms;    transition: opacity 200ms ease 300ms;    opacity: 1; }#__chromeid__ #__wrapperid__ .is-open .w-control--spherical__direction-box-mask {  width: 100%;  -webkit-transition: width 300ms;  transition: width 300ms; }#__chromeid__ #__wrapperid__ .is-open .w-control--spherical__icon {  -webkit-animation-name: logo;          animation-name: logo;  -webkit-animation-duration: 500ms;          animation-duration: 500ms; }#__chromeid__ #__wrapperid__ .wistia_directional_arrows {  height: 30px;  vertical-align: middle;  display: inline-block;  margin: 0 5px 4px; }#__chromeid__ #__wrapperid__ .bp-325 .w-control--spherical {  width: 22px; }#__chromeid__ #__wrapperid__ .bp-450 .w-control--spherical {  width: 29px; }#__chromeid__ #__wrapperid__ .bp-640 .w-control--spherical {  width: 36px; }#__chromeid__ #__wrapperid__ .bp-750 .w-control--spherical {  width: 60px; }#__chromeid__ #__wrapperid__ .bp-325 .w-control--spherical__direction-box-mask {  left: 22px; }#__chromeid__ #__wrapperid__ .bp-450 .w-control--spherical__direction-box-mask {  left: 29px; }#__chromeid__ #__wrapperid__ .bp-640 .w-control--spherical__direction-box-mask {  left: 36px; }#__chromeid__ #__wrapperid__ .bp-750 .w-control--spherical__direction-box-mask {  left: 60px; }#__chromeid__ #__wrapperid__ .bp-325 .w-control--spherical__direction-box-text {  font-size: 10px; }#__chromeid__ #__wrapperid__ .bp-450 .w-control--spherical__direction-box-text {  font-size: 12px; }#__chromeid__ #__wrapperid__ .bp-640 .w-control--spherical__direction-box-text {  font-size: 13px; }#__chromeid__ #__wrapperid__ .bp-750 .w-control--spherical__direction-box-text {  font-size: 14px; }#__chromeid__ #__wrapperid__ .bp-325 .wistia_directional_arrows {  display: none; }#__chromeid__ #__wrapperid__ .bp-450 .wistia_directional_arrows {  display: none; }#__chromeid__ #__wrapperid__ .bp-640 .wistia_directional_arrows {  display: visible; }#__chromeid__ #__wrapperid__ .bp-750 .wistia_directional_arrows {  display: visible; }@-webkit-keyframes logo {  0% {    -webkit-transform: scale(1);            transform: scale(1); }  33% {    -webkit-transform: scale(0.9);            transform: scale(0.9); }  50% {    -webkit-transform: scale(1.1);            transform: scale(1.1); }  100% {    -webkit-transform: scale(1);            transform: scale(1); } }@keyframes logo {  0% {    -webkit-transform: scale(1);            transform: scale(1); }  33% {    -webkit-transform: scale(0.9);            transform: scale(0.9); }  50% {    -webkit-transform: scale(1.1);            transform: scale(1.1); }  100% {    -webkit-transform: scale(1);            transform: scale(1); } }#__chromeid__ #__wrapperid__ .w-context-menu {  cursor: pointer;  display: none; }  #__chromeid__ #__wrapperid__ .w-context-menu.w-is-visible {    display: block; }#__chromeid__ #__wrapperid__ .w-context-menu__item {  background: transparent;  padding: 6px 16px;  -webkit-transition: none;  transition: none;  color: #555;  font-family: WistiaPlayerOverpass, sans-serif;  -webkit-font-smoothing: antialiased;  font-weight: normal;  font-size: 14px;  display: none; }  #__chromeid__ #__wrapperid__ .w-context-menu__item:hover {    background: #54bbff;    color: #fff; }  #__chromeid__ #__wrapperid__ .w-context-menu__item.w-is-visible {    display: block; }  #__chromeid__ #__wrapperid__ .w-context-menu__item.is-disabled {    background: transparent;    color: #bbb; }#__chromeid__ #__wrapperid__ .w-context-menu__item--title {  background: transparent;  color: #bbb;  font-size: 11px;  line-height: 1em;  padding-bottom: 3px; }#__chromeid__ #__wrapperid__ .embed-code-copier {  position: absolute;  bottom: -1000px;  right: 0;  background: rgba(0, 0, 0, 0.3);  width: 300px; }  #__chromeid__ #__wrapperid__ .embed-code-copier.w-is-visible {    bottom: 34px;    height: auto; }#__chromeid__ #__wrapperid__ .embed-code-copier__textarea {  background: none;  border: none;  width: 100%;  border: none;  padding: 11px 14px;  box-sizing: border-box;  color: white;  font-size: 14px;  font-family: WistiaPlayerOverpass, sans-serif;  -webkit-font-smoothing: antialiased;  line-height: 26px;  letter-spacing: 0;  word-wrap: normal;  text-decoration: none;  text-transform: none;  font-size: 13px;  line-height: 22px;  word-break: break-all; }  #__chromeid__ #__wrapperid__ .embed-code-copier__textarea:focus {    outline: none; }  #__chromeid__ #__wrapperid__ .embed-code-copier__textarea::-moz-selection {    background: #bbb; }  #__chromeid__ #__wrapperid__ .embed-code-copier__textarea::selection {    background: #bbb; }#__chromeid__ #__wrapperid__ .w-password-protected {  height: 100%;  position: relative;  width: 100%; }#__chromeid__ #__wrapperid__ .w-password-protected-overlay {  background-color: transparent;  height: 100%;  left: 0;  position: absolute;  top: 0;  width: 100%;  z-index: 1;  color: white;  font-family: WistiaPlayerOverpass, Helvetica, Arial; }  #__chromeid__ #__wrapperid__ .w-password-protected-overlay.is-visible {    background-color: rgba(0, 0, 0, 0.6); }#__chromeid__ #__wrapperid__ .w-lock--icon {  background: rgba(0, 0, 0, 0.4);  box-sizing: border-box;  display: inline-block;  height: 100%;  vertical-align: top; }  #__chromeid__ #__wrapperid__ .w-lock--icon path {    fill: white; }  #__chromeid__ #__wrapperid__ .w-lock--icon svg {    height: 100%;    width: 100%; }#__chromeid__ #__wrapperid__ .bp-325 .w-lock--icon {  width: 22px; }#__chromeid__ #__wrapperid__ .bp-450 .w-lock--icon {  width: 29px; }#__chromeid__ #__wrapperid__ .bp-640 .w-lock--icon {  width: 36px; }#__chromeid__ #__wrapperid__ .bp-750 .w-lock--icon {  width: 60px; }#__chromeid__ #__wrapperid__ .bp-325 .w-lock--icon {  padding-left: 2.75px; }#__chromeid__ #__wrapperid__ .bp-450 .w-lock--icon {  padding-left: 3.625px; }#__chromeid__ #__wrapperid__ .bp-640 .w-lock--icon {  padding-left: 4.5px; }#__chromeid__ #__wrapperid__ .bp-750 .w-lock--icon {  padding-left: 7.5px; }#__chromeid__ #__wrapperid__ .bp-325 .w-lock--icon {  padding-right: 2.75px; }#__chromeid__ #__wrapperid__ .bp-450 .w-lock--icon {  padding-right: 3.625px; }#__chromeid__ #__wrapperid__ .bp-640 .w-lock--icon {  padding-right: 4.5px; }#__chromeid__ #__wrapperid__ .bp-750 .w-lock--icon {  padding-right: 7.5px; }#__chromeid__ #__wrapperid__ .bp-325 .w-lock--icon {  padding-top: 4px; }#__chromeid__ #__wrapperid__ .bp-450 .w-lock--icon {  padding-top: 4.5px; }#__chromeid__ #__wrapperid__ .bp-640 .w-lock--icon {  padding-top: 6px; }#__chromeid__ #__wrapperid__ .bp-750 .w-lock--icon {  padding-top: 10px; }#__chromeid__ #__wrapperid__ .bp-325 .w-lock--icon {  padding-bottom: 4px; }#__chromeid__ #__wrapperid__ .bp-450 .w-lock--icon {  padding-bottom: 4.5px; }#__chromeid__ #__wrapperid__ .bp-640 .w-lock--icon {  padding-bottom: 6px; }#__chromeid__ #__wrapperid__ .bp-750 .w-lock--icon {  padding-bottom: 10px; }#__chromeid__ #__wrapperid__ .w-password-protected-form {  height: 100%;  position: absolute;  text-align: center;  top: 0;  width: 100%; }#__chromeid__ #__wrapperid__ .w-challenge-container {  position: relative;  top: 50%;  -webkit-transform: translateY(-50%);          transform: translateY(-50%); }  #__chromeid__ #__wrapperid__ .w-challenge-container.bp-325 {    margin: 0px 20px; }  #__chromeid__ #__wrapperid__ .w-challenge-container.bp-450 {    margin: 0px 40px; }  #__chromeid__ #__wrapperid__ .w-challenge-container.bp-640 {    margin: 0px 40px; }#__chromeid__ #__wrapperid__ .w-challenge-text {  font-weight: 300;  margin-top: 0px;  overflow: hidden; }  #__chromeid__ #__wrapperid__ .w-challenge-text.bp-325 {    font-size: 14px;    line-height: 22px;    margin-bottom: 16px; }  #__chromeid__ #__wrapperid__ .w-challenge-text.bp-450 {    font-size: 20px;    line-height: 28px;    margin-bottom: 24px; }  #__chromeid__ #__wrapperid__ .w-challenge-text.bp-640 {    font-size: 28px;    line-height: 36px;    margin-bottom: 24px; }#__chromeid__ #__wrapperid__ .w-password-container {  display: inline-block;  position: relative;  white-space: nowrap; }#__chromeid__ #__wrapperid__ .w-password-input {  border: 0;  border-radius: 0;  box-sizing: border-box;  background-color: white;  color: #505050;  display: inline-block;  line-height: 30px;  outline: none;  padding: 0 22px 0 8px;  vertical-align: top;  width: 70%; }  #__chromeid__ #__wrapperid__ .w-password-input.bp-325 {    font-size: 12px;    height: 30px; }  #__chromeid__ #__wrapperid__ .w-password-input.bp-450 {    font-size: 14px;    height: 30px; }  #__chromeid__ #__wrapperid__ .w-password-input.bp-640 {    font-size: 16px;    height: 40px; }  #__chromeid__ #__wrapperid__ .w-password-input.w-password-input--error {    border: 2px solid #DE686C; }#__chromeid__ #__wrapperid__ .w-error-x {  position: absolute;  right: 65px;  color: red;  font-size: 15px;  top: 7px; }  #__chromeid__ #__wrapperid__ .w-error-x.bp-640 {    top: 13px;    right: 80px; }#__chromeid__ #__wrapperid__ .wistia_password_error_icon polygon {  fill: #DE686C; }#__chromeid__ #__wrapperid__ .w-password-submit {  border: 0;  border-radius: 0;  cursor: pointer;  display: inline-block;  letter-spacing: 2px;  font-weight: 600;  line-height: 30px;  color: #fff;  outline: none;  zoom: 1;  text-transform: uppercase;  vertical-align: top; }  #__chromeid__ #__wrapperid__ .w-password-submit.bp-325 {    font-size: 12px;    height: 30px;    width: 46px; }  #__chromeid__ #__wrapperid__ .w-password-submit.bp-450 {    font-size: 14px;    height: 30px;    width: 46px; }  #__chromeid__ #__wrapperid__ .w-password-submit.bp-640 {    font-size: 16px;    height: 40px;    width: 62px; }#__chromeid__ #__wrapperid__ .w-error-text {  color: #DE686C;  line-height: 1em;  margin-top: 8px;  text-align: left; }  #__chromeid__ #__wrapperid__ .w-error-text.bp-325 {    font-size: 10px; }  #__chromeid__ #__wrapperid__ .w-error-text.bp-450 {    font-size: 12px; }  #__chromeid__ #__wrapperid__ .w-error-text.bp-640 {    font-size: 14px; }#__chromeid__ #__wrapperid__ .w-menu--chapters {  top: 0;  bottom: 0;  padding-top: 8px;  width: auto;  display: none;  right: 0;  box-sizing: border-box;  position: static; }  #__chromeid__ #__wrapperid__ .w-menu--chapters.w-is-visible {    display: block;    height: 100%; }#__chromeid__ #__wrapperid__ .w-menu__list--chapters {  min-width: 120px;  max-width: 240px;  display: inline-block; }#__chromeid__ #__wrapperid__ .w-chapters__chapter {  padding: 0 15px 0 0;  list-style-type: none;  display: -webkit-box;  display: -webkit-flex;  display: -ms-flexbox;  display: flex;  -webkit-box-orient: horizontal;  -webkit-box-direction: normal;  -webkit-flex-direction: row;      -ms-flex-direction: row;          flex-direction: row; }#__chromeid__ #__wrapperid__ .w-chapters__chapter-number {  padding-top: 1px;  min-width: 24px;  text-align: right; }#__chromeid__ #__wrapperid__ .w-chapters__chapter-item {  height: auto;  line-height: 22px;  padding-top: 6px;  padding-bottom: 6px;  word-wrap: break-word; }#__chromeid__ #__wrapperid__ .w-chapters__scrollcontainer {  overflow-y: auto;  height: 100%;  width: 100%; }#__chromeid__ #__wrapperid__ .w-chapters__menu-header {  color: white;  font-size: 14px;  font-family: WistiaPlayerOverpass, sans-serif;  -webkit-font-smoothing: antialiased;  line-height: 26px;  letter-spacing: 0;  word-wrap: normal;  text-decoration: none;  text-transform: none;  font-size: 30px;  font-weight: bold;  line-height: 40px;  padding: 12px;  color: white;  background: rgba(0, 0, 0, 0.4);  margin-bottom: 8px; }#__chromeid__ #__wrapperid__ .w-playbar-indicators {  position: absolute;  left: 0;  right: 0;  bottom: 0;  top: 0; }#__chromeid__ #__wrapperid__ .w-playbar-indicators__indicator {  position: absolute;  z-index: 10;  line-height: 34px;  font-size: 20px;  background: rgba(255, 255, 255, 0);  text-align: center;  width: 16px;  margin-left: -8px;  height: 100%; }  #__chromeid__ #__wrapperid__ .w-playbar-indicators__indicator.is-hovering .w-playbar-indicators__indicator-dot {    -webkit-transform: scale(1.2);            transform: scale(1.2);    opacity: 1; }  #__chromeid__ #__wrapperid__ .w-playbar-indicators__indicator.is-hidden .w-playbar-indicators__indicator-dot {    opacity: .2; }  #__chromeid__ #__wrapperid__ .w-playbar-indicators__indicator.is-passed .w-playbar-indicators__indicator-dot {    opacity: .6; }#__chromeid__ #__wrapperid__ .w-control-bar.w-is-visible .w-playbar-indicators__indicator {  -webkit-transition: 150ms ease background;  transition: 150ms ease background; }  #__chromeid__ #__wrapperid__ .w-control-bar.w-is-visible .w-playbar-indicators__indicator.is-dragging .w-playbar-indicators__indicator-dot {    -webkit-transition: none;    transition: none; }#__chromeid__ #__wrapperid__ .w-control-bar.w-is-not-transitioning .w-playbar-indicators__indicator-dot {  -webkit-transition: 150ms ease opacity, 100ms ease transform;  transition: 150ms ease opacity, 100ms ease transform; }#__chromeid__ #__wrapperid__ .w-playbar-indicators__indicator-dot {  opacity: .9;  pointer-events: none; }#__chromeid__ #__wrapperid__ .w-chapter-title {  position: absolute;  bottom: 0px;  left: 0;  background: rgba(0, 0, 0, 0.5);  padding: 0 14px;  color: white;  font-size: 14px;  font-family: WistiaPlayerOverpass, sans-serif;  -webkit-font-smoothing: antialiased;  line-height: 26px;  letter-spacing: 0;  word-wrap: normal;  text-decoration: none;  text-transform: none;  line-height: 22px;  opacity: 0;  white-space: nowrap;  max-width: 240px;  overflow: hidden;  text-overflow: ellipsis; }  #__chromeid__ #__wrapperid__ .w-chapter-title.w-is-visible {    opacity: 1; }#__chromeid__ #__wrapperid__ .w-control-bar.w-is-not-transitioning .w-chapter-title {  -webkit-transition: 100ms ease opacity;  transition: 100ms ease opacity; }#__chromeid__ #__wrapperid__ .bp-325 .w-playbar-indicators__indicator,#__chromeid__ #__wrapperid__ .bp-450 .w-playbar-indicators__indicator {  line-height: 14px;  font-size: 15px; }#__chromeid__ #__wrapperid__ .bp-325 .w-chapter-title,#__chromeid__ #__wrapperid__ .bp-450 .w-chapter-title {  bottom: 15px; }#__chromeid__ #__wrapperid__ .w-menu-bar {  position: absolute;  right: 0;  top: 0;  bottom: 34px;  opacity: 0;  -webkit-transition: opacity 200ms ease;  transition: opacity 200ms ease;  z-index: 1; }  #__chromeid__ #__wrapperid__ .w-menu-bar.w-is-visible {    opacity: 1;    pointer-events: auto; }#__chromeid__ #__wrapperid__ .w-report-a-problem {  color: white;  font-size: 14px;  font-family: WistiaPlayerOverpass, sans-serif;  -webkit-font-smoothing: antialiased;  line-height: 26px;  letter-spacing: 0;  word-wrap: normal;  text-decoration: none;  text-transform: none;  background: rgba(0, 0, 0, 0.7);  box-sizing: border-box;  color: #fff;  display: none;  -webkit-box-orient: vertical;  -webkit-box-direction: normal;  -webkit-flex-direction: column;      -ms-flex-direction: column;          flex-direction: column;  height: 100%;  -webkit-box-pack: center;  -webkit-justify-content: center;      -ms-flex-pack: center;          justify-content: center;  line-height: 22px;  min-width: 320px;  opacity: 0;  overflow-x: hidden;  overflow-y: auto;  padding: 0 20px;  position: absolute;  top: 0;  -webkit-transition: opacity 200ms ease-in-out;  transition: opacity 200ms ease-in-out;  width: 100%;  z-index: 12; }  #__chromeid__ #__wrapperid__ .w-report-a-problem.w-is-visible {    opacity: 1;    display: -webkit-box;    display: -webkit-flex;    display: -ms-flexbox;    display: flex; }  #__chromeid__ #__wrapperid__ .w-report-a-problem.w-is-transparent {    opacity: 0;    display: -webkit-box;    display: -webkit-flex;    display: -ms-flexbox;    display: flex; }  #__chromeid__ #__wrapperid__ .w-report-a-problem.w-is-hidden {    opacity: 0;    display: none; }  #__chromeid__ #__wrapperid__ .w-report-a-problem * {    box-sizing: border-box; }#__chromeid__ #__wrapperid__ .w-report-a-problem__centered-content {  margin: 0 auto;  padding: 8px;  position: relative;  width: 350px; }#__chromeid__ #__wrapperid__ .w-report-a-problem__form-content--disabled {  color: #777; }  #__chromeid__ #__wrapperid__ .w-report-a-problem__form-content--disabled .w-report-a-problem__category, #__chromeid__ #__wrapperid__ .w-report-a-problem__form-content--disabled .w-report-a-problem__description {    background: #999;    color: #777; }#__chromeid__ #__wrapperid__ .w-report-a-problem__category {  outline: 2px solid transparent;  width: 200px; }#__chromeid__ #__wrapperid__ .w-report-a-problem__category--error {  outline: 2px solid #e37091; }#__chromeid__ #__wrapperid__ .w-report-a-problem__description {  height: 60px;  border: 0;  outline: 2px solid transparent;  padding: 6px;  outline: none;  width: 100%; }#__chromeid__ #__wrapperid__ .w-report-a-problem__description--error {  outline: 2px solid #e37091; }#__chromeid__ #__wrapperid__ .w-report-a-problem__button-row {  margin-top: 16px;  position: relative;  text-align: right; }#__chromeid__ #__wrapperid__ .w-report-a-problem__form-feedback {  color: #e2e46f;  left: 0;  line-height: 1.3em;  overflow: hidden;  position: absolute;  text-align: left;  text-overflow: ellipsis;  top: 8px;  width: 206px; }#__chromeid__ #__wrapperid__ .w-report-a-problem__form-feedback--error {  color: #e37091; }#__chromeid__ #__wrapperid__ .w-report-a-problem__send, #__chromeid__ #__wrapperid__ .w-report-a-problem__dismiss {  -moz-border-radius: 5px;  -webkit-border-radius: 5px;  -webkit-font-smoothing: subpixel-antialiased;  background-color: #f7f6f4;  border-radius: 5px;  border: 1px solid #bbb;  color: #888;  cursor: pointer;  display: inline-block;  font-family: WistiaPlayerOverpass, Helvetica, Arial, Sans-Serif;  font-size: 14px;  font-weight: 400;  line-height: normal;  margin: 5px;  overflow: hidden;  padding: 8px 15px;  text-align: center;  text-decoration: none;  vertical-align: middle;  background-color: #54bbff;  border-color: #54bbff;  color: white;  margin: 0; }  #__chromeid__ #__wrapperid__ .w-report-a-problem__send:hover, #__chromeid__ #__wrapperid__ .w-report-a-problem__dismiss:hover {    background-color: #f1efee;    border-color: #aaa;    color: #777; }  #__chromeid__ #__wrapperid__ .w-report-a-problem__send:focus, #__chromeid__ #__wrapperid__ .w-report-a-problem__dismiss:focus {    border: double;    padding: 6px 13px;    outline: 0; }  #__chromeid__ #__wrapperid__ .w-report-a-problem__send:active, #__chromeid__ #__wrapperid__ .w-report-a-problem__dismiss:active {    background-color: #e7e6e4;    border: 1px solid #999;    color: #666;    padding: 8px 15px; }  #__chromeid__ #__wrapperid__ .w-report-a-problem__send:hover, #__chromeid__ #__wrapperid__ .w-report-a-problem__send.hover, #__chromeid__ #__wrapperid__ .w-report-a-problem__dismiss:hover, #__chromeid__ #__wrapperid__ .w-report-a-problem__dismiss.hover {    background-color: #4caff4;    border-color: #4caff4;    color: white; }  #__chromeid__ #__wrapperid__ .w-report-a-problem__send:active, #__chromeid__ #__wrapperid__ .w-report-a-problem__send.active, #__chromeid__ #__wrapperid__ .w-report-a-problem__dismiss:active, #__chromeid__ #__wrapperid__ .w-report-a-problem__dismiss.active {    background-color: #41a4e8;    border-color: #41a4e8;    color: white; }  #__chromeid__ #__wrapperid__ .w-report-a-problem__send:focus, #__chromeid__ #__wrapperid__ .w-report-a-problem__dismiss:focus {    border-color: white; }#__chromeid__ #__wrapperid__ .w-report-a-problem__cancel {  display: inline-block;  margin: 0 12px; }  #__chromeid__ #__wrapperid__ .w-report-a-problem__cancel:hover {    text-decoration: underline; }#__chromeid__ #__wrapperid__ .w-customer-logo {  display: inline-block;  height: 100%;  opacity: .75;  -webkit-transition: opacity 75ms;  transition: opacity 75ms;  vertical-align: top;  z-index: 9; }  #__chromeid__ #__wrapperid__ .w-customer-logo--clickable:hover {    cursor: pointer;    opacity: 1; }#__chromeid__ #__wrapperid__ .w-customer-logo__image {  box-sizing: border-box;  height: 100%;  padding: 8px;  width: auto; }#__chromeid__ #__wrapperid__ .bp-325 .w-customer-logo__image {  padding: 2px; }#__chromeid__ #__wrapperid__ .bp-450 .w-customer-logo__image {  padding: 4px; }#__chromeid__ #__wrapperid__ .bp-640 .w-customer-logo__image {  padding: 6px; }#__chromeid__ #__wrapperid__ .bp-750 .w-customer-logo__image {  padding: 8px; }#__chromeid__ #__wrapperid__ .w-multistream__wrapper-primary, #__chromeid__ #__wrapperid__ .w-multistream__wrapper-secondary {  -webkit-transition: all 400ms cubic-bezier(0.19, 1, 0.22, 1);  transition: all 400ms cubic-bezier(0.19, 1, 0.22, 1);  position: absolute;  overflow: hidden;  top: 0;  height: 100%; }#__chromeid__ #__wrapperid__ .w-multistream__wrapper-primary {  left: 0%;  width: 100%;  height: 100%; }#__chromeid__ #__wrapperid__ .w-multistream__wrapper-secondary {  left: -33%;  width: 33%; }  #__chromeid__ #__wrapperid__ .w-multistream__wrapper-secondary video {    -o-object-fit: cover;       object-fit: cover; }#__chromeid__ #__wrapperid__ .w-multistream--primary .w-multistream__wrapper-primary {  left: 0; }#__chromeid__ #__wrapperid__ .w-multistream--primary .w-multistream__wrapper-secondary {  left: -33%; }#__chromeid__ #__wrapperid__ .w-multistream--secondary .w-multistream__wrapper-primary {  left: 100%; }#__chromeid__ #__wrapperid__ .w-multistream--secondary .w-multistream__wrapper-secondary {  left: 0;  width: 100%; }#__chromeid__ #__wrapperid__ .w-multistream--split .w-multistream__wrapper-primary {  left: 33%; }#__chromeid__ #__wrapperid__ .w-multistream--split .w-multistream__wrapper-secondary {  left: 0%; }#__chromeid__ {  z-index: 0; }  #__chromeid__:-webkit-full-screen {    background: #000; }  #__chromeid__:-moz-full-screen {    background: #000; }  #__chromeid__:-ms-fullscreen {    background: #000; }  #__chromeid__:fullscreen {    background: #000; }#__chromeid__ * {  max-width: none; }#__chromeid__ #__wrapperid__ {  tap-highlight-color: transparent;  -webkit-tap-highlight-color: transparent; }  #__chromeid__ #__wrapperid__ .w-tooltip {    color: white;    font-size: 14px;    font-family: WistiaPlayerOverpass, sans-serif;    -webkit-font-smoothing: antialiased;    line-height: 26px;    letter-spacing: 0;    word-wrap: normal;    text-decoration: none;    text-transform: none;    -webkit-transition: opacity 200ms, -webkit-transform 150ms;    transition: opacity 200ms, -webkit-transform 150ms;    transition: opacity 200ms, transform 150ms;    transition: opacity 200ms, transform 150ms, -webkit-transform 150ms;    background: rgba(0, 0, 0, 0.5);    -webkit-transform: translateZ(0);            transform: translateZ(0);    opacity: 0; }    #__chromeid__ #__wrapperid__ .w-tooltip.w-is-visible {      opacity: 1;      -webkit-transform: translateZ(0) translateY(0);              transform: translateZ(0) translateY(0); }#__chromeid__ #__wrapperid__ #__uuid__ {  -o-object-fit: contain;     object-fit: contain; }'
},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){"use strict";function i(e){return e.reportAProblem}function n(e){return i(e).isOpen}function r(e){return i(e).isHidden}function o(e){return i(e).formFeedbackType}function s(e){return i(e).formFeedbackText}function a(e){return i(e).submitFormDataPhase}function u(e){return i(e).description}function l(e){return i(e).category}Object.defineProperty(t,"__esModule",{value:!0}),t.getIsOpen=n,t.getIsHidden=r,t.getFormFeedbackType=o,t.getFormFeedbackText=s,t.getSubmitFormDataPhase=a,t.getDescription=u,t.getCategory=l},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetForm=t.submitFormData=t.setCategory=t.setDescription=t.animateOpen=t.setIsHidden=t.setIsOpen=t.setFormFeedback=t.submitFailed=t.submitSucceeded=t.setIsPosting=void 0;var n=i(584),r=function(e){return e&&e.__esModule?e:{default:e}}(n),o=t.setIsPosting=function(){return{type:r.default.REPORT_A_PROBLEM__SUBMIT_FORM_DATA_PHASE,payload:"posting"}},s=t.submitSucceeded=function(){return{type:r.default.REPORT_A_PROBLEM__SUBMIT_FORM_DATA_PHASE,payload:"succeeded"}},a=t.submitFailed=function(){return{type:r.default.REPORT_A_PROBLEM__SUBMIT_FORM_DATA_PHASE,payload:"failed"}},u=t.setFormFeedback=function(e,t){return{type:r.default.REPORT_A_PROBLEM__SET_FORM_FEEDBACK,payload:{formFeedbackType:e,formFeedbackText:t}}},l=t.setIsOpen=function(e){return{type:r.default.REPORT_A_PROBLEM__SET_IS_OPEN,payload:e}},c=t.setIsHidden=function(e){return{type:r.default.REPORT_A_PROBLEM__SET_IS_HIDDEN,payload:e}};t.animateOpen=function(){return function(e){e(c(!1)),requestAnimationFrame(function(){e(l(!0))})}},t.setDescription=function(e){return{type:r.default.REPORT_A_PROBLEM__SET_DESCRIPTION,payload:e}},t.setCategory=function(e){return{type:r.default.REPORT_A_PROBLEM__SET_CATEGORY,payload:e}},t.submitFormData=function(e){return function(t){t(o(e)),Wistia.remote.ajax("https://app.wistia.com/problem_reports?page_url="+encodeURIComponent(e.page_url),{type:"post",contentType:"application/json",dataType:"json",data:Wistia.JSON.stringify(e),timeout:1e4,withCredentials:!0,error:function(e,i){var n=e&&e.response||{};t("timeout"==i?u("error","Timed out sending. Please try again later."):n.error?u("error",n.error):u("error","There was an error sending. Please try again later.")),t(a())},success:function(e,i,n){t(u("info","We got the report. Thank you!")),t(s())}})}},t.resetForm=function(){return{type:r.default.REPORT_A_PROBLEM__SUBMIT_FORM_DATA_PHASE,payload:"not-submitting"}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";var n=i(10),r=function(e){return e&&e.__esModule?e:{default:e}}(n),o=r.default,s=o.lib("utilities/wlog"),a=s.wlog,u=o.lib("utilities/detect"),l=u.cachedDetect,c=o.lib("player/lib/elem"),d=c.safeRequestAnimationFrame,h=(c.elemBind,o.lib("utilities/cacheable")),p=h.makeCacheable,f=h.makeNamespace,m=h.uncacheNamespace,g=o.lib("utilities/core"),_=(g.throttle,p("synchronizer"),f("synchronizer")),y=l(),v=a.getPrefixedFunctions("synchronizer"),b=function(e,t){t.pause(),y.ios.version>0?k(e,t):E(e,t)},A=function(e){return e.uuid+".synchronizer.sync_via_events"},w=y.safari?1:.3,E=function(e,t){var i=function(){var i=e.getDuration()>t.getDuration(),n=i&&e.getCurrentTime()>t.getDuration(),r="playing"===e.getPlaybackMode()&&"playing"!==t.getPlaybackMode(),o=Math.abs(e.getCurrentTime()-t.getCurrentTime());if(n){v.info("outOfBounds - pause"),t.pause();var s=Math.abs(t.getDuration()-t.getCurrentTime());return void(e.getCurrentTime()>t.getDuration()&&s>.5&&(v.info("seek to end of follower",t.getDuration()-.05),t.seek(t.getDuration()-.05)))}e.getPlaybackRate()!==t.getPlaybackRate()&&(v.info("setPlaybackRate",e.getPlaybackRate()),t.setPlaybackRate(e.getPlaybackRate())),o>w&&(v.info("timeDelta",o,"; seeking to",e.getCurrentTime()+.05),t.seek(e.getCurrentTime()+.05)),r?(v.info("playing modes different: ",e.getPlaybackMode(),"vs.",t.getPlaybackMode(),"; play"),t.play()):"playing"!==e.getPlaybackMode()&&"playing"===t.getPlaybackMode()&&(v.info("leader mode is",e.getPlaybackMode(),"; pausing"),t.pause())};i(),A(e),e.bindNamed(_,"onTimeupdate","timeupdate",i),e.bindNamed(_,"onPlaying","playing",i),e.bindNamed(_,"onWaiting","custom-waiting",i),e.bindNamed(_,"onDoneWaiting","custom-done-waiting",i),e.bindNamed(_,"onPause","pause",i),e.bindNamed(_,"onRatechange","ratechange",i)},k=function(e,t){var i=function i(){_(e).syncingViaAnimationFrame&&("beforeplay"===t.getPlaybackMode()?t.seek(e.getCurrentTime()):t.setCurrentTime(e.getCurrentTime()),d(i))};_(e).syncingViaAnimationFrame=!0,d(i)},C=function(e){var t=A(e);e.unbindAllInNamespace(t),m("synchronizer",e)};e.exports={synchronize:b,unsynchronize:C}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=i(105),a=n(s),u=i(33),l=n(u),c=i(10),d=n(c),h=i(1460),p=n(h),f=i(1461),m=n(f),g=i(1459),_=n(g),y=i(1457),v=i(14),b=n(v),A=i(9),w=n(A),E=i(221),k=n(E),C=i(31),T=n(C),x=i(223),S=(d.default,{easing:"cubic-bezier(0.19, 1, 0.22, 1)",time:400}),O=function(){function e(t,i){var n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];r(this,e),this.uuid=(0,l.default)("wistia_two_stroke_video_"),this.root=t,this.container=this.createContainerElem(),b.default.elemAppend(this.root,this.container),this.mediaData=i,this.allAssets=i.assets,this.attributes=n,this.primaryVideoAspect=T.default.videoAspect(this.allAssets),m.default.init(this),p.default.init(this),_.default.setup(this),this.sync(),this.fit()}return o(e,[{key:"createContainerElem",value:function(){return b.default.elemFromObject({id:this.uuid+"_root",class:"w-two-stroke-root",style:{display:"block",overflow:"hidden",position:"absolute",top:0,left:0,width:"100%",height:"100%"}})}},{key:"showPrimary",value:function(e,t){(0,v.elemAnimate)(this.primaryRoot,{left:0,width:"100%"},t),(0,v.elemAnimate)(this.secondaryRoot,{top:0,left:"-33%",width:"33%",height:"100%"},t),this.scaleAndTranslate(e,t)}},{key:"showSecondary",value:function(e,t){(0,v.elemAnimate)(this.primaryRoot,{left:"100%",width:"100%"},t),(0,v.elemAnimate)(this.secondaryRoot,{top:0,left:0,width:"100%",height:"100%"},t)}},{key:"showBoth",value:function(e,t){(0,v.elemAnimate)(this.primaryRoot,{left:"33%",width:"67%"},t),(0,v.elemAnimate)(this.secondaryRoot,this.secondaryVideoStylesForSplitLayout(),t),this.scaleAndTranslate(e,t)}},{key:"setLayout",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=!(arguments.length<=2||void 0===arguments[2])&&arguments[2];if(e&&e.type||(e={type:e}),i||!w.default.equalsDeep(e,this.attributes.layout)){this.setAttributes({layout:w.default.clone(e)});var n=w.default.merge({},S,t);this.isLayout(e,"primary")?this.showPrimary(e,n):this.isLayout(e,"secondary")?this.showSecondary(e,n):(this.isLayout(e,"split"),this.showBoth(e,n))}}},{key:"onWidthChange",value:function(e){this.setAttributes({width:e}),this.fit()}},{key:"onHeightChange",value:function(e){this.setAttributes({height:e}),this.fit()}},{key:"primaryHeightPercent",value:function(){return this.attributes.width/this.attributes.height/this.primaryVideoAspect}},{key:"fit",value:function(){var e=this.primaryHeightPercent(),t=(1-e)/2;(0,v.elemStyle)(this.container,{top:100*t+"%",height:100*e+"%"}),this.primaryVideo.fit(),this.secondaryVideo.fit(),this.setLayout(this.attributes.layout,!1,!0)}},{key:"setAttributes",value:function(e){w.default.assign(this.attributes,e),this.primaryVideo.setAttributes(e),this.secondaryVideo.setAttributes(e)}},{key:"setTrim",value:function(e){this.primaryVideo.setTrim(e),this.secondaryVideo.setTrim(e)}},{key:"isSourceOfBrowserEvent",value:function(e){return this.primaryVideo.isSourceOfBrowserEvent(e)||this.secondaryVideo.isSourceOfBrowserEvent(e)}},{key:"secondaryVideoStylesForSplitLayout",value:function(){var e=this.attributes.layout&&this.attributes.layout.scale||1,t=Math.min(.67*e,1);return{top:(1-t)/2*100+"%",left:0,width:100*(1-.67)+"%",height:100*t+"%"}}},{key:"showFirstFrame",value:function(){var e=this;this.desync(),a.default.all([this.primaryVideo.showFirstFrame(),this.secondaryVideo.showFirstFrame()]).then(function(){return e.sync()})}},{key:"diagnosticData",value:function(){return{primaryVideo:this.primaryVideo.diagnosticData(),secondaryVideo:this.secondaryVideo.diagnosticData(),attributes:this.attributes,state:this.state}}},{key:"desync",value:function(){(0,y.unsynchronize)(this.secondaryVideo,this.primaryVideo)}},{key:"sync",value:function(){(0,y.synchronize)(this.secondaryVideo,this.primaryVideo)}},{key:"isLayout",value:function(e,t){return e===t||!(!e||!e.type||e.type!==t)}},{key:"scaleAndTranslate",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=100*(e.scale||1),n=100*(e.x||0)-(i-100)/2,r=100*(e.y||0)-(i-100)/2;(0,v.elemAnimate)(this.primaryVideo.videoElem(),{position:"relative",left:n+"%",top:r+"%",width:i+"%",height:i+"%"},t)}}]),e}(),P=["selectableAssets","selectedAsset","currentAsset","defaultAsset","changeStream","changeStreamWithoutLoad"];(0,x.delegateMethods)(P,O.prototype,function(){return this.primaryVideo}),k.default.delegatePublicMethods(O.prototype,function(){return this.secondaryVideo}),e.exports=O},function(e,t,i){"use strict";var n=i(9),r=function(e){return e&&e.__esModule?e:{default:e}}(n),o=function(e){if(null!=e.attributes.layoutTiming)for(var t=r.default.sort(e.attributes.layoutTiming,"time"),i=0;i<t.length;i++){var n=t[i],o=t[i+1];s(e,n,o)}},s=function(e,t,i){e.bind("timeupdate",function(){var n=e.getCurrentTime();n>=t.time+-.15&&(!i||n<i.time+-.15)&&(t.time<=.5?e.setLayout(t.layout,{time:0}):e.setLayout(t.layout))})};e.exports={setup:o}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=i(10),o=n(r),s=i(14),a=n(s),u=i(9),l=n(u),c=i(183),d=n(c),h=i(310),p=n(h),f=i(15),m=(o.default,(0,f.cachedDetect)()),g=function(e){var t=y(e),i=b(e),n=A(e);e.primaryRoot=_(e),a.default.elemAppend(e.container,e.primaryRoot),e.primaryVideo=new t(e.primaryRoot,i,n),w(e.primaryVideo)&&e.primaryVideo.setVolume(0)},_=function(e){return a.default.elemFromObject({id:e.uuid+"_primary",class:"w-two-stroke-primary",style:{display:"block",height:"100%",left:0,overflow:"hidden",position:"absolute",top:0,width:"100%"}})},y=function(e){if(m.browser.msie||m.trident||m.edge)return p.default;var t=d.default.buildContext(),i=b(e),n=A(e);return d.default.bestUsableEngineClass(t,i,n)},v=function(e){return l.default.clone(e.allAssets)},b=function(e){var t=l.default.except(e.mediaData,["secondaryMediaData"]);return t.assets=v(e),t},A=function(e){return l.default.assign(e.attributes,{playsinline:!0,fitStrategy:"contain",duration:b(e).duration,muted:w(e)})},w=function(e){var t=e.attributes;return null!=t.mutePrimary?t.mutePrimary:m.ios.version>0};e.exports={init:g,createRootElem:_,engineClass:y,primaryAssets:v,primaryAttributes:A}},function(e,t,i){"use strict";var n=i(10),r=function(e){return e&&e.__esModule?e:{default:e}}(n),o=r.default,s=o.lib("player/lib/elem"),a=o.lib("utilities/obj"),u=o.lib("player/lib/judy"),l=o.lib("player/engines/manual_quality_video"),c=o.lib("utilities/detect"),d=c.cachedDetect,h=d(),p=function(e){var t=m(e),i=_(e),n=y(e);e.secondaryRoot=f(e),s.elemAppend(e.container,e.secondaryRoot),e.secondaryVideo=new t(e.secondaryRoot,i,n)},f=function(e){return s.elemFromObject({id:e.uuid+"_secondary",class:"w-two-stroke-secondary",style:{display:"block",height:"100%",left:"-33%",overflow:"hidden",position:"absolute",top:0,width:"33%"}})},m=function(e){if(h.browser.msie||h.trident||h.edge)return l;var t=u.buildContext(),i=_(e),n=y(e);return u.bestUsableEngineClass(t,i,n)},g=function(e){return a.clone(e.attributes.secondaryMediaData.assets)},_=function(e){var t=a.clone(e.attributes.secondaryMediaData);return t.assets=g(e),t},y=function(e){return a.assign(a.except(e.attributes,["secondaryMediaData"]),{playsinline:!0,fitStrategy:"cover",duration:_(e).duration,muted:v(e)})},v=function(e){var t=e.attributes;return null!=t.muteSecondary&&t.muteSecondary};e.exports={init:p,createRootElem:f,engineClass:m,secondaryAssets:g,secondaryAttributes:y}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(841),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={mount:r.default}},,function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.mount=void 0;var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),u=i(12),l=i(20),c=i(7),d=i(224),h=n(d),p=i(839),f=n(p),m=i(63),g=n(m),_=i(469),y=n(_),v=i(40),b=function(e){var t=g.default.accessors.getEmbedOption("hasBigPlayButtonTime",e),i=(0,v.niceDuration)(g.default.accessors.getVideoLength(e));return!!t&&i},A=function(e){var t=y.default.accessors.getIsMenuOpen(e),i=y.default.accessors.getIsVisible(e);return t&&i},w=function(e){return{isVisible:g.default.accessors.getHasBigPlayButton(e),hasBeenClicked:g.default.accessors.getHasBeenClicked(e),color:g.default.accessors.getPlayerColor(e),menuWidth:y.default.accessors.getMenuWidth(e),isMenuEnabledAndOpen:A(e),bottomText:b(e),uuid:g.default.accessors.getUUID(e)}},E=function(e){return(0,c.bindActionCreators)({startPlay:g.default.actions.startPlay,setHasBeenClicked:g.default.actions.setHasBeenClicked},e)},k=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return s(t,e),a(t,[{key:"onClick",value:function(){this.props.startPlay(this.props.uuid),this.props.setHasBeenClicked(!0)}},{key:"rightOffset",value:function(){var e=this.props,t=e.isMenuEnabledAndOpen,i=e.menuWidth;return t?i+"px":"0px"}},{key:"render",value:function(){var e=this.props,t=e.isVisible,i=e.color,n=e.bottomText,r=e.hasBeenClicked;return(0,u.h)(f.default,{isVisible:t&&!r,color:i,right:this.rightOffset(),shouldTransition:!0,bottomText:n,onClick:this.onClick.bind(this)})}}]),t}(u.Component),C=(0,l.connect)(w,E)(k),T=(0,h.default)(C);t.mount=function(e,t){var i=(0,u.render)((0,u.h)(T,{instanceId:t}),e);return function(){(0,u.render)("<nothing />",e,i)}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(1464);t.default={mount:n.mount}},function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t,i){var n=(0,c.render)((0,c.h)(M,{instanceId:t,playerDataFn:i}),e);return function(){(0,c.render)("<nothing />",e,n)}}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();t.default=u;var c=i(12),d=i(20),h=i(7),p=i(224),f=r(p),m=i(63),g=(r(m),i(1243)),_=n(g),y=i(1244),v=n(y),b=i(47),A=r(b),w=i(49),E=r(w),k=i(566),C=r(k),T=function(e){return{isOpen:_.getIsOpen(e),isHidden:_.getIsHidden(e),formFeedbackType:_.getFormFeedbackType(e),formFeedbackText:_.getFormFeedbackText(e),submitFormDataPhase:_.getSubmitFormDataPhase(e),description:_.getDescription(e),category:_.getCategory(e)}},x=function(e){var t=(0,C.default)(v,["setIsOpen","setIsHidden","submitFormData","resetForm","setFormFeedback","setCategory","setDescription"]);return(0,h.bindActionCreators)(t,e)},S="Please select a category",O="Please add details",P=function(e){function t(e){o(this,t);var i=s(this,Object.getPrototypeOf(t).call(this,e));return i.onClickRoot=function(e){e.stopPropagation()},i.onClickCancel=function(e){e.preventDefault(),i.props.setIsOpen(!1)},i.onClickSend=function(e){e.preventDefault(),""===i.categoryElem.value?i.props.setFormFeedback("error",S):"other"==i.categoryElem.value&&""==i.descriptionElem.value?i.props.setFormFeedback("error",O):i.props.submitFormData(i.getFormData())},i.onClickDismiss=function(e){e.preventDefault(),i.props.setIsOpen(!1),setTimeout(function(){i.props.resetForm(),i.props.setFormFeedback("blank",""),i.props.setCategory(""),i.props.setDescription("")},250)},i.onCategoryChange=function(e){var t=i.categoryElem.value;i.props.setCategory(t),""!=t&&i.props.formFeedbackText==S&&i.props.setFormFeedback("blank","")},i.onDescriptionChange=function(e){var t=i.descriptionElem.value;i.props.setDescription(t),""!=t&&i.props.formFeedbackText==O&&i.props.setFormFeedback("blank","")},i}return a(t,e),l(t,[{key:"topLevelClasses",value:function(){return A.default.classListToString(["w-report-a-problem",this.props.isOpen?"w-is-visible":"w-is-transparent",this.props.isHidden?"w-is-hidden":""])}},{key:"moveContainerOffVideoAfterAnim",value:function(){var e=this;this.cancelMovingContainer(),this.props.isHidden||(this.hideTimeout=setTimeout(function(){e.props.setIsHidden(!0)},250))}},{key:"cancelMovingContainer",value:function(){clearTimeout(this.hideTimeout)}},{key:"getFormData",value:function(){var e={category:this.categoryElem.value,description:this.descriptionElem.value};return(0,E.default)({},e,this.props.playerDataFn(e))}},{key:"formFeedbackClasses",value:function(){return A.default.classListToString(["w-report-a-problem__form-feedback","w-report-a-problem__form-feedback--"+this.props.formFeedbackType])}},{key:"categoryClasses",value:function(){var e=this.props.formFeedbackText==S;return A.default.classListToString(["w-report-a-problem__category",e?"w-report-a-problem__category--error":""])}},{key:"descriptionClasses",value:function(){var e=this.props.formFeedbackText==O;return A.default.classListToString(["w-report-a-problem__description",e?"w-report-a-problem__description--error":""])}},{key:"formContentClasses",value:function(){var e="succeeded"==this.props.submitFormDataPhase;return A.default.classListToString(["w-report-a-problem__form-content",e?"w-report-a-problem__form-content--disabled":""])}},{key:"componentDidUpdate",value:function(e){this.props.isOpen?this.cancelMovingContainer():!this.props.isOpen&&e.isOpen&&this.moveContainerOffVideoAfterAnim()}},{key:"render",value:function(e){var t=this,i=e.submitFormDataPhase;return(0,c.h)("div",{class:this.topLevelClasses(),onClick:this.onClickRoot,ref:function(e){return t.rootContainer=e}},(0,c.h)("div",{class:"w-report-a-problem__centered-content"},(0,c.h)("div",{class:this.formContentClasses()},(0,c.h)("p",null,"Thanks for reporting a problem. We'll attach technical data about this session to help us figure out the issue. Which of these best describes the problem?"),(0,c.h)("select",{class:this.categoryClasses(),title:"Problem Category","aria-label":"Problem Category",value:this.props.category,onChange:this.onCategoryChange,disabled:"succeeded"==i,ref:function(e){return t.categoryElem=e}},(0,c.h)("option",{value:""},"Choose one"),(0,c.h)("option",{value:"stuttering"},"Video plays but frequently stutters"),(0,c.h)("option",{value:"low_quality"},"Video has poor quality"),(0,c.h)("option",{value:"fails_to_play"},"Video fails to play"),(0,c.h)("option",{value:"other"},"Other")),(0,c.h)("p",null,"Any other details or context?"),(0,c.h)("textarea",{class:this.descriptionClasses(),title:"Problem Description","aria-label":"Problem Description",value:this.props.description,disabled:"succeeded"==i,onChange:this.onDescriptionChange,ref:function(e){return t.descriptionElem=e}})),"succeeded"==i?this.buttonsAfterSend():this.buttonsBeforeSend()))}},{key:"buttonsBeforeSend",value:function(){return(0,c.h)("div",{class:"w-report-a-problem__button-row"},(0,c.h)("div",{class:this.formFeedbackClasses()},this.props.formFeedbackText),(0,c.h)("a",{href:"#",class:"w-report-a-problem__cancel",onClick:this.onClickCancel},"Cancel"),(0,c.h)("button",{class:"w-report-a-problem__send",onClick:this.onClickSend},"posting"==this.props.submitFormDataPhase?"Sending...":"Send"))}},{key:"buttonsAfterSend",value:function(){return(0,c.h)("div",{class:"w-report-a-problem__button-row"},(0,c.h)("div",{class:this.formFeedbackClasses()},this.props.formFeedbackText),(0,c.h)("button",{class:"w-report-a-problem__dismiss",onClick:this.onClickDismiss},"Dismiss"))}}]),t}(c.Component),I=(0,d.connect)(T,x)(P),M=(0,f.default)(I)},function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1466),o=function(e){return e&&e.__esModule?e:{default:e}}(r),s=i(1244),a=n(s),u=i(1243),l=n(u);t.default={accessors:l,actions:a,mount:o.default}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.logImpressions=function(e,t,i){e.chapters.getIsVisible()&&t.logAction("chapterImpression",{uniqueToVisitor:!0,type:"impression",category:"chapter"}),i.plugin&&i.plugin.share&&t.logAction("shareImpression",{uniqueToVisitor:!0,type:"impression",category:"share"})}},,,,,,,,,,,,,,function(e,t,i){var n,r,o,s,a=function(e,t){return function(){return e.apply(t,arguments)}};i(336),i(47).default.bindActionsToStore,i(47).default.bindAccessorsToStore,i(486).default,s=i(734),n=s.KEY_CODE_ENTER,o=s.KEY_CODE_TAB,r=s.KEY_CODE_SPACE,function(e){e.Vulcan.AccessibilityHelper=function(){function t(e){var t;this.player=e,this._onFocus=a(this._onFocus,this),this._onFocus=a(this._onFocus,this),this._onMousedown=a(this._onMousedown,this),this._onKeypress=a(this._onKeypress,this),this._onFocusChange=a(this._onFocusChange,this),this._focusInPlayer=a(this._focusInPlayer,this),t="Wistia Video Player - "+this.player._mediaData.name,this.player.chrome.setAttribute("tabindex",0),this.player.chrome.setAttribute("aria-label",t),this._setupBindings()}return t.prototype.ACCESSIBILITY_CLASS_NAME="is-keyboard-focused",t.prototype.destroy=function(){return this._removeBindings(),this.player=null},t.prototype._setupBindings=function(){return e.elem.bind(this.player.chrome,"keydown",this._onKeypress,!0),e.elem.bind(this.player.chrome,"mousedown",this._onMousedown),e.elem.bind(this.player.chrome,"focus",this._onFocus),e.elem.bind(document,"focus",this._onFocusChange,!0)},t.prototype._removeBindings=function(){var t;return(null!=(t=this.player)?t.chrome:void 0)&&(e.elem.unbind(this.player.chrome,"keydown",this._onKeypress,!0),e.elem.unbind(this.player.chrome,"mousedown",this._onMousedown),e.elem.unbind(this.player.chrome,"focus",this._onFocus)),e.elem.unbind(document,"focus",this._onFocusChange,!0)},t.prototype._focusInPlayer=function(){return e.elem.isDescendantOf(document.activeElement,this.player.chrome)||document.activeElement===this.player.chrome},t.prototype._onFocusChange=function(){var e,t,i,n;return this._focusInPlayer()?(this._listenForKeybindings(),(n=null!=(t=document.activeElement)&&null!=(i=t.dataset)?i.tabto:void 0)?(e=this.player.chrome.querySelector(n),null!=e?e.focus():void 0):void 0):this._stopListeningForKeybindings()},t.prototype._onKeypress=function(e){var t;return t=e.keyCode,-1!==[n,r,o].indexOf(t)?this._activate():void 0},t.prototype._onMousedown=function(){return this._deactivate()},t.prototype._onFocus=function(){return e.detect.touchScreen?void 0:this.player.forceShowControls()},t.prototype._activate=function(){return e.elem.addClass(this.player.playerElem(),this.ACCESSIBILITY_CLASS_NAME),this.player._keyBindingsActive=!0},t.prototype._deactivate=function(){return e.elem.removeClass(this.player.playerElem(),this.ACCESSIBILITY_CLASS_NAME)},t.prototype._onFocus=function(){return this.player.forceShowControls()},t.prototype._listenForKeybindings=function(){return this.player._keyBindingsActive=!0},t.prototype._stopListeningForKeybindings=function(){return this.player._keyBindingsActive=!1},t}()}(Wistia)},function(e,t){var i=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function i(){this.constructor=e}for(var n in t)r.call(t,n)&&(e[n]=t[n]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},r={}.hasOwnProperty;!function(e){e.Vulcan.AirplayButton||(e.Vulcan.AirplayButton=function(t){function r(e,t){this.video=e,this._toggleOnClick=i(this._toggleOnClick,this),this.availabilityChanged=i(this.availabilityChanged,this),this.name="airplayButton",t.tagName="button",r.__super__.constructor.call(this,this.video,t),this.setInitialStyles(),this.setupBindings()}return n(r,t),r.prototype.setInitialStyles=function(){return e.elem.style(this.elem,{position:"relative"}),this.elem.style.mozUserSelect="none",this.elem.style.msUserSelect="none",this.elem.style.webkitUserSelect="none",this.elem.style.webkitTouchCallout="none",this.elem.setAttribute("alt","Airplay"),this.elem.setAttribute("tabindex","0"),this.elem.setAttribute("aria-label","Airplay"),this.elem.setAttribute("title","Airplay"),e.elem.addClass(this.elem,"w-control--fullscreen"),this.iconElem.innerHTML=this.iconSVG()},r.prototype.initialize=function(){return this},r.prototype.destroyBindings=function(){return r.__super__.destroyBindings.apply(this,arguments),e.elem.unbind(this.elem,"click",this._toggleOnClick),window.WebKitPlaybackTargetAvailabilityEvent?this.video.engine.unbind("webkitplaybacktargetavailabilitychanged",this.availabilityChanged):void 0},r.prototype.setupBindings=function(){return r.__super__.setupBindings.apply(this,arguments),e.elem.bind(this.elem,"click",this._toggleOnClick),window.WebKitPlaybackTargetAvailabilityEvent?this.video.engine.bind("webkitplaybacktargetavailabilitychanged",this.availabilityChanged):void 0},r.prototype.availabilityChanged=function(e){return this.video._opts.chromeless?void 0:"available"===e.availability?this.turnOn():this.turnOff()},r.prototype.destroy=function(){return this.destroyBindings(),r.__super__.destroy.apply(this,arguments)},r.prototype._toggleOnClick=function(e){return 1===e.which?(e.stopPropagation(),this.video.engine.videoElem().webkitShowPlaybackTargetPicker()):void 0},r.prototype.iconSVG=function(){return'<svg width="40px" height="34px" viewBox="0 0 40 34" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="wistia_vulcan_svg_icon wistia_vulcan_svg_icon_airplay">\n  <g stroke="none" fill="none">\n    <polyline stroke="#000000" stroke-width="2" points="14.52 23 9 23 9 10 32 10 32 23 26.48 23"></polyline>\n    <polygon fill="#000000" points="20.5 20 25.5 26 15.5 26"></polygon>\n  </g>\n</svg>'},r}(e.Vulcan.Control))}(Wistia)},function(e,t,i){var n,r=function(e,t){return function(){return e.apply(t,arguments)}};n=i(1489),function(e){var t;t=new n,e.Vulcan.BubbleRegion=function(){function i(e,i){this.compensateForOrigin=r(this.compensateForOrigin,this),this.showChild=r(this.showChild,this),this.toggle=r(this.toggle,this),this.name=e,this.options=this.getDefaultOptions(i),this.children=[],this.visibleChild=t,this.buildElement(),this.styleElement()}return i.prototype.getDefaultOptions=function(t){var i;return i={origin:"bottomleft",align:{right:0,bottom:0}},e.obj.merge(i,t)},i.prototype.addChild=function(e){return this.children.push(e),e.setParent(this),e.hide()},i.prototype.removeChild=function(e){return e.removeFromParent(),this.children=this.removeChildFromArray(e)},i.prototype.removeChildFromArray=function(e){return this.children.filter(function(t){return t.uuid!==e.uuid})},i.prototype.toggle=function(e,t){return e===this.visibleChild.uuid?this.hideChild(!1):this.showChild(e,t)},i.prototype.showChild=function(i,n){var r;return this.animating&&(clearTimeout(this.animating),this.hideChild(!1)),n&&this.updatePosition(n),this.visibleChild===t&&e.elem.addClass(this.elem,"w-is-visible"),r=this.children.filter(function(e){return e.uuid===i}),r.length?r===t?(this.hideChild(),r[0].show(),this.visibleChild=r[0],this.updateDimensions()):(this.hideChild(!1),r[0].show(),this.visibleChild=r[0],this.updateDimensions()):console.log("floating region couldn't find "+i)},i.prototype.hideChild=function(t){var i;return null==t&&(t=!0),this.isHidden=!0,i=200,t?(e.elem.removeClass(this.elem,"w-is-visible"),this.animating=setTimeout(function(e){return function(){return e._hideChild()}}(this),i)):this._hideChild()},i.prototype._hideChild=function(){return this.visibleChild.hide(),this.visibleChild=t,this.updateDimensions(),this.animating=!1},i.prototype.updatePosition=function(t){return null==t&&(t={}),this.options.align=e.obj.merge(this.options.align,t),this.positionElement()},i.prototype.updateDimensions=function(){return this.styleElement(),this.updatePosition()},i.prototype.buildElement=function(){var e;return this.elem=document.createElement("div"),e=["w-tooltip","w-tooltip--"+this.name],this.elem.className=e.join(" ")},i.prototype.styleElement=function(){return this.elem.style.position="absolute",this.elem.style.overflow="hidden",this.elem.style.zIndex=13,this.elem.style.width=this.width()+"px",this.elem.style.height=this.height()+"px"},i.prototype.attachToElem=function(t){return this.parentElem=t,e.elem.append(t,this.elem),this.positionElement()},i.prototype.positionElement=function(){var e,t,i,n;t=this.getProperties(),i=[];for(e in t)n=t[e],i.push(this.elem.style[e]=n+"px");return i},i.prototype.getProperties=function(){var e,t,i,n;i={},t=this.options.align;for(e in t)n=t[e],i[e]=this.compensateForOrigin(e,n);return this.ensureRequiredProps(i)},i.prototype.ensureRequiredProps=function(t){var i;return i={top:"auto",bottom:"auto",left:"auto",right:"auto"},e.obj.merge(i,t)},i.prototype.compensateForOrigin=function(t,i){var n;switch(n=0,this.options.origin){case"bottomleft":if("right"===t)return Math.max(0,i-this.width());if("top "===t)return Math.max(0,i-this.height());break;case"bottomright":if("top"===t)return Math.max(0,i-this.height());if("left"===t)return Math.max(0,i-this.width());break;case"bottomcenter":if("top"===t)return Math.max(0,i-this.height());if("left"===t)return Math.min(Math.max(n,i-this.width()/2),e.elem.width(this.parentElem)-this.width()-n);break;case"topleft":if("right"===t)return Math.max(0,i-this.width());if("bottom"===t)return Math.max(0,i-this.height());break;case"topright":if("bottom"===t)return Math.max(0,i-this.height());if("left"===t)return Math.max(0,i-this.width());break;case"topcenter":
if("bottom"===t)return Math.max(0,i-this.height());if("left"===t)return Math.max(0,i-this.width()/2)}return i},i.prototype.width=function(){return this.visibleChild.width()},i.prototype.height=function(){return this.visibleChild.height()},i}()}(Wistia)},function(e,t,i){var n,r=function(e,t){return function(){return e.apply(t,arguments)}},o=function(e,t){function i(){this.constructor=e}for(var n in t)s.call(t,n)&&(e[n]=t[n]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},s={}.hasOwnProperty;n=i(15),function(e){e.Vulcan.ChromecastButton||(e.Vulcan.ChromecastButton=function(t){function i(e,t){this.video=e,this.onInitSuccess=r(this.onInitSuccess,this),this.castSuccess=r(this.castSuccess,this),this.onRequestSessionSuccess=r(this.onRequestSessionSuccess,this),this._toggleOnClick=r(this._toggleOnClick,this),this.receiverListener=r(this.receiverListener,this),this.sessionListener=r(this.sessionListener,this),this.initChromecast=r(this.initChromecast,this),i.__super__.constructor.call(this,this.video,t),this.name="chromecastButton",t.tagName="button",this.currentAsset=this.video.engine.currentAsset().url}return o(i,t),i.prototype.setInitialStyles=function(){return e.elem.style(this.elem,{position:"relative"}),this.elem.style.mozUserSelect="none",this.elem.style.msUserSelect="none",this.elem.style.webkitUserSelect="none",this.elem.style.webkitTouchCallout="none",this.elem.setAttribute("alt","Chromecast"),this.elem.setAttribute("tabindex","0"),this.elem.setAttribute("aria-label","Chromecast"),this.elem.setAttribute("title","Chromecast"),e.elem.addClass(this.elem,"w-control--fullscreen"),this.iconElem.innerHTML=this.unconnectedCastSVG()},i.prototype.initialize=function(){return this.setInitialStyles(),this.video._opts.chromeCast?(this.setupBindings(),this.checkForChrome()):this.turnOff(),this},i.prototype.checkForChrome=function(){return n.detect.chrome()?e.remote.script("https://www.gstatic.com/cv/js/sender/v1/cast_sender.js",this.initChromecast):void 0},i.prototype.initChromecast=function(e,t){return chrome.cast&&chrome.cast.isAvailable?void 0:window.__onGCastApiAvailable=function(e){return function(t,i){var n,r;return t?(r=new chrome.cast.SessionRequest(chrome.cast.media.DEFAULT_MEDIA_RECEIVER_APP_ID),n=new chrome.cast.ApiConfig(r,e.sessionListener,e.receiverListener),chrome.cast.initialize(n,e.onInitSuccess,e.onError)):console.log(i)}}(this)},i.prototype.sessionListener=function(e){return this.castSession=e},i.prototype.receiverListener=function(e){return e===chrome.cast.ReceiverAvailability.AVAILABLE?this.turnOn():this.turnOff()},i.prototype.destroyBindings=function(){return i.__super__.destroyBindings.apply(this,arguments),e.elem.unbind(this.elem,"click",this._toggleOnClick)},i.prototype.setupBindings=function(){return i.__super__.setupBindings.apply(this,arguments),e.elem.bind(this.elem,"click",this._toggleOnClick)},i.prototype.destroy=function(){return this.destroyBindings(),i.__super__.destroy.apply(this,arguments)},i.prototype._toggleOnClick=function(e){return 1===e.which?(e.stopPropagation(),this.castSession&&this.castSession.status===chrome.cast.SessionStatus.CONNECTED?(this.castSession.stop(),this.iconElem.innerHTML=this.unconnectedCastSVG()):(this.iconElem.innerHTML=this.connectingCastSVG(),this.connectingSVGAnimation(),chrome.cast.requestSession(this.onRequestSessionSuccess,this.onLaunchError))):void 0},i.prototype.onRequestSessionSuccess=function(e){var t,i,n;return this.sessionListener(e),t=this.currentAsset.replace(/.bin/,"/file.mp4"),i=new chrome.cast.media.MediaInfo(t),n=new chrome.cast.media.LoadRequest(i),e.loadMedia(n,this.castSuccess.bind(this,"loadMedia"),this.castError)},i.prototype.castSuccess=function(e,t){var i;return clearInterval(this.connectingInterval),this.iconElem.innerHTML=this.connectedCastSVG(),i=t,i.addUpdateListener(this.onMediaStatusUpdate)},i.prototype.onMediaStatusUpdate=function(e){return console.log(e)},i.prototype.castError=function(e){return console.log(e)},i.prototype.onInitSuccess=function(e){return this.sessionListener(e)},i.prototype.onError=function(){return console.log("init error")},i.prototype.onLaunchError=function(){return console.log("launch error"),this.iconElem.innerHTML=this.unconnectedCastSVG()},i.prototype.connectingStateOne=function(){var e,t;return e=document.querySelector(".wistia_vulcan_svg_icon_chromecast #cast-connecting-2"),t=document.querySelector(".wistia_vulcan_svg_icon_chromecast #cast-connecting-3"),e.style.opacity="0.3",t.style.opacity="0.3"},i.prototype.connectingStateTwo=function(){var e;return e=document.querySelector(".wistia_vulcan_svg_icon_chromecast #cast-connecting-2"),e.style.opacity="1"},i.prototype.connectingStateThree=function(){var e;return e=document.querySelector(".wistia_vulcan_svg_icon_chromecast #cast-connecting-3"),e.style.opacity="1"},i.prototype.connectingSVGAnimation=function(){var e;return e=1,this.connectingInterval=setInterval(function(t){return function(){return 1===e?(t.connectingStateOne(),e++):2===e?(t.connectingStateTwo(),e++):(t.connectingStateThree(),e=1)}}(this),500)},i.prototype.unconnectedCastSVG=function(){return'<svg class="wistia_vulcan_svg_icon_chromecast" width="40px" height="34px" viewBox="0 0 40 34" version="1.1" >\n    <defs></defs>\n    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g>\n            <g transform="translate(8.000000, 5.000000)">\n                <path d="M1,18 L1,21 L4,21 C4,19.34 2.66,18 1,18 L1,18 Z M1,14 L1,16 C3.76,16 6,18.24 6,21 L8,21 C8,17.13 4.87,14 1,14 L1,14 Z M1,10 L1,12 C5.97,12 10,16.03 10,21 L12,21 C12,14.92 7.07,10 1,10 L1,10 Z M21,3 L3,3 C1.9,3 1,3.9 1,5 L1,8 L3,8 L3,5 L21,5 L21,19 L14,19 L14,21 L21,21 C22.1,21 23,20.1 23,19 L23,5 C23,3.9 22.1,3 21,3 L21,3 Z" fill="#FFFFFF"></path>\n                <rect x="0" y="0" width="24" height="24"></rect>\n            </g>\n        </g>\n    </g>\n</svg'},i.prototype.connectedCastSVG=function(){return'<svg class="wistia_vulcan_svg_icon_chromecast" width="40px" height="34px" viewBox="0 0 40 34" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <defs></defs>\n    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g>\n            <g transform="translate(8.000000, 5.000000)">\n                <path d="M1,18 L1,21 L4,21 C4,19.34 2.66,18 1,18 L1,18 Z M1,14 L1,16 C3.76,16 6,18.24 6,21 L8,21 C8,17.13 4.87,14 1,14 L1,14 Z M19,7 L5,7 L5,8.63 C8.96,9.91 12.09,13.04 13.37,17 L19,17 L19,7 L19,7 Z M1,10 L1,12 C5.97,12 10,16.03 10,21 L12,21 C12,14.92 7.07,10 1,10 L1,10 Z M21,3 L3,3 C1.9,3 1,3.9 1,5 L1,8 L3,8 L3,5 L21,5 L21,19 L14,19 L14,21 L21,21 C22.1,21 23,20.1 23,19 L23,5 C23,3.9 22.1,3 21,3 L21,3 Z" fill="#FFFFFF"></path>\n                <rect x="0" y="0" width="24" height="24"></rect>\n            </g>\n        </g>\n    </g>\n</svg>'},i.prototype.connectingCastSVG=function(){return'<svg class="wistia_vulcan_svg_icon_chromecast" width="40px" height="34px" viewBox="0 0 40 34" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <defs></defs>\n    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g>\n            <g transform="translate(8.000000, 5.000000)">\n                <path d="M1,18 L1,21 L4,21 C4,19.34 2.66,18 1,18 L1,18 Z" fill="#FFFFFF"></path>\n                <path d="M1,14 L1,16 C3.76,16 6,18.24 6,21 L8,21 C8,17.13 4.87,14 1,14 L1,14 Z" fill="#FFFFFF" opacity="0.3"></path>\n                <path d="M1,10 L1,12 C5.97,12 10,16.03 10,21 L12,21 C12,14.92 7.07,10 1,10 L1,10 Z" fill="#FFFFFF" opacity="0.3"></path>\n                <path d="M21,3 L3,3 C1.9,3 1,3.9 1,5 L1,8 L3,8 L3,5 L21,5 L21,19 L14,19 L14,21 L21,21 C22.1,21 23,20.1 23,19 L23,5 C23,3.9 22.1,3 21,3 L21,3 Z" fill="#FFFFFF"></path>\n                <rect x="0" y="0" width="24" height="24"></rect>\n            </g>\n        </g>\n    </g>\n</svg>'},i}(e.Vulcan.Control))}(Wistia)},function(e,t,i){var n=function(e,t){function i(){this.constructor=e}for(var n in t)r.call(t,n)&&(e[n]=t[n]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},r={}.hasOwnProperty,o=[].slice;!function(e){var t;if(!e.Vulcan.ContextMenu)t=i(25).appHost,e.Vulcan.ContextMenu=function(i){function r(t){this.video=t,this.name="context_menu",this.showed=new Wistia.StopGo,r.__super__.constructor.call(this,this.video),e.elem.style(this.elem,{backgroundColor:"#fff",boxShadow:"0px 3px 10px rgba(0,0,0,.2)",height:"",left:"0px",lineHeight:"1.5em",position:"absolute",textShadow:"none",top:"0px",width:this.width()+"px",zIndex:1e5}),e.elem.addClass(this.elem,"w-control--context-menu w-context-menu"),e.elem.remove(this.iconElem),this.items=[],this.setupItems(),this.video.trigger("initializedContextMenu")}return n(r,i),r.prototype.initialize=function(){return this.turnOn(),this.setupBindings(),this},r.prototype.turnOn=function(){return r.__super__.turnOn.apply(this,arguments),this.hide()},r.prototype.cleanup=function(){var t,i,n,o;if(this.destroyBindings(),this.items)for(o=this.items,i=0,n=o.length;n>i;i++)t=o[i],this[t.id]=null,delete this[t.id],e.elem.unbindAll(t),e.elem.remove(t);return this.items=null,r.__super__.cleanup.apply(this,arguments)},r.prototype.destroyBindings=function(){return r.__super__.destroyBindings.apply(this,arguments),this._showContextMenuOnRightClick&&e.elem.unbind(this.video.vulcanElem,"contextmenu",this._showContextMenuOnRightClick),this._hideContextMenuOnClickOutside&&e.elem.unbind(document,"mouseup",this._hideContextMenuOnClickOutside),this.video.unbind("enter-fullscreen",this.hide),this.video.unbind("cancel-fullscreen",this.hide)},r.prototype.setupBindings=function(){return null==this._showContextMenuOnRightClick&&(this._showContextMenuOnRightClick=function(t){return function(i){return e.detect.mac&&i.altKey||!e.detect.mac&&i.ctrlKey||(i.preventDefault(),t.showed(!0),t.show(),t.repositionFromEvent(i),t._suppressHide=!0,e.timeout(t.video.uuid+".contextmenu.suppress_hide",function(){return t._suppressHide=!1},200)),!0}}(this)),e.elem.rebind(this.video.vulcanElem,"contextmenu",this._showContextMenuOnRightClick),null==this._hideContextMenuOnClickOutside&&(this._hideContextMenuOnClickOutside=function(t){return function(i){return t._suppressHide?void 0:e.elem.isInside(i.target,t.elem)?void 0:t.hide()}}(this)),e.elem.rebind(document,"mouseup",this._hideContextMenuOnClickOutside),this.video.bind("enter-fullscreen",this.hide),this.video.bind("cancel-fullscreen",this.hide)},r.prototype.repositionFromEvent=function(t){var i,n,r,o,s;return s=this.video.inFullscreen()?{left:e.util.scrollLeft(),top:e.util.scrollTop()}:e.elem.offset(this.video.vulcanElem),n=t.pageX-s.left,o=t.pageY-s.top,r=n+this.width(),i=o+this.height(),r>this.video.videoWidth()&&(n-=this.width()-1),i>this.video.videoHeight()&&(o-=this.height()-1),this.elem.style.left=Math.max(0,n)+"px",this.elem.style.top=Math.max(0,o)+"px",this.fixZoom()},r.prototype.fixZoom=function(){var e;return this.elem.style.zoom=1,e=this.height()>this.video.videoHeight()?this.video.videoHeight()/this.height():1,this.elem.style.zoom=e},r.prototype.setupItems=function(){var i,n;return n=null!=this.video._opts.showAbout?this.video._opts.showAbout:this.video._mediaData.showAbout,n&&this.appendMenuItem("aboutWistia",{tagName:"a",href:"https://wistia.com/about-wistia?about="+this.video._mediaData.accountKey.match(/\d+/)[0],target:"_blank",innerHTML:"About Wistia",class:"w-context-menu__item w-is-visible",style:{display:"block",textDecoration:"none"},events:{click:function(e){return function(t){return t.stopPropagation(),e.hide()}}(this)}}),this.video._mediaData.showAbout&&this.appendMenuItem("reportAProblem",{tagName:"a",href:"#",innerHTML:"Report a problem",class:"w-context-menu__item w-is-visible",style:{display:"block",textDecoration:"none"},events:{click:function(e){return function(t){return t.preventDefault(),t.stopPropagation(),e.hide(),e.video.ui.actions.reportAProblem.animateOpen()}}(this)}}),(e.detect.chrome||e.detect.firefox||e.detect.edge)&&(i="Copy link and thumbnail",this.appendMenuItem("copyLink",{tagName:"a",href:"#",innerHTML:i,class:"w-context-menu__item w-is-visible",style:{display:"block",textDecoration:"none"},events:{click:function(t){return function(n){return n.preventDefault(),n.stopPropagation(),e.elem.bind(document,"copy",function(n){var r,o,s,a,u;return n.preventDefault(),a=e.url.parse(location.href),a.params.wvideo=t.video.hashedId(),s=400,r=s/t.video.aspect(),o=t.video.stillUrl({videoWidth:s,videoHeight:r,playButton:!0,retina:!0}),u=e.elem.fromObject({childNodes:[{tagName:"p",childNodes:{tagName:"a",href:a.absolute(),childNodes:{tagName:"img",src:o,style:{width:s+"px",height:r+"px"},width:s,height:r}}},{tagName:"p",childNodes:{tagName:"a",href:a.absolute(),innerHTML:document.title?document.title+" - "+t.video.name():t.video.name()}}]}),n.clipboardData.setData("text/html",u.innerHTML),n.clipboardData.setData("text/plain",u.innerHTML),t.copyLink.innerHTML="Copied!",e.timeout(t.video.uuid+".context_menu_copied",function(){return t.copyLink.innerHTML=i,t.hide()},1e3),e.elem.unbind}),document.execCommand("copy")}}(this)}})),this.showed(function(i){return function(){return e.jsonp.get("https://"+t()+"/media_url",{hashed_id:i.video.hashedId()},function(t){var n,r;return t.logged_in&&!i.onPageUrl(t.media_url)?(r=t.whitelabel?"View stats in account":"View stats in Wistia",i.prependMenuItem("viewStatsInWistia",{tagName:"a",href:t.stats_url,target:"_blank",innerHTML:r,style:{display:"block",textDecoration:"none"},events:{click:function(e){return e.stopPropagation(),i.hide()}}}),r=t.whitelabel?"Open video in account":"Open video in Wistia",i.prependMenuItem("viewInWistia",{tagName:"a",href:t.media_url,target:"_blank",innerHTML:r,style:{display:"block",textDecoration:"none"},events:{click:function(e){return e.stopPropagation(),i.hide()}}}),n=t.whitelabel?"Logged In to Account":"Logged In to Wistia",e.elem.remove(i.aboutWistia),i.prependMenuItem("loggedIn",{innerHTML:n,class:"w-context-menu__item w-context-menu__item--title w-is-visible is-disabled",events:{click:function(e){return e.stopPropagation(),i.hide()}}}),i.fixZoom()):void 0})}}(this)),this.video.hdAsset()&&"hd-only"===this.video._opts.videoQuality?(this.activateItem("hdOnly"),this.deactivateItems("autoHd","sdOnly")):void 0},r.prototype.newMenuItem=function(t,i){var n;return n=e.elem.fromObject(i),e.elem.addClass(n,t),e.elem.addClass(n,"w-context-menu__item"),e.elem.addClass(n,"w-context-menu__item--"+t),e.elem.bind(n,"mousedown",function(e){return e.preventDefault()}),this[t]=n,this.items.push(n),n},r.prototype.prependMenuItem=function(t,i){var n;return n=this.newMenuItem(t,i),e.elem.prepend(this.elem,n)},r.prototype.appendMenuItem=function(t,i){var n;return n=this.newMenuItem(t,i),e.elem.append(this.elem,n)},r.prototype.onPageUrl=function(t){var i,n;return n=e.url.parse(location.href),i=e.url.parse(t),n._opts={},n.protocol="http:",i._opts={},i.protocol="http:",n.absolute()===i.absolute()},r.prototype.addHr=function(){return e.elem.append(this.elem,e.elem.fromObject({style:{fontSize:"0px",height:"0px",lineHeight:"0px",borderTop:"1px solid #e8e8e8",margin:"1px 0"}}))},r.prototype.activateItem=function(e){var t;return null!=(t=document.getElementById(e+"Bullet"))?t.innerHTML="&#9679;":void 0},r.prototype.deactivateItem=function(e){var t;return null!=(t=document.getElementById(e+"Bullet"))?t.innerHTML="&#9675;":void 0},r.prototype.deactivateItems=function(){var e,t,i,n,r;for(n=1<=arguments.length?o.call(arguments,0):[],r=[],e=0,t=n.length;t>e;e++)i=n[e],r.push(this.deactivateItem(i));return r},r.prototype.assets=function(){return this._assets||(this._assets=this.video.assets({container:"mp4",sortBy:"width asc, bitrate desc",unique:"width",public:!0}))},r.prototype.activateAsset=function(e){return this.playingIn.innerHTML=this.playingInText(e),this.activateItem(e.slug),this.deactivateAssetsExcept(e)},r.prototype.deactivateAsset=function(e){return this.deactivateItem(e.slug)},r.prototype.deactivateAssets=function(){var e,t,i,n,r;for(n=this.assets(),r=[],t=0,i=n.length;i>t;t++)e=n[t],r.push(this.deactivateAsset(e));return r},r.prototype.deactivateAssetsExcept=function(e){var t,i,n,r,o;for(r=this.assets(),o=[],i=0,n=r.length;n>i;i++)t=r[i],t.url!==e.url?o.push(this.deactivateAsset(t)):o.push(void 0);return o},r.prototype.playingInText=function(e){return"Playing in <span class='playingInName'>"+this.assetName(e)+"</span>"},r.prototype.assetName=function(e){return e&&e.display_name?e.display_name:"?"},r.prototype.hideItem=function(t){return e.elem.removeClass(this[t],"w-is-visible")},r.prototype.showItem=function(t){return e.elem.addClass(this[t],"w-is-visible")},r.prototype.visibleItems=function(){var e,t,i,n,r;for(n=this.items,r=[],t=0,i=n.length;i>t;t++)e=n[t],"none"!==e.style.display&&r.push(e);return r},r.prototype.height=function(){return e.elem.height(this.elem)},r.prototype.width=function(){return 200},r.prototype.updateColor=function(){},r.prototype.destroy=function(){return this.cleanup(),this.destroyBindings(),r.__super__.destroy.apply(this,arguments)},r}(e.Vulcan.Control)}(Wistia)},function(e,t){var i=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function i(){this.constructor=e}for(var n in t)r.call(t,n)&&(e[n]=t[n]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},r={}.hasOwnProperty;!function(e){e.Vulcan.FullscreenButton||(e.Vulcan.FullscreenButton=function(t){function r(e,t){this.video=e,this._toggleOnClick=i(this._toggleOnClick,this),this.name="fullscreenButton",t.tagName="button",r.__super__.constructor.call(this,this.video,t),this.setInitialStyles(),this.setupBindings()}return n(r,t),r.prototype.setInitialStyles=function(){return e.elem.style(this.elem,{position:"relative"}),this.elem.style.mozUserSelect="none",this.elem.style.msUserSelect="none",this.elem.style.webkitUserSelect="none",this.elem.style.webkitTouchCallout="none",this.elem.setAttribute("alt","Fullscreen - click to toggle"),this.elem.setAttribute("tabindex","0"),this.elem.setAttribute("aria-label","Fullscreen"),this.elem.setAttribute("title","Fullscreen"),e.elem.addClass(this.elem,"w-control--fullscreen"),this.iconElem.innerHTML=this.iconSVG()},r.prototype.initialize=function(){return this.shouldShowControl()&&this.video.ui.still.loaded(function(e){return function(){return e.turnOn()}}(this)),this},r.prototype.shouldShowControl=function(){return!this.video._opts.chromeless&&e.util.notSetOrTrue(this.video._opts.fullscreenButton)&&this.canFullScreen()},r.prototype.destroyBindings=function(){return r.__super__.destroyBindings.apply(this,arguments),e.elem.unbind(this.elem,"click",this._toggleOnClick)},r.prototype.setupBindings=function(){return r.__super__.setupBindings.apply(this,arguments),e.elem.bind(this.elem,"click",this._toggleOnClick)},r.prototype.destroy=function(){return this.destroyBindings(),r.__super__.destroy.apply(this,arguments)},r.prototype._toggleOnClick=function(e){return 1===e.which?(e.stopPropagation(),this.video.inFullscreen()?this.video.cancelFullscreen():this.video.requestFullscreen()):void 0},r.prototype.iconSVG=function(){return'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 27.5 19.5" enable-background="new 0 0 27.5 19.5" xml:space="preserve" class="wistia_vulcan_svg_icon wistia_vulcan_svg_icon_fullscreen">\n  <g>\n    <polyline fill="none" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="26.8,5.1 26.8,0.8 20.5,0.8"/>\n    <polyline fill="none" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="7,0.8 0.7,0.8 0.7,5.1"/>\n    <polyline fill="none" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="20.5,18.8 26.8,18.8 26.8,14.4\t"/>\n    <polyline fill="none" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="0.7,14.4 0.7,18.8 7,18.8"/>\n  </g>\n  <rect x="5.8" y="4.8" fill="none" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" width="16" height="10"/>\n</svg>\n'},r.prototype.turnOn=function(){return this.canFullScreen()?r.__super__.turnOn.apply(this,arguments):void 0},r.prototype.canFullScreen=function(){return e.detect.fullscreenEnabled||e.detect.ios.version>0},r}(e.Vulcan.Control))}(Wistia)},function(e,t){var i=function(e,t){return function(){return e.apply(t,arguments)}};!function(e){e.Vulcan||(e.Vulcan={}),e.Vulcan.HoverEvent=function(){function t(e){this.elem=e,this.onMouseOut=i(this.onMouseOut,this),this.onMouseOver=i(this.onMouseOver,this),this.destroy=i(this.destroy,this),this.setupBindings()}return t.prototype.destroy=function(){return this.destroyBindings()},t.prototype.setupBindings=function(){return e.elem.bind(this.elem,"mouseover",this.onMouseOver),e.elem.bind(this.elem,"mouseout",this.onMouseOut)},t.prototype.destroyBindings=function(){return e.elem.unbind(this.elem,"mouseover",this.onMouseOver),e.elem.unbind(this.elem,"mouseout",this.onMouseOut)},t.prototype.onMouseOver=function(e){var t;for(t=e.relatedTarget;null!==t;){if(t===this.elem)return;t=t.parentNode}return this.trigger("hoverstart",e)},t.prototype.onMouseOut=function(e){var t;for(t=e.relatedTarget;null!==t;){if(t===this.elem)return;t=t.parentNode}return this.trigger("hoverend",e)},t}(),e.mixin(e.Vulcan.HoverEvent.prototype,e.bindable)}(Wistia)},function(e,t){var i;i=function(){function e(){}return e.prototype.toggle=function(){},e.prototype.width=function(){return 0},e.prototype.height=function(){return 0},e.prototype.hide=function(){},e.prototype.show=function(){},e.prototype.setParent=function(){},e.prototype.uuid=-1,e.prototype.updateState=function(){},e.prototype.bind=function(){},e.prototype.hideFromParent=function(){},e.prototype.showFromParent=function(){},e.prototype.removeFromParent=function(){},e}(),e.exports=i},function(e,t,i){var n,r,o,s=function(e,t){return function(){return e.apply(t,arguments)}},a=function(e,t){function i(){this.constructor=e}for(var n in t)u.call(t,n)&&(e[n]=t[n]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},u={}.hasOwnProperty;r=i(469).default,o=i(395).default,n=i(47).default.bindActionsToStore,function(e){var t;if(!e.Vulcan.Playbar)t=function(){function e(){}return e.prototype.updateState=function(){return{}},e.prototype.getState=function(){return null},e.prototype.destroy=function(){return{}},e.prototype.loadSprite=function(){return{}},e}(),e.Vulcan.PlaybarControl=function(i){function u(t,i){this.video=t,this.updateProgressLoop=s(this.updateProgressLoop,this),this.onSwitchedToAsset=s(this.onSwitchedToAsset,this),this.onSeek=s(this.onSeek,this),this.updateTimeToPercent=s(this.updateTimeToPercent,this),this.onMouseDown=s(this.onMouseDown,this),this.onTouchEnd=s(this.onTouchEnd,this),this.onTouchMove=s(this.onTouchMove,this),this.onTouchStart=s(this.onTouchStart,this),this.percentFromMouseEvent=s(this.percentFromMouseEvent,this),this.onKeyboardTimechange=s(this.onKeyboardTimechange,this),this.onHoveringMousemove=s(this.onHoveringMousemove,this),this.onHoverEnd=s(this.onHoverEnd,this),this.onHoverStart=s(this.onHoverStart,this),this.onWidthChange=s(this.onWidthChange,this),this.onEnterFullscreen=s(this.onEnterFullscreen,this),this.onEnterVideo=s(this.onEnterVideo,this),this.startProgressLoop=s(this.startProgressLoop,this),this.hideStoryboard=s(this.hideStoryboard,this),this.initActionsAndAccessors(this.video.uuid),this._tweenBufferTime=0,this._tweenBufferStart=0,this._tweenBufferChange=0,this._lastPercentBuffered=0,this.name="playbarControl",u.__super__.constructor.call(this,this.video,i),this.setAttributes(),e.elem.removeClass(this.elem,"wistia_vulcan_control"),e.elem.addClass(this.elem,"w-control--playbar"),this.view=new e.Vulcan.PlaybarView(this.elem),this.unmountPlaybarIndicators=r.mountPlaybarIndicators(this.elem,this.video.uuid),this.hoverEvent=new e.Vulcan.HoverEvent(this.elem)}var l;return a(u,i),l=12,u.prototype.destroy=function(){var e;return this.unmountPlaybarIndicators(),null!=(e=this.storyboard)&&e.destroy(),this.view.destroy(),u.__super__.destroy.call(this),this.view=this.storyboard=this.hoverEvent=null},u.prototype.initActionsAndAccessors=function(e){return this.actions=n(e,{playbar:o.actions})},u.prototype.show=function(){return this.shouldShow()?(this._showing=!0,e.elem.addClass(this.elem,"w-is-visible"),this.actions.playbar.setWidth(this.width())):void 0},u.prototype.hide=function(){return this._showing=!1,e.elem.removeClass(this.elem,"w-is-visible"),this.hideStoryboard()},u.prototype.hideStoryboard=function(){return this.storyboard.updateState({visible:!1})},u.prototype.setAttributes=function(){return this.elem.setAttribute("alt","Playbar - click to seek"),e.elem.addClass(this.elem,"wistia_playbar")},u.prototype.initializeView=function(e){return this.setupBindings(),this.updateStateFromVideo()},u.prototype.updateStateFromVideo=function(){return this.view.updateState({progress:this.video.time()/this.video.duration(),buffered:this.getPercentBuffered()}),this.updateTimeElement()},u.prototype.thumbnailSpriteAsset=function(){var e;return e=this.video.assets({select:function(e){return"storyboard"===e.type},sortBy:"created_at desc"}),e[0]||{}},u.prototype.thumbnailVideoAsset=function(){var e;return e=this.video.assets({select:function(e){return"iphone_video"===e.type}}),e[0]},u.prototype.initialize=function(i){var n,r;return!this.video._opts.chromeless&&e.util.notSetOrTrue(this.video._opts.playbar)?(n=e.detect.ios.version>0,e.detect.android||n||this.video._opts.hideThumbnailPreview?this.storyboard=new t:this.storyboard=new e.Vulcan.Storyboard(this.video.vulcanElem,this.thumbnailSpriteAsset()),null!=(r=this.video.ui)&&r.still.loaded(function(e){return function(){return e.initializeView(),e.turnOn()}}(this))):this.storyboard=new t,this},u.prototype.setupBindings=function(){return this.hoverEvent.bind("hoverstart",this.onHoverStart),this.hoverEvent.bind("hoverend",this.onHoverEnd),e.elem.bind(this.elem,"mousedown",this.onMouseDown),e.elem.bind(this.elem,"touchstart",this.onTouchStart),e.elem.bind(this.elem,"touchmove",this.onTouchMove),e.elem.bind(this.elem,"touchend",this.onTouchEnd),e.elem.bind(this.video.chrome,"mouseenter",this.onEnterVideo),this.video.bind("enter-fullscreen",this.onEnterFullscreen),this.video.bind("seek",this.onSeek),this.video.bind("switched-to-asset",this.onSwitchedToAsset),this.video.bind("keyboard:timechange",this.onKeyboardTimechange),this.video.bind("controls-hidden",this.hideStoryboard),this.video.bind("widthchange",this.onWidthChange),this.video.bind("play",this.startProgressLoop),this.video.bind("timechange",this.startProgressLoop),e.timeout(this.video.uuid+".start_progress_loop",function(e){return function(){return!0!==e._stopUpdateProgressLoop?e.startProgressLoop():void 0}}(this),2e3)},u.prototype.startProgressLoop=function(){return this._stopUpdateProgressLoop=!1,e.util.requestAnimationFrame(this.updateProgressLoop),this.video.unbind("play",this.startProgressLoop),this.video.unbind("timechange",this.startProgressLoop)},u.prototype.destroyBindings=function(){return u.__super__.destroyBindings.apply(this,arguments),this.hoverEvent.unbind("hoverstart",this.onHoverStart),this.hoverEvent.unbind("hoverend",this.onHoverEnd),this.hoverEvent.destroy(),e.elem.unbind(document,"mousemove",this.onHoveringMousemove),e.elem.unbind(this.elem,"mousedown",this.onMouseDown),e.elem.unbind(this.elem,"touchstart",this.onTouchStart),e.elem.unbind(this.elem,"touchmove",this.onTouchMove),e.elem.unbind(this.elem,"touchend",this.onTouchEnd),e.elem.unbind(this.video.chrome,"mouseenter",this.onEnterVideo),this.video.unbind("enter-fullscreen",this.onEnterFullscreen),this.video.unbind("seek",this.onSeek),this.video.unbind("switched-to-asset",this.onSwitchedToAsset),this.video.unbind("keyboard:timechange",this.onKeyboardTimechange),this.video.unbind("controls-hidden",this.hideStoryboard),this.video.unbind("widthchange",this.onWidthChange),this.video.unbind("play",this.startProgressLoop),this.video.unbind("timechange",this.startProgressLoop),this._stopUpdateProgressLoop=!0},u.prototype.cleanup=function(){return e.elem.unbind(document.body,"mousemove",this._onDragScrubBar),e.elem.unbind(document.body,"mouseup",this._onReleaseScrubBar),e.elem.unbind(document.body,"mousemove",this._onMouseLeavesVulcan),e.elem.unbind(document,"mouseout",this._onMouseLeavesWindow)},u.prototype.onEnterVideo=function(){var e;return!1!==this.video._preloadStoryboard&&"function"==typeof(e=this.storyboard).loadSprite?e.loadSprite():void 0},u.prototype.onEnterFullscreen=function(){return this.view.updateState()},u.prototype.onWidthChange=function(){return this.view.updateState({width:this.video.videoWidth()})},u.prototype.onHoverStart=function(){return this._showing||"beforeplay"!==this.video.state()?(this.video.width()>=500&&(this.storyboard.updateState({visible:!0}),this.storyboard.getState("active")&&this.view.updateState({hoverLineVisible:!0})),e.elem.bind(document,"mousemove",this.onHoveringMousemove)):void 0},u.prototype.onHoverEnd=function(){return this.hideStoryboard(),this.view.updateState({hoverLineVisible:!1}),e.elem.unbind(document,"mousemove",this.onHoveringMousemove)},u.prototype.onHoveringMousemove=function(t){var i,n,r,o,s,a,u;return s=this.percentFromMouseEvent(t),r=this.timeFromPercent(s),i=e.elem.offset(this.elem).left,u=e.elem.offset(this.video.vulcanElem).left,n=i-u,o=s*this.width()+n,a=this.video._opts.trimStart?(r+this.video._opts.trimStart)/this.video._mediaData.duration:s,this.storyboard.updateState({position:o,time:r,percent:a}),this.view.updateState({hoverLinePercent:s})},u.prototype.onKeyboardTimechange=function(){var t,i;return t=e.util.niceDuration(this.video.time()),i=e.util.niceDuration(this.video.duration()),this.view.updateState({ariatime:t+" of "+i})},u.prototype.percentFromMouseEvent=function(e){return this.actions.playbar.setWidth(this.width()),Math.min(1,Math.max(0,(e.pageX-2-this.leftMostX())/this.width()))},u.prototype.onTouchStart=function(e){return this.touchInProgress=!0},u.prototype.onTouchMove=function(e){var t,i;if(0===e.which&&this.touchInProgress)return this.video.ui.showControls(),e.preventDefault(),i=e.touches[0],t=(i.pageX-2-this.leftMostX())/this.width(),this.updateTimeToPercent(t)},u.prototype.onTouchEnd=function(e){return this.touchInProgress=!1},u.prototype.onMouseDown=function(t){var i;if(1===t.which)return t.preventDefault(),this._stateOnDrag=this.video.state(),i=(t.pageX-2-this.leftMostX())/this.width(),this.updateTimeToPercent(i),this.startDrag(),"beforeplay"===this.video.state()?this.video.play():(this.video.pause(),"playing"===this._stateOnDrag?e.elem.bind(document,"mouseup",function(t){return function(){return t.video.ready(function(){return"ended"===t.video.state()||t.video.publicApi._suspended?void 0:t.video.play()}),i=t.video.time()/t.video.duration(),t.actions.playbar.setPlaybarPositionPercentage(i),t.view.updateState({progress:i}),e.elem.unbind}}(this)):void 0)},u.prototype.updateTimeToPercent=function(e){return e=Math.max(Math.min(e,1),0),this.updateTime(e),this.updateTimeElement(e),this.view.updateState({progress:e}),this.actions.playbar.setPlaybarPositionPercentage(e)},u.prototype.onSeek=function(e){var t;return t=e/this.video.duration(),this.actions.playbar.setPlaybarPositionPercentage(t),this.view.updateState({progress:t})},u.prototype.onSwitchedToAsset=function(){var e;return e=this.video.time()/this.video.duration(),this.actions.playbar.setPlaybarPositionPercentage(e),this.view.updateState({progress:e})},u.prototype.startDrag=function(){return null==this._onDragScrubBar&&(this._onDragScrubBar=function(t){return function(i){var n,r;return e.elem.addClass(t.elem,"wistia_dragging"),
"playing"===t.video.state()&&t.video.pause(),n=Math.min(1,Math.max(0,(i.pageX-2-t.leftMostX())/t.width())),r=e.util.niceDuration(t.video.time()),t.view.updateState({progress:n,time:r}),t.actions.playbar.setPlaybarPositionPercentage(n),t.updateTime(n)}}(this)),this.actions.playbar.setIsDragging(!0),e.elem.bind(document.body,"mousemove",this._onDragScrubBar),null==this._onReleaseScrubBar&&(this._onReleaseScrubBar=function(e){return function(t){return e.stopDrag()}}(this)),e.elem.bind(document.body,"mouseup",this._onReleaseScrubBar),this._scrubbing=!0},u.prototype.leftMostX=function(){return e.elem.offset(this.elem).left},u.prototype.stopDrag=function(){var t;return this.actions.playbar.setIsDragging(!1),e.elem.removeClass(this.elem,"wistia_dragging"),this._onDragScrubBar&&e.elem.unbind(document.body,"mousemove",this._onDragScrubBar),this._onReleaseScrubBar&&e.elem.unbind(document.body,"mouseup",this._onReleaseScrubBar),this._onMouseLeavesVulcan&&e.elem.unbind(document.body,"mousemove",this._onMouseLeavesVulcan),this._onMouseLeavesWindow&&e.elem.unbind(document,"mouseout",this._onMouseLeavesWindow),"ended"===this._stateOnDrag&&this.video.play(),this._scrubbing=!1,t=this.video.time()/this.video.duration(),this.actions.playbar.setPlaybarPositionPercentage(t),this.view.updateState({progress:t})},u.prototype.updateTimeElement=function(t){var i;return i="beforeplay"===this.video.state()?this.video.duration():this.video.time(),this.view.updateState({time:e.util.niceDuration(i)})},u.prototype.updateTime=function(e){var t;return t=this.timeFromPercent(e),this.video.time(t)},u.prototype.timeFromPercent=function(e){return Math.min(this.video.duration(),Math.max(0,e*this.video.duration()))},u.prototype.getPercentBuffered=function(){var e,t;return t=this.video.sequentialBufferedRange(),"beforeplay"===this.video.state()?0:null!=t?(Math.max(0,t[0]/this.video.duration()),e=Math.min(1,t[1]/this.video.duration()),e>.99&&(e=1),e):0},u.prototype.width=function(){return e.elem.width(this.elem)},u.prototype.updateProgressLoop=function(){var t,i,n,r,o;if(!this._stopUpdateProgressLoop&&(e.util.requestAnimationFrame(this.updateProgressLoop),!this.video._seekingBeforePlay&&!this._scrubbing&&this._showing&&this.video._controlsVisible)){if(!this.video.elem())return void(this._stopUpdateProgressLoop=!0);if(this._tweenBufferTime<l-1&&(this._tweenBufferTime+=1),o=this.video.engine.getCurrentTime(),n=o/this.video.duration(),t=this.getPercentBuffered(),o!==this._lastCurrentTime||t!==this._lastPercentBuffered)return t!==this._lastPercentBuffered&&(r=this.tweenedBufferPercentage(),this._tweenBufferTime=0,this._tweenBufferStart=r,this._tweenBufferChange=t-r),this.actions.playbar.setPlaybarPositionPercentage(n),i="beforeplay"===this.video.state()?this.video.duration():o,this.view.updateState({progress:n,time:e.util.niceDuration(i),buffered:this.tweenedBufferPercentage()}),this._lastCurrentTime=o,this._lastPercentBuffered=t}},u.prototype.tweenedBufferPercentage=function(){return this.cubicOut(this._tweenBufferTime,this._tweenBufferStart,this._tweenBufferChange,l)},u.prototype.cubicOut=function(e,t,i,n){return i*((e=e/n-1)*e*e+1)+t},u}(e.Vulcan.Control)}(Wistia)},function(e,t){var i=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function i(){this.constructor=e}for(var n in t)r.call(t,n)&&(e[n]=t[n]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},r={}.hasOwnProperty;!function(e){e.Vulcan.PlaybarPlaceholder=function(t){function r(t,n){this.video=t,this.onTimeChange=i(this.onTimeChange,this),this.name="playbarPlaceholder",r.__super__.constructor.call(this,this.video,n),e.elem.addClass(this.elem,"wistia_playbar_placeholder"),e.elem.addClass(this.elem,"w-control--playbar-placeholder w-playbar-placeholder"),this.buildElements(),this.updateTime(this.video.duration()),this.setupBindings()}return n(r,t),r.prototype.destroy=function(){return this.destroyBindings(),this.timeElement=null,r.__super__.destroy.apply(this,arguments)},r.prototype.initialize=function(){var t;return!this.video._opts.chromeless&&e.util.notSetOrTrue(this.video._opts.playbar)&&null!=(t=this.video.ui)&&t.still.loaded(function(e){return function(){return e.turnOn()}}(this)),this},r.prototype.show=function(){return this.shouldShow()?e.elem.addClass(this.elem,"w-is-visible"):void 0},r.prototype.hide=function(){return e.elem.removeClass(this.elem,"w-is-visible")},r.prototype.setupBindings=function(){return this.video.bind("timechange",this.onTimeChange)},r.prototype.destroyBindings=function(){return r.__super__.destroyBindings.apply(this,arguments),this.video.unbind("timechange",this.onTimeChange)},r.prototype.onTimeChange=function(e){return this.video._seekingBeforePlay?void 0:this.updateTime(this.video.time())},r.prototype.buildElements=function(){return this.timeElement=e.elem.fromObject({class:"wistia_placeholder_time_element wistia_time"}),e.elem.append(this.elem,this.timeElement)},r.prototype.updateTime=function(t){var i;return i="beforeplay"===this.video.state()?this.video.duration():t,this.timeElement.innerHTML=e.util.niceDuration(i)},r}(e.Vulcan.Control)}(Wistia)},function(e,t){var i=function(e,t){return function(){return e.apply(t,arguments)}};!function(e){e.Vulcan.PlaybarView=function(){function t(t,n){this.parent=t,null==n&&(n={}),this.timeElementOffsets=i(this.timeElementOffsets,this),this.onUpdateHoverLineVisible=i(this.onUpdateHoverLineVisible,this),this.onUpdateHoverLinePercent=i(this.onUpdateHoverLinePercent,this),this.onUpdateAriaTime=i(this.onUpdateAriaTime,this),this.onUpdateShowTime=i(this.onUpdateShowTime,this),this.onUpdateWidth=i(this.onUpdateWidth,this),this.onUpdateBuffered=i(this.onUpdateBuffered,this),this.onUpdateTime=i(this.onUpdateTime,this),this.onUpdateProgress=i(this.onUpdateProgress,this),this.id=e.seqId(),this.state=this.getDefaultInitialStateProperties(n),this.buildElements(),this.setupBindings(),this.updateAllDisplays()}return t.prototype.destroy=function(){return this.destroyBindings()},t.prototype.getDefaultInitialStateProperties=function(t){var i;return i={progress:0,buffered:0,time:"0:00",ariatime:"0:00",hoverLinePercent:0,hoverLineVisible:!1},e.extend(i,t)},t.prototype.getState=function(e){return this.state[e]},t.prototype.setupBindings=function(){return this.bind("property:updated:width",this.onUpdateWidth),this.bind("property:updated:progress",this.onUpdateProgress),this.bind("property:updated:time",this.onUpdateTime),this.bind("property:updated:buffered",this.onUpdateBuffered),this.bind("property:updated:height",this.onUpdatedHeight),this.bind("property:updated:thumbnail",this.onUpdateThumbnail),this.bind("property:updated:showTime",this.onUpdateShowTime),this.bind("property:updated:hoverLinePercent",this.onUpdateHoverLinePercent),this.bind("property:updated:hoverLineVisible",this.onUpdateHoverLineVisible)},t.prototype.destroyBindings=function(){return this.unbind("property:updated:width",this.onUpdateWidth),this.unbind("property:updated:progress",this.onUpdateProgress),this.unbind("property:updated:time",this.onUpdateTime),this.unbind("property:updated:buffered",this.onUpdateBuffered),this.unbind("property:updated:thumbnail",this.onUpdateThumbnail),this.unbind("property:updated:showTime",this.onUpdateShowTime),this.unbind("property:updated:hoverLinePercent",this.onUpdateHoverLinePercent),this.unbind("property:updated:hoverLineVisible",this.onUpdateHoverLineVisible)},t.prototype.onUpdateProgress=function(){return this.updateProgress(),this.updateTimePosition()},t.prototype.onUpdateTime=function(){return this.updateTime()},t.prototype.onUpdateBuffered=function(){return this.updateBuffered()},t.prototype.onUpdateWidth=function(){return this.updateProgress(),this.updateTimePosition(),this.updateBuffered(),this.updateHoverLinePercent(),this.updateHoverLineVisible()},t.prototype.onUpdateShowTime=function(){return this.updateTimeVisibility()},t.prototype.onUpdateAriaTime=function(){return this.updateAriaTime()},t.prototype.onUpdateHoverLinePercent=function(){return this.updateHoverLinePercent()},t.prototype.onUpdateHoverLineVisible=function(){return this.updateHoverLineVisible()},t.prototype.updateAllDisplays=function(){return this.updateProgress(),this.updateTimePosition(),this.updateTime(),this.updateTimeVisibility(),this.updateAriaTime(),this.updateHoverLineVisible(),this.updateHoverLinePercent()},t.prototype.updateTimeVisibility=function(){},t.prototype.updateProgress=function(){var t;return t=50*this.state.progress-50,e.util.applyTransform(this.slider,"translateX("+t+"%)"),this.updateBuffered()},t.prototype.updateBuffered=function(){var t,i;return t=Math.max(0,this.state.buffered-this.state.progress),i=50*t-50,e.util.applyTransform(this.unplayedSlider,"translateX("+i+"%)")},t.prototype.updateTimePosition=function(){var t,i,n,r,o;t=this.state.progress*e.elem.width(this.parent),this.timePositioner.style.width=t+"px",n=this.timeElementOffsets(t),r=[];for(i in n)o=n[i],r.push(this.time.style[i]=o);return r},t.prototype.updateAriaTime=function(){return this.mask.setAttribute("aria-valuenow",this.state.ariatime.toString())},t.prototype.updateHoverLineVisible=function(){var t;return t="wistia_playbar_hover_line--is-visible",this.state.hoverLineVisible?e.elem.addClass(this.hoverLine,t):e.elem.removeClass(this.hoverLine,t)},t.prototype.updateHoverLinePercent=function(){return this.hoverLine.style.left=100*this.state.hoverLinePercent+"%"},t.prototype.timeElementOffsets=function(t){var i,n,r;return r=0,i=e.elem.width(this.time)+19,n=Math.min(r,t-i)===r,n?{right:"9px",left:"auto"}:{right:"auto",left:"9px"}},t.prototype.updateTime=function(){return this.time.innerHTML=this.state.time},t.prototype.buildElements=function(){return this.buildMask(),this.buildBar(),this.buildHoverLine()},t.prototype.buildMask=function(){return this.mask=e.elem.fromObject({id:e.seqId("wistia_playbar_mask_"),class:"wistia_playbar_mask",tabindex:"0",role:"slider","aria-label":"playbar","aria-valuenow":"0"}),e.elem.append(this.parent,this.mask)},t.prototype.buildHoverLine=function(){return this.hoverLine=e.elem.fromObject({id:e.seqId("wistia_hover_line"),class:"wistia_playbar_hover_line"}),e.elem.append(this.mask,this.hoverLine)},t.prototype.buildBar=function(){return this.slider=e.elem.fromObject({id:e.seqId("wistia_playbar_slider_"),class:"wistia_playbar_slider"}),this.buildPlaybarCompleted(),this.buildPlaybarUnplayed(),this.buildTimeElement(),e.elem.append(this.mask,this.slider)},t.prototype.buildPlaybarCompleted=function(){return this.completed=e.elem.fromObject({id:e.seqId("wistia_playbar_completed_"),class:"wistia_playbar_completed"}),e.elem.append(this.slider,this.completed)},t.prototype.buildPlaybarUnplayed=function(){return this.unplayedMask=e.elem.fromObject({id:e.seqId("wistia_playbar_unplayed_mask_"),class:"wistia_playbar_unplayed_mask"}),this.unplayedSlider=e.elem.fromObject({id:e.seqId("wistia_playbar_unplayed_slider_"),class:"wistia_playbar_unplayed_slider"}),this.buffered=e.elem.fromObject({id:e.seqId("wistia_playbar_buffered_"),class:"wistia_playbar_buffered"}),this.background=e.elem.fromObject({id:e.seqId("wistia_playbar_background_"),class:"wistia_playbar_background"}),e.elem.append(this.unplayedSlider,this.buffered),e.elem.append(this.unplayedSlider,this.background),e.elem.append(this.unplayedMask,this.unplayedSlider),e.elem.append(this.slider,this.unplayedMask)},t.prototype.buildTimeElement=function(){return this.timePositioner=e.elem.fromObject({id:e.seqId("time_positioner_"),class:"wistia_time_positioner"}),this.time=e.elem.fromObject({id:e.seqId("time_"),class:"wistia_time"}),e.elem.append(this.timePositioner,this.time),e.elem.append(this.mask,this.timePositioner)},t}(),e.mixin(e.Vulcan.PlaybarView.prototype,e.hasState)}(Wistia)},function(e,t){var i=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function i(){this.constructor=e}for(var n in t)r.call(t,n)&&(e[n]=t[n]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},r={}.hasOwnProperty;!function(e){e.Vulcan.SmallPlayButton||(e.Vulcan.SmallPlayButton=function(t){function r(t,n){this.video=t,this.onClick=i(this.onClick,this),this.onPause=i(this.onPause,this),this.onPlay=i(this.onPlay,this),n.tagName="button",this.name="smallPlayButton",r.__super__.constructor.call(this,this.video,n),this.elem.style.position="relative",this.elem.setAttribute("alt","Click to play"),this.elem.setAttribute("tabindex","0"),this.elem.setAttribute("aria-label","Play"),this.elem.setAttribute("title","Play"),e.elem.addClass(this.elem,"w-control--play paused"),this.iconElem.innerHTML=this.playSVG(),this.setupBindings()}return n(r,t),r.prototype.initialize=function(){return!this.video._opts.chromeless&&e.util.notSetOrTrue(this.video._opts.smallPlayButton)&&this.video.ui.still.loaded(function(e){return function(){return e.turnOn()}}(this)),this},r.prototype.onBubbleClick=function(e){return this.hoverTooltip.hideFromParent()},r.prototype.onPlay=function(){return e.elem.removeClass(this.elem,"paused"),e.elem.addClass(this.elem,"playing"),this.elem.setAttribute("alt","Click to pause"),this.elem.setAttribute("aria-label","Pause"),this.elem.setAttribute("title","Pause"),this.iconElem.innerHTML=this.pauseSVG()},r.prototype.onPause=function(){return e.elem.removeClass(this.elem,"playing"),e.elem.addClass(this.elem,"paused"),this.elem.setAttribute("alt","Click to play"),this.elem.setAttribute("aria-label","Play"),this.elem.setAttribute("title","Play"),this.iconElem.innerHTML=this.playSVG()},r.prototype.onClick=function(t){return t.preventDefault(),1===t.which?"beforeplay"===this.video.state()?this.video.play():e.elem.isInside(t.target,this.elem)?this.video.togglePlay():void 0:void 0},r.prototype.setupBindings=function(){return this.video.bind("play",this.onPlay),this.video.bind("pause",this.onPause),e.elem.bind(this.video.vulcanElem,"click",this.onClick)},r.prototype.destroyBindings=function(){return r.__super__.destroyBindings.apply(this,arguments),this.video.unbind("play",this.onPlay),this.video.unbind("pause",this.onPause),e.elem.unbind(this.video.vulcanElem,"click",this.onClick)},r.prototype.playSVG=function(){return'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 10 14.3" enable-background="new 0 0 10 14.3" xml:space="preserve" class="wistia_vulcan_svg_icon wistia_vulcan_svg_icon_play wistia_vulcan_svg_icon_play_small">\n<polygon points="0,0 0,14.3 10,7.5 "/>\n</svg>'},r.prototype.pauseSVG=function(){return'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 16.5 20" enable-background="new 0 0 16.5 20" xml:space="preserve" class="wistia_vulcan_svg_icon wistia_vulcan_svg_icon_pause">\n<g>\n\t<rect x="0" y="0" width="6" height="20"/>\n\t<rect x="10.5" y="0" width="6" height="20"/>\n</g>\n</svg>'},r}(e.Vulcan.Control))}(Wistia)},function(e,t){var i=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function i(){this.constructor=e}for(var n in t)r.call(t,n)&&(e[n]=t[n]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},r={}.hasOwnProperty;!function(e){e.Vulcan||(e.Vulcan={}),e.Vulcan.Still||(e.Vulcan.Still=function(t){function r(t,n){this.video=t,this.hide=i(this.hide,this),this.show=i(this.show,this),this.fitStill=i(this.fitStill,this),this._debounceFitStill=i(this._debounceFitStill,this),this._onStartPlay=i(this._onStartPlay,this),this._onClickVulcan=i(this._onClickVulcan,this),this.name="still",this.loaded=new e.StopGo,r.__super__.constructor.call(this,this.video,n),this.thumbnail=new e.Thumbnail(this.video.vulcanElem,{tabbable:!1,onActivate:this.activate,stillSnap:this.video._opts.stillSnap,images:this.video.thumbnailAssets(),name:this.video.name(),delayInit:!0}),this.thumbnail.hide(),e.elem.style(this.thumbnail.elem,{left:0,position:"absolute",top:0}),this.elem=this.thumbnail.elem,this.loaded=new e.StopGo,this.thumbnail.loaded(function(e){return function(){return e.loaded(!0)}}(this)),"function"==typeof this.setupBindings&&this.setupBindings()}return n(r,t),r.prototype.initialize=function(){return this.thumbnail.initialize(),this.fitStill(),this},r.prototype.setupBindings=function(){return"playing"===this.video.state()&&e.timeout(this.video.uuid+".hide_still",this.hide),this.video.bind("play",this.hide),this.video.bind("startplay",this._onStartPlay),e.elem.bind(this.video.vulcanElem,"click",this._onClickVulcan),this.video.bind("enter-fullscreen",this._debounceFitStill),this.video.bind("cancel-fullscreen",this._debounceFitStill),this.video.bind("heightchange",this.fitStill),this.video.bind("widthchange",this.fitStill)},r.prototype.destroyBindings=function(){return r.__super__.destroyBindings.apply(this,arguments),this.video?(this.video.unbind("play",this.hide),this.video.unbind("startplay",this._onStartPlay),e.elem.unbind(this.video.vulcanElem,"click",this._onClickVulcan),this.video.unbind("enter-fullscreen",this._debounceFitStill),this.video.unbind("cancel-fullscreen",this._debounceFitStill),this.video.unbind("heightchange",this.fitStill),this.video.unbind("widthchange",this.fitStill)):void 0},r.prototype._onClickVulcan=function(t){return 1===t.which&&e.elem.isInside(t.target,this.elem)?(this.video.showControls(),this.video.play()):void 0},r.prototype._onStartPlay=function(){return e.timeout(this.video.uuid+".delayed_hide_still",function(e){return function(){var t;return"beforeplay"!==(null!=(t=e.video)?t.state():void 0)?e.hide():void 0}}(this),1e3)},r.prototype._debounceFitStill=function(t){return null==t&&(t=250),e.timeout(this.video.uuid+".fitStill",function(e){return function(){return e.fitStill()}}(this),t)},r.prototype.fitStill=function(){return this.thumbnail.fit()},r.prototype.shouldShow=function(){return!("beforeplay"!==this.video.state()||this.video._opts.autoPlay&&this.video._replacing||this.video._opts.showFirstFrame)},r.prototype.show=function(){return this.shouldShow()?(this.thumbnail.show(),this.fitStill()):void 0},r.prototype.hide=function(){return this.thumbnail.hide()},r.prototype.mouseover=function(){},r.prototype.mouseout=function(){},r.prototype.remove=function(){return this.destroyBindings(),this.thumbnail.destroy(),this.thumbnail=null,this.elem=null,this.video=null},r.prototype.destroy=function(){return this.remove(),r.__super__.destroy.apply(this,arguments)},r}(e.Vulcan.Control))}(Wistia)},function(e,t,i){var n,r,o,s=function(e,t){return function(){return e.apply(t,arguments)}},a=function(e,t){function i(){this.constructor=e}for(var n in t)u.call(t,n)&&(e[n]=t[n]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},u={}.hasOwnProperty;i(1496),r=i(937),n=i(47).default.bindActionsToStore,o=i(154).default,function(e){e.Vulcan.VolumeControl||(e.Vulcan.VolumeControl=function(t){function i(t,r){this.video=t,this.savedVolume=s(this.savedVolume,this),this.updateSoundWaves=s(this.updateSoundWaves,this),this.stopDrag=s(this.stopDrag,this),this.onVolumeChange=s(this.onVolumeChange,this),this.onIsDraggingUpdated=s(this.onIsDraggingUpdated,this),this.onHoverEnd=s(this.onHoverEnd,this),this.onHoverStart=s(this.onHoverStart,this),this.toggleVolume=s(this.toggleVolume,this),this.onClick=s(this.onClick,this),this.onLevelUpdated=s(this.onLevelUpdated,this),r.iconElemTagName="button",this.name="volume2",i.__super__.constructor.call(this,this.video,r),this.svgLoaded=!1,this.triedToTurnOn=!1,this.iconElem.setAttribute("tabindex","0"),this.iconElem.setAttribute("aria-label","Mute"),this.iconElem.setAttribute("title","Mute"),this.iconElem.style.background="none",this.iconElem.style.cursor="pointer",this.actions=n(this.video.uuid,{root:o}),e.elem.removeClass(this.elem,"wistia_vulcan_control"),this.createElements(),this.setInitialStyles()}return a(i,t),i.prototype.destroy=function(){return this.destroySlider(),this.destroyBindings(),i.__super__.destroy.apply(this,arguments)},i.prototype.buildSlider=function(){var t;return t={level:this.savedVolume()},this.slider=new e.Vulcan.VolumeSlider(t),this.slider.bind("property:updated:level",this.onLevelUpdated),this.slider.bind("property:updated:isDragging",this.onIsDraggingUpdated),e.elem.append(this.elem,this.slider.elem),this.onVolumeChange()},i.prototype.onLevelUpdated=function(){return this.video.volume(this.slider.state.level)},i.prototype.destroySlider=function(){var e;return null!=(e=this.slider)&&e.destroy(),this.slider=null},i.prototype.createElements=function(){return this.createSVG()},i.prototype.createSVG=function(){var e,t;return t=new DOMParser,e=t.parseFromString(this.iconSVG(),"text/xml"),this.iconElem.appendChild(e.documentElement)},i.prototype.interactionState={hovering:!1,hasHoveredOff:!1,dragging:!1,muted:!1,startDragX:0,startDragVolume:0},i.prototype.setInitialStyles=function(){return e.elem.style(this.elem,{position:"relative"}),e.elem.addClass(this.elem,"w-control--volume")},i.prototype.initialize=function(){var t;if(!this.video._opts.chromeless&&e.util.notSetOrTrue(this.video._opts.volumeControl)){if(t=e.detect.ios.version>0,e.detect.android||t)return;this.video.ui.still.loaded(function(e){return function(){return e.turnOn()}}(this))}return this},i.prototype.cleanup=function(){return e.elem.unbind(document.body,"mousemove",this._onDragLevel),e.elem.unbind(document.body,"mouseup",this._onReleaseLevel),e.elem.unbind(document,"mouseout",this._onMouseLeavesWindow)},i.prototype.turnOn=function(){var t;return i.__super__.turnOn.apply(this,arguments),e.elem.addClass(this.elem,"w-is-visible"),this.buildSlider(),this.setupBindings(),t=null!=this.video._opts.volume?this.video._opts.volume:this.savedVolume(),this.video.volume(t)},i.prototype.turnOff=function(){return i.__super__.turnOff.apply(this,arguments),e.elem.removeClass(this.elem,"w-is-visible"),this.destroySlider(),this.destroyBindings()},i.prototype.setupBindings=function(){return this.bind("hoverstart",this.onHoverStart),this.bind("hoverend",this.onHoverEnd),this.video.bind("volumechange",this.onVolumeChange),e.elem.bind(this.iconElem,"click",this.onClick),i.__super__.setupBindings.call(this)},i.prototype.destroyBindings=function(){return this.unbind("hoverstart",this.onHoverStart),this.unbind("hoverend",this.onHoverEnd),this.video.unbind("volumechange",this.onVolumeChange),e.elem.unbind(this.iconElem,"click",this.onClick),i.__super__.destroyBindings.apply(this,arguments)},i.prototype.onClick=function(e){return e.preventDefault(),e.stopPropagation(),this.toggleVolume(),this.actions.root.closeAllMenus()},i.prototype.toggleVolume=function(){return 0===this.video.volume()?(this.updateLevel(this.previousVolume||1),this.iconElem.setAttribute("aria-label","mute"),this.iconElem.setAttribute("title","Mute")):(this.previousVolume=this.video.volume(),this.updateLevel(0),this.iconElem.setAttribute("aria-label","unmute"),this.iconElem.setAttribute("title","Unmute"))},i.prototype.onHoverStart=function(){return this.interactionState.isHovering=!0,this.slider.updateState({visible:!0,bottom:e.elem.height(this.video.ui.controlBar)}),this.actions.root.closeAllMenus()},i.prototype.onHoverEnd=function(){return this.interactionState.isHovering=!1,this.slider.state.isDragging?void 0:this.slider.updateState({visible:!1})},i.prototype.onIsDraggingUpdated=function(){return this.shouldHideSlider()?this.slider.updateState({visible:!1}):void 0},i.prototype.shouldHideSlider=function(){return!this.slider.state.isDragging&&this.slider.state.visible&&!this.interactionState.isHovering},i.prototype.onVolumeChange=function(){return this._on?this.video.elem().seeking?void 0:this.updateLevel(this.video.volume()):void 0},i.prototype.startDrag=function(){return null==this._onDragLevel&&(this._onDragLevel=function(e){return function(t){var i,n;return e.interactionState.dragging=!0,i=(t.pageX-e.interactionState.startDragX)/r.controlWidth,n=Math.min(1,Math.max(0,e.interactionState.startDragVolume+i)),e.updateLevel(n),e.video.volume(n)}}(this)),e.elem.bind(document.body,"mousemove",this._onDragLevel),null==this._onReleaseLevel&&(this._onReleaseLevel=function(t){return function(i){return t.saveVolume(),t.stopDrag(),e.elem.removeClass(t.elem,"is-mousedown")}}(this)),e.elem.bind(document.body,"mouseup",this._onReleaseLevel)},i.prototype.stopDrag=function(){return this.interactionState.dragging||this.onClick(),this.interactionState.dragging=!1,this.interactionState.hovering&&this.interactionState.hasHoveredOff&&this.onHoverEnd(),this._onDragLevel&&e.elem.unbind(document.body,"mousemove",this._onDragLevel),this._onReleaseLevel&&e.elem.unbind(document.body,"mouseup",this._onReleaseLevel),this._onMouseLeavesWindow?e.elem.unbind(document,"mouseout",this._onMouseLeavesWindow):void 0},i.prototype.updateLevel=function(e){return this.slider.updateState({level:e}),this.updateSoundWaves(e),this.updateAltAttribute(e),this.saveVolume()},i.prototype.updateAltAttribute=function(e){var t;return t="Volume ("+Math.round(100*e)+"%) - click and drag horizontally to change",this.elem.setAttribute("alt",t)},i.prototype.updateSoundWaves=function(t){return e.elem.removeClass(this.elem,"number-active-0"),e.elem.removeClass(this.elem,"number-active-1"),e.elem.removeClass(this.elem,"number-active-2"),e.elem.addClass(this.elem,"number-active-"+this.numberActive(t))},i.prototype.numberActive=function(e){var t;return t=0,e>0&&(t+=1),e>.55&&(t+=1),t},i.prototype.leftMostX=function(){return e.elem.offset(this.elem).left},i.prototype.saveVolume=function(){return e.localStorage("vulcan.volume",this.video.volume())},i.prototype.savedVolume=function(){var t;return this.on()&&null!=(t=e.localStorage("vulcan.volume"))?t:1},i.prototype.iconSVG=function(){return'<svg version="1.1" class="wistia_vulcan_svg wistia_vulcan_svg_volume" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 20.3 17.3" style="enable-background:new 0 0 20.3 17.3;" xml:space="preserve">\n  <g class="wistia_vulcan_svg_volume_speaker_group">\n    <g class="wistia_vulcan_svg_volume_speaker_group_inner">\n      <polygon class="wistia_vulcan_svg_volume_speaker" fill="#FFFFFF" points="4,7 0,7 0,11 4,11 8,15 8,3"/>\n      <g class="wistia_vulcan_svg_volume_waves">\n        <path class="wistia_vulcan_svg_volume_wave wistia_vulcan_svg_wave_1" stroke-width="2px" stroke-linecap="round" stroke-miterlimit="10" d="M13.2,3.5c0,0,1.1,2.5,1.1,5s-1.1,5-1.1,5" fill="none" stroke="#ffffff" />\n        <path class="wistia_vulcan_svg_volume_wave wistia_vulcan_svg_wave_2" stroke-width="2px" stroke-linecap="round" stroke-miterlimit="10" d="M17,1c0,0,1.7,3.8,1.7,7.5S17,16,17,16" fill="none" stroke="#ffffff" />\n        <g class="wistia_vulcan_svg_volume_x wistia_vulcan_svg_volume_wave">\n\n          <path fill="#ffffff" stroke-width="2px" stroke-linecap="round" stroke-miterlimit="10" d="M11.4,11.4c-0.1,0-0.3,0-0.4-0.1c-0.2-0.2-0.2-0.5,0-0.7l4.3-4.3c0.2-0.2,0.5-0.2,0.7,0 c0.2,0.2,0.2,0.5,0,0.7l-4.3,4.3C11.6,11.4,11.5,11.4,11.4,11.4z"/>\n          <path fill="#ffffff" stroke-width="2px" stroke-linecap="round" stroke-miterlimit="10" d="M15.7,11.4c-0.1,0-0.3,0-0.4-0.1L11,7c-0.2-0.2-0.2-0.5,0-0.7s0.5-0.2,0.7,0l4.3,4.3c0.2,0.2,0.2,0.5,0,0.7,C15.9,11.4,15.8,11.4,15.7,11.4z"/>\n        </g>\n      </g>\n    </g>\n  </g>\n</svg>'},i}(e.Vulcan.Control))}(Wistia)},function(e,t){var i=function(e,t){return function(){return e.apply(t,arguments)}};!function(e){e.Vulcan.VolumeSlider||(e.Vulcan.VolumeSlider=function(){function t(e){this.onMouseUp=i(this.onMouseUp,this),this.onMouseMove=i(this.onMouseMove,this),this.onMouseDown=i(this.onMouseDown,this),this.onBottomUpdated=i(this.onBottomUpdated,this),this.onVisibilityUpdated=i(this.onVisibilityUpdated,this),this.onBlur=i(this.onBlur,this),this.onFocus=i(this.onFocus,this),this.state=this.getInitialState(e),this.buildView(),this.setupBindings(),this.updateDisplays(),this.elem.setAttribute("tabindex","0"),this.elem.setAttribute("aria-label","Volume Slider"),this.elem.setAttribute("aria-valuemin",0),this.elem.setAttribute("aria-valuemax",100),this.elem.setAttribute("role","slider")}return t.prototype.getInitialState=function(t){var i;return i={level:0,isDragging:!1,bottom:0,visible:!1},e.extend(i,t)},t.prototype.buildView=function(){return this.elem=e.elem.fromObject({class:"wistia_vulcan_volume_slider"}),this.trackElem=e.elem.fromObject({class:"wistia_vulcan_volume_track"}),this.trackHitElem=e.elem.fromObject({class:"wistia_vulcan_volume_track_hit"}),this.levelElem=e.elem.fromObject({class:"wistia_vulcan_volume_level"}),this.grabberHitElem=e.elem.fromObject({class:"wistia_vulcan_volume_grabber_hit"}),this.grabberElem=e.elem.fromObject({class:"wistia_vulcan_volume_grabber"}),this.grabberDotElem=e.elem.fromObject({class:"wistia_vulcan_volume_dot_grabber"}),e.elem.append(this.grabberElem,this.grabberDotElem),e.elem.append(this.grabberHitElem,this.grabberElem),e.elem.append(this.levelElem,this.grabberHitElem),e.elem.append(this.trackHitElem,this.trackElem),e.elem.append(this.trackElem,this.levelElem),e.elem.append(this.elem,this.trackHitElem)},t.prototype.updateDisplays=function(){return this.updateSliderPosition()},t.prototype.updateSliderPosition=function(){var t,i;return t=e.elem.height(this.trackElem),i=this.state.level*t+"px",this.levelElem.style.height=i},t.prototype.levelFromMousePosition=function(t){var i,n;return n=e.elem.height(this.trackElem),i=e.elem.offset(this.trackElem).top-t.pageY+n,Math.max(0,Math.min(1,i/n))},t.prototype.setupBindings=function(){return e.elem.bind(this.trackHitElem,"mousedown",this.onMouseDown),e.elem.bind(this.elem,"focus",this.onFocus),e.elem.bind(this.elem,"blur",this.onBlur),this.bind("property:updated:level",this.onLevelUpdated),this.bind("property:updated:bottom",this.onBottomUpdated),this.bind("property:updated:visible",this.onVisibilityUpdated)},t.prototype.destroyBindings=function(){return e.elem.unbind(this.trackHitElem,"mousedown",this.onMouseDown),e.elem.unbind(this.elem,"focus",this.onFocus),e.elem.unbind(this.elem,"blur",this.onBlur),this._bindings={}},t.prototype.destroy=function(){return this.destroyBindings()},t.prototype.onFocus=function(){return this.updateState({visible:!0})},t.prototype.onBlur=function(){return this.updateState({visible:!1})},t.prototype.onVisibilityUpdated=function(){return this.state.visible?(e.elem.addClass(this.elem,"w-is-visible"),this.updateSliderPosition()):e.elem.removeClass(this.elem,"w-is-visible")},t.prototype.onLevelUpdated=function(){return this.updateSliderPosition(),this.elem.setAttribute("aria-valuenow",Math.floor(100*this.state.level.toFixed(2)))},t.prototype.onBottomUpdated=function(){return this.elem.style.bottom=this.state.bottom+"px"},t.prototype.onMouseDown=function(t){if(1===t.which)return t.preventDefault(),t.stopPropagation(),e.elem.offset(this.trackElem),e.elem.height(this.trackElem),e.elem.addClass(this.grabberElem,"is-mousedown"),this.updateState({isDragging:!0,level:this.levelFromMousePosition(t)}),e.elem.bind(document.body,"mousemove",this.onMouseMove),e.elem.bind(document,"mouseup",this.onMouseUp)},t.prototype.onMouseMove=function(e){return this.updateState({level:this.levelFromMousePosition(e)})},t.prototype.onMouseUp=function(t){return t.preventDefault(),t.stopPropagation(),e.elem.removeClass(this.grabberElem,"is-mousedown"),this.updateState({isDragging:!1}),e.elem.unbind(document.body,"mousemove",this.onMouseMove),e.elem.unbind(document,"mouseup",this.onMouseUp)},t}(),e.mixin(e.Vulcan.VolumeSlider.prototype,e.hasState))}(Wistia)},function(e,t){!function(e){e.Vulcan||(e.Vulcan={}),e.Vulcan.Colors=function(){function t(e){this.video=e}return t.prototype.white=function(){return new e.Color("ffffff")},t.prototype.gray=function(){return new e.Color("cccccc")},t.prototype.black=function(){return new e.Color("000000")},t.prototype.primary=function(){return new e.Color(this.video.playerColor())},t.prototype.secondary=function(){return this.primary().lighten(40)},t.prototype.tertiary=function(){
return this.primary().lighten(75)},t.prototype.quaternary=function(){return this.primary().darken(30)},t}()}(Wistia)},function(e,t,i){var n,r=function(e,t){return function(){return e.apply(t,arguments)}};i(734),n=i(107).getStoreForPlayerInstance,function(e){var t;if(null==(t=e.Vulcan)||!t.Control)e.Vulcan||(e.Vulcan={}),e.Vulcan.Control=function(){function t(t,i){this.video=t,null==i&&(i={}),this.hide=r(this.hide,this),this.show=r(this.show,this),this.destroy=r(this.destroy,this),this._onHoverEnd=r(this._onHoverEnd,this),this._onHoverStart=r(this._onHoverStart,this),this._onControlClick=r(this._onControlClick,this),this._onStoreChange=r(this._onStoreChange,this),this.updateActiveClass=r(this.updateActiveClass,this),this.apiInstanceId=r(this.apiInstanceId,this),this.options=this.getDefaultOptions(i),this.grid=this.video.grid,this.uuid=e.seqId("wistia_"+this.name+"_"),this.createBaseElements(),this._on=!1,this.isHidden=!0,this.store=n(this.video.uuid),this._unsubscribe=this.store.subscribe(this._onStoreChange)}return t.prototype.apiInstanceId=function(){return this.video.uuid},t.prototype.getDefaultOptions=function(t){var i;return i={tagName:"div",iconElemTagName:"div"},e.obj.merge(i,t)},t.prototype.createBaseElements=function(){return this.elem=e.elem.fromObject({tagName:this.options.tagName,id:this.uuid,class:"w-control"}),this.iconElem=e.elem.fromObject({tagName:this.options.iconElemTagName,class:"w-control--icon"}),e.elem.append(this.elem,this.iconElem)},t.prototype.setupBindings=function(){return this._hoverEvent=new e.Vulcan.HoverEvent(this.elem),this._hoverEvent.bind("hoverstart",this._onHoverStart),this._hoverEvent.bind("hoverend",this._onHoverEnd),this.video.rebind("control-clicked",this._onVideoControlClick),e.elem.bind(this.elem,"click",this._onControlClick),e.elem.bind(this.elem,"focus",this._onFocus)},t.prototype.destroyBindings=function(){return this.video&&this.video.unbind("control-clicked",this._onVideoControlClick),this.elem&&(e.elem.unbind(this.elem,"click",this._onControlClick),e.elem.unbind(this.elem,"focus",this._onFocus)),this._unsubscribe(),this._hoverEvent?(this._hoverEvent.unbind("hoverstart",this._onHoverStart),this._hoverEvent.unbind("hoverend",this._onHoverEnd),this._hoverEvent.destroy()):void 0},t.prototype.updateActiveClass=function(t){return t?e.elem.addClass(this.elem,"is-active"):e.elem.removeClass(this.elem,"is-active")},t.prototype._onStoreChange=function(){var e;return null!=(e=this.video)?e.trigger("store-change"):void 0},t.prototype._onControlClick=function(e){return e.preventDefault(),this.video.trigger("control-clicked",this.uuid)},t.prototype._onVideoControlClick=function(e){},t.prototype._onFocus=function(){},t.prototype._onHoverStart=function(e){return this.trigger("hoverstart")},t.prototype._onHoverEnd=function(){return this.trigger("hoverend")},t.prototype.destroy=function(){return this.cleanup(),this.destroyBindings(),this.store=this._hoverEvent=this.elem=this.iconElem=this.grid=this.video=null},t.prototype.cleanup=function(){},t.prototype.show=function(){return e.elem.addClass(this.elem,"w-is-visible")},t.prototype.shouldShow=function(){return!0},t.prototype.hide=function(){var t;return e.elem.removeClass(this.elem,"w-is-visible"),null!=(t=this.bubble)?t.hideFromParent():void 0},t.prototype.turnOn=function(){var e;return e=this._on,this._on=!0,this.isHidden=!1,this.show(),this._on!==e?(this.video.trigger("control-on",this.name),this.trigger("control-on",this.name)):void 0},t.prototype.turnOff=function(){var e;return e=this._on,this._on=!1,this.isHidden=!0,this.hide(),this._on!==e?(this.video.trigger("control-off",this.name),this.trigger("control-off",this.name)):void 0},t.prototype.on=function(){return this._on},t.prototype.off=function(){return!this._on},t.prototype.initialize=function(){return this},t.prototype.remove=function(){return e.elem.remove(this.elem)},t}(),e.mixin(e.Vulcan.Control.prototype,e.bindable)}(Wistia)},function(e,t,i){var n=function(e,t){return function(){return e.apply(t,arguments)}};!function(e){var t,r,o,s,a,u,l,c,d,h,p,f,m,g;t=e.Vulcan,e.Vulcan.VulcanUI||(i(1488),i(1497),i(1501),i(1493),i(1495),i(1487),i(1483),i(1485),i(1490),i(1492),i(1491),i(488),c=i(47).default,s=c.bindActionsToStore,o=c.bindAccessorsToStore,m=function(){return i(1468)},a=function(){return i(514).default},u=function(){return i(469).default},p=function(){return i(488).default},g=function(){return i(476).default},h=function(){return i(154).default},r=function(){return i(1465).default},f=function(){return i(470).default},d=function(){return i(1467).default},l=function(){return i(1462).default},e.Vulcan.VulcanUI=function(){function i(e,t){this.video=e,this.vulcanElem=t,this.forceShowControls=n(this.forceShowControls,this),this.showControls=n(this.showControls,this),this.getRegion=n(this.getRegion,this),this.showStatus=n(this.showStatus,this),this.createRegion=n(this.createRegion,this),this.apiInstanceId=n(this.apiInstanceId,this)}return i.prototype.initialize=function(){return this.actions=s(this.apiInstanceId(),{settings:p().actions.default,statusBar:g().actions.default,reportAProblem:d().actions,root:h()}),this.accessors=o(this.apiInstanceId(),{chapters:u().accessors,share:f().accessors.default,reportAProblem:d().accessors}),this.setupRegions(),this.setupControls().then(function(e){return function(){return e.resetControls()}}(this))},i.prototype.destroy=function(){var e,t,i,n;null!=(i=this.still)&&i.destroy(),this.destroyControls(),this.destroyRegions(),n=this.video.plugin;for(e in n)t=n[e],"function"==typeof t.destroyUI&&t.destroyUI();return this.video._controlsVisible=!1,this.video=this.vulcanElem=this.still=null},i.prototype.apiInstanceId=function(){return this.video.uuid},i.prototype.setupRegions=function(){return this.vulcanElem?(this.regions={},this.controlBar=e.elem.fromObject({class:"w-control-bar"}),this.rightMenuBar=e.elem.fromObject({class:"w-menu-bar"}),this.topMenuBar=e.elem.fromObject({class:"w-icon-rail"}),this.createRegion("iconRail",this.topMenuBar),this.createRegion("left",this.controlBar),this.createRegion("center",this.controlBar),this.createRegion("centerMobile",this.controlBar),this.createRegion("right",this.controlBar),this.createRegion("captions",this.regions.right),this.createRegion("volume",this.regions.right),this.createRegion("share",this.regions.right),this.createRegion("settings",this.regions.right),this.createRegion("airplay",this.regions.right),this.createRegion("chromecast",this.regions.right),this.createRegion("chapters",this.regions.right),this.createRegion("fullscreen",this.regions.right),this.createRegion("branding",this.regions.right),this.createRegion("thumbscrubber",this.regions.center),e.elem.append(this.vulcanElem,this.controlBar),e.elem.append(this.vulcanElem,this.rightMenuBar),e.elem.append(this.vulcanElem,this.topMenuBar)):void 0},i.prototype.createRegion=function(t,i){var n;return n=e.elem.fromObject({class:"w-control-bar__region w-control-bar__region--"+t}),this.regions[t]=n,e.elem.append(i,n),n},i.prototype.destroyRegions=function(){var t;for(t in this.regions)delete this.regions[t];return e.elem.remove(this.controlBar),e.elem.remove(this.rightMenuBar),e.elem.remove(this.topMenuBar)},i.prototype.showStatus=function(e){return this.actions.statusBar.showMessage(e)},i.prototype.setupControls=function(){return this.video.info("setupControls"),this._allControls=[],this._controls=[],this.video.publicApi._maybeAsyncChain(this.video.uuid+".init_controls",[function(t){return function(){return t.still=new e.Vulcan.Still(t.video)}}(this),function(e){return function(){return e.createControl(t.SmallPlayButton,"left","smallPlayButton")}}(this),function(e){return function(){return e.createControl(t.VolumeControl,"volume","volumeControl")}}(this),function(e){return function(){return e.createControl(t.AirplayButton,"airplay","airplayButton")}}(this),function(e){return function(){return e.createControl(t.ChromecastButton,"chromecast","chromecastButton")}}(this),function(e){return function(){return e.createControl(t.FullscreenButton,"fullscreen","fullscreenButton")}}(this),function(e){return function(){return e.createControl(t.PlaybarControl,"center","playbarControl")}}(this),function(e){return function(){return e.createControl(t.PlaybarPlaceholder,"centerMobile","playbarPlaceholder")}}(this),function(e){return function(){return e.createRegionlessControl(t.Loading,"loading")}}(this),function(e){return function(){return e.createRegionlessControl(t.ContextMenu,"contextMenu")}}(this),function(e){return function(){return e.initializeAllControls()}}(this),function(e){return function(){return e.unmountReportAProblem=d().mount(e.vulcanElem,e.apiInstanceId(),e.video.getReportAProblemData)}}(this),function(e){return function(){return e.unmountStatusBar=g().mount(e.vulcanElem,e.apiInstanceId())}}(this),function(e){return function(){return e.unmountBranding=a().mount(e.getRegion("right"),e.apiInstanceId())}}(this),function(e){return function(){return e.unmountChapters=u().mount(e.getRegion("chapters"),e.apiInstanceId())}}(this),function(e){return function(){return e.unmountChaptersMenu=u().mountMenu(e.rightMenuBar,e.apiInstanceId())}}(this),function(e){return function(){return e.unmountChaptersTitle=u().mountChapterTitle(e.getRegion("thumbscrubber"),e.apiInstanceId())}}(this),function(e){return function(){return e.unmountSettings=p().mount(e.getRegion("settings"),e.apiInstanceId())}}(this),function(e){return function(){return e.unmountBigPlayButton=r().mount(e.vulcanElem,e.apiInstanceId())}}(this),function(e){return function(){return e.unmountLogo=l().mount(e.getRegion("iconRail"),e.apiInstanceId())}}(this)]).then(function(t){return function(){return t.video.embedded(function(){return e.timeout(t.video.uuid+".init_still",function(){return t.still.initialize(),"transparent"!==t.video._opts.wmode?t.still.loaded(function(){return t.vulcanElem.style.backgroundColor="#000"}):void 0})}),t.video.ready(function(){return t.video&&t.volumeControl.off()&&null==t.video._opts.volume?t.video.volume(1):void 0})}}(this))},i.prototype.unmountComponents=function(){return"function"==typeof this.unmountReportAProblem&&this.unmountReportAProblem(),"function"==typeof this.unmountStatusBar&&this.unmountStatusBar(),"function"==typeof this.unmountBranding&&this.unmountBranding(),"function"==typeof this.unmountChapters&&this.unmountChapters(),"function"==typeof this.unmountChaptersMenu&&this.unmountChaptersMenu(),"function"==typeof this.unmountChaptersTitle&&this.unmountChaptersTitle(),"function"==typeof this.unmountSettings&&this.unmountSettings(),"function"==typeof this.unmountBigPlayButton?this.unmountBigPlayButton():void 0},i.prototype.getRegion=function(e){return this.regions[e]},i.prototype.createControl=function(t,i,n,r){var o,s;return null==r&&(r={}),"regionless"===i?this.createRegionlessControl(t,i):(s=r.prepend,r=this.getDefaultControlOptions(r),o=new t(this.video,r),s?e.elem.prepend(this.getRegion(i),o.elem):e.elem.append(this.getRegion(i),o.elem),this._allControls.push(o),this._controls.push(o),this[n]=o,o)},i.prototype.getDefaultControlOptions=function(t){var i;return i={},e.obj.merge(i,t)},i.prototype.destroyControls=function(){return"function"==typeof this.unmountComponents&&this.unmountComponents(),this._allControls.forEach(function(e){return function(t){return e.destroyControl(t)}}(this)),this._allControls=[],this._controls=[]},i.prototype.destroyControl=function(t){return e.elem.remove(t.elem),this._allControls=this.filterOutControl(this._allControls,t),this._controls=this.filterOutControl(this._controls,t),t.destroy()},i.prototype.filterOutControl=function(e,t){return e.filter(function(e){return e.name!==t.name})},i.prototype.createRegionlessControl=function(t,i){var n;return n=new t(this.video),this._allControls.push(n),e.elem.append(this.vulcanElem,n.elem),this[i]=n,n},i.prototype.initializeAllControls=function(){return this._allControls.forEach(function(e){return e.initialize()})},i.prototype.showControls=function(t){return null==t&&(t=!1),this.video.debug("showControls"),"beforeplay"!==this.video.state()&&e.timeout(this.video.uuid+".hide_controls_if_no_movement",function(e){return function(){return e.hideControls()}}(this),4e3),!this.video._controlsVisible&&(this.video._opts.controlsVisibleOnLoad||"beforeplay"!==this.video.state()||t)?(m().logImpressions(this.accessors,this.video._tracker,this.video._opts),e.elem.addClass(this.controlBar,"w-is-visible"),e.elem.addClass(this.rightMenuBar,"w-is-visible"),e.timeout(this.video.uuid+".add_not_transitioning_class",function(t){return function(){return e.elem.addClass(t.controlBar,"w-is-not-transitioning")}}(this),200),this.video.showCursor(),this.video._controlsVisible=!0):void 0},i.prototype.forceShowControls=function(){return this.showControls(!0)},i.prototype.hideControls=function(){return this.video?(this.video.info("hideControls"),this.actions.root.closeAllMenus(),e.clearTimeouts(this.video.uuid+".add_not_transitioning_class"),e.elem.removeClass(this.controlBar,"w-is-not-transitioning"),e.elem.removeClass(this.controlBar,"w-is-visible"),e.elem.removeClass(this.rightMenuBar,"w-is-visible"),this.video.inFullscreen()&&this.video.hideCursor(),this.video._controlsVisible=!1,this.video.trigger("controls-hidden")):void 0},i.prototype.removeControls=function(){var e,t,i,n,r;for(n=this._allControls,r=[],t=0,i=n.length;i>t;t++)e=n[t],r.push(e.remove());return r},i.prototype.resetControls=function(){return this.video.info("resetControls"),"beforeplay"===this.video.state()&&this.showStillOrFirstFrame(),this.video._opts.controlsVisibleOnLoad?this.showControls():this.hideControls()},i.prototype.showStillOrFirstFrame=function(){return this.video._opts.showFirstFrame?this.video.embedded(function(e){return function(){return e.video.engine.showFirstFrame()}}(this)):this.still.show()},i.prototype.fit=function(){var e;return null!=(e=this.still)?e.fitStill():void 0},i}())}(Wistia)},function(e,t,i){var n=function(e,t){return function(){return e.apply(t,arguments)}},r=function(e,t){function i(){this.constructor=e}for(var n in t)o.call(t,n)&&(e[n]=t[n]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},o={}.hasOwnProperty,s=[].slice;!function(e){var t,o,a,u,l,c,d,h,p,f,m,g,_,y,v,b;if(Object.defineProperties&&(e.Vulcan,!e.VulcanPlayer))t=i(31),e.SimpleVideo=i(221),e.ManualQualityVideo=i(310),e.TwoStrokeVideo=i(1458),i(1112),i(1113),i(1498),i(1494),i(1114),i(1486),i(1499),i(1482),i(607),m=i(25),m.cdnFastWistiaComHost,l=m.cdnFastWistiaNetHost,b=function(){return i(1168)},v=function(){return i(1701)},f=function(){return i(63).default},y=function(){return i(488).default},c=function(){return i(469).default},_=function(){return i(154).default},h=function(){return i(734)},d=function(){return i(1089)},p=function(){return i(1043).default},g=i(47).default,u=g.bindActionsToStore,a=g.bindAccessorsToStore,g.bindListenersToStore,o=i(183),e.VulcanPlayer=function(i){function m(e){this.getReportAProblemData=n(this.getReportAProblemData,this),this.videoQuality=n(this.videoQuality,this),this.setupFakeFullscreenBindings=n(this.setupFakeFullscreenBindings,this),this.forceShowControls=n(this.forceShowControls,this),this.getRegion=n(this.getRegion,this),this.setupUI=n(this.setupUI,this),this._onKeyDown=n(this._onKeyDown,this),this.onNewBreakpoint=n(this.onNewBreakpoint,this),this.setupAccessibility=n(this.setupAccessibility,this),this.chapters=n(this.chapters,this),this.removeChapter=n(this.removeChapter,this),this.addChapter=n(this.addChapter,this),this.getChapter=n(this.getChapter,this),this.chaptersVisibleOnLoad=n(this.chaptersVisibleOnLoad,this),this.chaptersEnabled=n(this.chaptersEnabled,this),this.bindActions=n(this.bindActions,this),m.__super__.constructor.apply(this,arguments),this.reduxBridge=new(p())(e,this.uuid),this.reduxBridge.subscribeToStoreChanges(),this.reduxBridge.subscribeToPublicApiEvents(),this.bindActions()}var g;return r(m,i),m.prototype.bindActions=function(){return this.actions=u(this.uuid,{player:f().actions,settings:y().actions.default,chapters:c().actions,root:_()}),this.accessors=a(this.uuid,{chapters:c().accessors,player:f().accessors})},m.prototype.playerType="vulcan",m.prototype.elem=function(){var e;return null!=(e=this.engine)?e.videoElem():void 0},m.prototype.playerElem=function(){return this.vulcanElem},m.prototype.embed=function(){return this.up(function(e){return function(){return e.publicApi._maybeAsyncChain(e.uuid+".embed",[function(){return e.resetStateVariables()},function(){return e.placeEmbed(e.createEmbedElem())},function(){return e.reduxBridge.sync()},function(){return e.setupEmbed()},function(){return e.reduxBridge.sync()},function(){return e.embedded(function(){return e.reduxBridge.sync()})}])}}(this))},m.prototype.rebuild=function(t){return null==t&&(t={}),this.info("rebuild"),this.embedded(function(t){return function(){return t.embedded(!1),t.ready(!1),t.destroyUI(),t._oldVideoElem=t.elem(),t.stopStreaming(),e.elem.remove(t.wrapperElem),t.wipeOutstandingAsyncFunctions(),t.embed()}}(this)),this},m.prototype.setupEmbed=function(){var t;return this.info("setupEmbed"),this.videoElem=this.engine.videoElem(),this.vulcanElem=document.getElementById(this.uuid+"_vulcan"),this.colors=new e.Vulcan.Colors(this),this.setupCss(),t=this.setupUI(),this.setupBindings(),this.setupAccessibility(),this.updateBreakpoint(),e.detect.iphone||e.detect.ipad||this.disableTextTracks(),this._oldVideoElem&&(this.trigger("rebuild",this._oldVideoElem,this.engine.videoElem()),this._oldVideoElem=null),t.then(function(t){return function(){var i,n,r;return r=function(){var e,t;e=this.plugin,t=[];for(i in e)n=e[i],t.push(n);return t}.call(t),t.callPlayerDidEmbedOnPlugins(r).then(function(){return e.timeout(t.uuid+".finish_embedding",function(){return t.info("embedded"),t.reduxBridge.syncEmbedDimensions(),t.embedded(!0),t.checkForReady()},0)})}}(this)),e.timeout(this.uuid+".fit_later",function(e){return function(){return e.fit()}}(this),500)},m.prototype.callPlayerDidEmbedOnPlugins=function(t,i){var n,r,o;return null==t&&(t=[]),null==i&&(i=new e.StopGo),0===t.length?i.go():(r=t.shift(),o=function(){try{return"function"==typeof r.playerDidEmbed?r.playerDidEmbed():void 0}catch(e){return n=e,this.error(n),null}}.call(this),o&&o.then&&o.go?o.then(function(e){return function(){return e.callPlayerDidEmbedOnPlugins(t,i)}}(this)):this.callPlayerDidEmbedOnPlugins(t,i)),i},m.prototype.checkForReady=function(){return this._checkDownState(),this.up(function(e){return function(){return e.embedded(function(){return e.engine.onReady().then(function(){return e.ready(!0)})})}}(this))},m.prototype.chaptersEnabled=function(e){return void 0!==e?this.actions.chapters.setIsVisible(e):this.accessors.chapters.getIsVisible()},m.prototype.chaptersVisibleOnLoad=function(e){return void 0!==e?this.actions.chapters.setIsVisibleOnLoad(e):this.accessors.chapters.getIsVisibleOnLoad()},m.prototype.getChapter=function(e){return this.accessors.chapters.getChapterById(e)},m.prototype.addChapter=function(e){return this.actions.chapters.addChapter(e)},m.prototype.removeChapter=function(e){return this.actions.chapters.removeChapter(e)},m.prototype.chapters=function(e){return e?this.actions.chapters.setChapters(e):this.accessors.chapters.getChapters()},m.prototype.customerLogo=function(e){return this.actions.player.setEmbedOptionFor("showCustomerLogo",e)},m.prototype.setupAccessibility=function(){return this._accessibilityHelper=new e.Vulcan.AccessibilityHelper(this)},m.prototype.transferStateFrom=function(e){return this._heightBeforeFullscreen=e._heightBeforeFullscreen,this._widthBeforeFullscreen=e._widthBeforeFullscreen,this._inFullscreen=e._inFullscreen,e._inFullscreen?this.notFullscreen(function(e){return function(){return e.width(e._widthBeforeFullscreen),e.height(e._heightBeforeFullscreen)}}(this)):void 0},m.prototype.createEmbedElem=function(){var t,i;return i={id:this.uuid+"_vulcan",style:{background:"transparent",display:"block",height:"100%",overflow:"hidden",position:"relative",width:"100%"}},t=e.elem.fromObject(i),this._preloadPreference=this.preloadValue(),this.engine=this.initializeEngine(t),this.engine.root},m.prototype.initializeEngine=function(t){var i,n;return i=o.bestUsableEngineClass(this.publicApi.judyCtx(),this._mediaData,this._opts),n=new i(t,this._mediaData,this.engineAttributes()),this.embedded(function(e){return function(){return e.ui.actions.settings.setValueFor("videoQuality",e.engine.currentAsset().slug)}}(this)),n.bind("stream-changed",function(t){return function(i){var r,o;if(t.ui)return i?t.ui.actions.settings.setValueFor("videoQuality",i.slug):null!=(null!=(r=n.hls)?r.startLevel:void 0)&&isNaN(null!=(o=n.hls)?o.startLevel:void 0)&&!t.publicApi._triedStartLevelFix?(t.publicApi._triedStartLevelFix=!0,t.error("no asset set with stream-changed; startLevel is NaN. rebuilding player.",n.hls.startLevel),t.error("startLevel",n.hls.startLevel),t.error("levels",n.hls.levels),e.timeout(t.uuid+".rebuild_soon",function(){return t.rebuild()},1e3)):null!=n.hls&&null==n.hls.startLevel?t.error("stream changed - hls.startLevel is undefined"):void 0}}(this)),n},m.prototype.engineAttributes=function(){var i,n,r,o,s,a,u;return u=this._opts.videoQuality?this._opts.videoQuality:this._opts.videoFoam||this.videoWidth()>=720?"md":null,s=this.bandwidthTest().isFresh()?this.bandwidthTest().savedResult().clientKbps:null,a=this._mediaData.secondaryMediaData?e.obj.clone(this._mediaData.secondaryMediaData):this._opts.secondaryVideoUrl?(n=e.obj.clone(this._mediaData),r=this.originalAsset(),n.assets=[{container:"mp4",ext:"mp4",codec:"x264",public:!0,url:this._opts.secondaryVideoUrl,height:r.height,width:r.width,type:"mp4_video",display_name:t.numericSizeSnapped(r.width,r.height)+"p",status:t.READY,created_at:(new Date).getTime()}],n):null,i=(null!=(o=this._opts.twoStroke)?o.layoutTiming:void 0)?this._opts.twoStroke.layoutTiming:this._opts.layoutTiming,{hashedId:this.hashedId(),loop:"loop"===this._opts.endVideoBehavior,playsinline:this._opts.playsinline,preload:this._preloadPreference,duration:this._mediaData.duration,trimStart:this._opts.trimStart,trimEnd:this._opts.trimEnd,width:this.videoWidth(),height:this.videoHeight(),videoQuality:u,savedBandwidth:s,qualityMin:this._attrs.qualityMin,qualityMax:this._attrs.qualityMax,secondaryMediaData:a,layoutTiming:i}},m.prototype.preloadValue=function(){var t,i,n,r,o;return r=this._opts.autoPlay&&!this.publicApi.popover&&this.looksUp()?"auto":null!=this._opts.preload?this._opts.preload:this._mediaData.preloadPreference,this._mediaData.spherical?this._opts._inIframe?"none":(t=function(){var t,n;t=e.data("video"),n=[];for(i in t)o=t[i],n.push(o);return n}(),t.length>1?"none":"auto"):"metadata"===r?"metadata":!0===r||"auto"===r?"auto":!1===r||"none"===r?"none":(t=function(){var t,n;t=e.data("video"),n=[];for(i in t)o=t[i],n.push(o);return n}(),this._opts._inIframe&&top!==parent?"none":this._opts._inIframe&&e.util.parentFramesLength()>25?"none":this._opts._inIframe&&(!window._allIframes||_allIframes.length>2)?"none":!this._opts._inIframe&&t.length>2?"none":(null!=(n=this._mediaData.stats)?n.loadCount:void 0)>5e3&&this._mediaData.stats.uniquePlayCount/this._mediaData.stats.uniqueLoadCount<.1?"none":"metadata")},e.detect.chrome&&"metadata"===g&&!m.plugin.hlsVideo&&(g="none"),m.prototype.videoDimension=function(){return this._mediaData.spherical?";dimension=360;":""},m.prototype.setupBindings=function(){return this.setupPlayerApiBindings(),this.setupDomBindings(),this.setupVideoBindings(),this.setupFullscreenBindings(),this.setupKeyBindings()},m.prototype.setupPlayerApiBindings=function(){return this.listenForEvents(),e.timeout(this.uuid+".poll_for_events",function(e){return function(){return e.pollForEvents()}}(this))},m.prototype.setupMouseBindings=function(){return null==this._onMouseLeavesWindow&&(this._onMouseLeavesWindow=function(e){return function(t){var i;return i=t.relatedTarget||t.toElement,i&&"HTML"!==i.nodeName||(e.debug("_onMouseLeavesWindow",i),e._mouseover=!1,e._keyBindingsActive=!1),!0}}(this)),e.elem.rebind(document,"mouseout",this._onMouseLeavesWindow),null==this._onMouseoverVideo&&(this._onMouseoverVideo=function(t){return function(i){return e.elem.containsOffset(t.vulcanElem,i.pageX,i.pageY)&&(t.debug("_onMouseoverVideo",i.pageX,i.pageY),t._keyBindingsActive=!0,t._mouseover=!0),!0}}(this)),e.elem.rebind(this.vulcanElem,"mouseover",this._onMouseoverVideo),null==this._onMousemoveVideo&&(this._onMousemoveVideo=function(t){return function(i){return e.elem.containsOffset(t.vulcanElem,i.pageX,i.pageY)&&(t.debug("_onMousemoveVideo",i.pageX,i.pageY),t._keyBindingsActive=!0,t._mouseover=!0),!0}}(this)),e.elem.rebind(this.vulcanElem,"mousemove",this._onMousemoveVideo),null==this._onMouseoutVideo&&(this._onMouseoutVideo=function(t){return function(i){return e.elem.containsOffset(t.vulcanElem,i.pageX,i.pageY)||(t.debug("_onMouseoutVideo",i.pageX,i.pageY),t._keyBindingsActive=!1,t._mouseover=!1),!0}}(this)),e.elem.rebind(this.vulcanElem,"mouseout",this._onMouseoutVideo),null==this._onClickVideo&&(this._onClickVideo=function(e){return function(t){return e.engine.isSourceOfBrowserEvent(t)&&!e._suppressVideoClicks&&(e.debug("_onClickVideo"),e.togglePlay(),e.showControls(),e.actions.root.closeAllMenus()),!0}}(this)),e.elem.rebind(this.vulcanElem,"click",this._onClickVideo),null==this._onDblClickVideo&&(this._onDblClickVideo=function(e){return function(t){return e.engine.isSourceOfBrowserEvent(t)&&!e._suppressVideoClicks&&(e.debug("_onDblClickVideo"),e.ui.fullscreenButton.on()&&(e.inFullscreen()?e.cancelFullscreen():e.requestFullscreen())),!0}}(this)),e.elem.rebind(this.vulcanElem,"dblclick",this._onDblClickVideo),null==this._showControlsOnMouseover&&(this._showControlsOnMouseover=function(e){return function(t){return"beforeplay"!==e.state()&&(e.debug("_showControlsOnMouseover"),e.showControls()),!0}}(this)),e.elem.rebind(this.vulcanElem,"mouseover",this._showControlsOnMouseover),null==this._hideControlsOnMouseout&&(this._hideControlsOnMouseout=function(t){return function(i){return t.inFullscreen()?(t.debug("_hideControlsOnMouseout -- in fullscreen, so showControls"),t.showControls()):(t.debug("_hideControlsOnMouseout"),t._calledPlay&&!e.elem.containsOffset(t.vulcanElem,i.pageX,i.pageY)&&t.hideControls()),!0}}(this)),e.elem.rebind(this.vulcanElem,"mouseout",this._hideControlsOnMouseout),null==this._showControlsOnMousemove&&(this._showControlsOnMousemove=function(e){return function(t){return e._calledPlay&&!e._suppressShowControls?(e.debug("_showControlsOnMousemove"),e.showControls()):void 0}}(this)),e.elem.rebind(this.vulcanElem,"mousemove",this._showControlsOnMousemove)},m.prototype.setupTouchBindings=function(){return null==this._onTapVideo&&(this._onTapVideo=function(t){return function(i){var n;return e.detect.ios.version>0&&t.getIsSpherical()?(n="https://"+l()+"/360/"+t.hashedId(),i.preventDefault(),i.stopPropagation(),t.trigger("sphericaltap",n),!1):t.engine.isSourceOfBrowserEvent(i)?t.toggleControls():t.engine.isSourceOfBrowserEvent(i)?void 0:t.showControls()}}(this)),e.elem.rebind(this.vulcanElem,"touchend",this._onTapVideo),this.getIsFullscreenOnRotateToLandscape()&&(null==this._onOrientationChange&&(this._onOrientationChange=function(e){return function(t){if(e._fullscreenResizeToWindow(),-90===window.orientation||90===window.orientation){if("playing"!==e.state())return;return e.requestFullscreen()}return e.cancelFullscreen()}}(this)),window.screen.orientation?e.elem.rebind(window.screen.orientation,"change",this._onOrientationChange):e.elem.rebind(window,"orientationchange",this._onOrientationChange)),null==this._onWebkitBeginFullscreen&&(this._onWebkitBeginFullscreen=function(e){return function(){return e._widthBeforeFullscreen=e.width(),e._heightBeforeFullscreen=e.height(),e._inFullscreen=!0}}(this)),this.engine.bind("webkitbeginfullscreen",this._onWebkitBeginFullscreen),null==this._onWebkitEndFullscreen&&(this._onWebkitEndFullscreen=function(e){return function(){return e._onCancelFullscreen()}}(this)),this.engine.bind("webkitendfullscreen",this._onWebkitEndFullscreen)},m.prototype.setupDomBindings=function(){return e.detect.touchScreen?this.setupTouchBindings():this.setupMouseBindings(),null==this._fullscreenResizeToWindow&&(this._fullscreenResizeToWindow=function(t){return function(i){return t.inFullscreen()?(t.debug("_fullscreenResizeToWindow"),t.width(e.elem.width(window),{fullscreen:!0,dontChangeContainer:!0}),t.height(e.elem.height(window),{fullscreen:!0,dontChangeContainer:!0})):void 0}}(this)),e.elem.rebind(window,"resize",this._fullscreenResizeToWindow)},m.prototype.getAllowFakeFullscreen=function(){return e.detect.ios.version>=10},m.prototype.getIsMultistream=function(){return null!=this._opts.secondaryVideoUrl},m.prototype.getIsSpherical=function(){return null!=this.plugin.sphericalVideo},m.prototype.getIsFullscreenOnRotateToLandscape=function(){return!(e.detect.ios.version>0&&e.detect.ios.version<10)&&(null!=this._opts.fullscreenOnRotateToLandscape?this._opts.fullscreenOnRotateToLandscape:!this.getIsSpherical())},m.prototype.setupVideoBindings=function(){return this.engine.getPreload()?this._startedLoadingAt=(new Date).getTime():this.bind("play",function(e){return function(){return e._startedLoadingAt=(new Date).getTime(),e.unbind}}(this)),this.bind("timechange",function(e){return function(){return e.actions.player.setVideoProgress(e.time()/e.duration())}}(this)),this.bind("progress",function(t){return function(){return t.engine.anyBuffered()?(t._firstByteReceivedAt=(new Date).getTime(),null!=t._startedLoadingAt&&(t._timeToFirstByte=t._firstByteReceivedAt-t._startedLoadingAt),e.elem.unbind):void 0}}(this)),this.bind("playbackratechange",function(e){return function(t){return e.actions.settings.setValueFor("playbackRate",t)}}(this)),this.bind("waiting",function(t){return function(i){return!t._noDataFor5Seconds&&i>=5&&!t.receivedAnyVideoData()&&(t._noDataFor5Seconds=!0,e.Metrics.videoCount(t,"player/no-data/5-seconds")),!t._noDataFor10Seconds&&i>=10&&!t.receivedAnyVideoData()&&(t._noDataFor10Seconds=!0,e.Metrics.videoCount(t,"player/no-data/10-seconds")),!t._noDataFor15Seconds&&i>=15&&!t.receivedAnyVideoData()?(t._noDataFor15Seconds=!0,e.Metrics.videoCount(t,"player/no-data/15-seconds")):void 0}}(this)),this.bind("widthchange",function(e){return function(t){return e.onWidthChange(t)}}(this)),this.bind("heightchange",function(e){return function(t){return e.onHeightChange(t)}}(this)),this.bind("playercolorchange",function(e){return function(){return e.onPlayerColorChange()}}(this)),e.bind("enter-fullscreen",this.onEnterFullscreen),this.embedded(function(e){return function(){return e.bandwidthTest().isFresh()?e._supportsHd=e.bandwidthTest().savedResult().supportsHd:e.hdAsset()&&null==e._supportsHd?e.bind("play",function(){return e.doBandwidthTest(),e.unbind}):void 0}}(this)),this.bind("play",function(e){return function(){return e._beforePlay=!1,e._ended=!1}}(this)),this.bind("end",function(e){return function(){return"reset"===e._opts.endVideoBehavior?e.resetToFirstFrame():void 0}}(this)),this.bind("switched-to-asset",function(e){return function(){var t;return null!=(t=e.actions)?t.settings.setValueFor("videoQuality",e.engine.currentAsset().slug):void 0}}(this))},m.prototype.isMediaDataUsingEmbedSsl=function(){var e,t,i,n;for(n=this._mediaData.assets,t=0,i=n.length;i>t;t++)if(e=n[t],e.url&&/embed-ssl\.wistia\.com/.test(e.url))return!0;return!1},m.prototype.onNewBreakpoint=function(e,t){return this.updateBreakpointClass(e,t)},m.prototype.updateBreakpointClass=function(t,i){return i.forEach(function(t){return function(i){var n;return n="bp-"+i,e.elem.removeClass(t.vulcanElem,n)}}(this)),this.addBreakpointClass(t)},m.prototype.addBreakpointClass=function(t){return e.elem.addClass(this.vulcanElem,"bp-"+t)},m.prototype.onWidthChange=function(e){return this.engine.onWidthChange(e),this.updateBreakpoint(),this.reduxBridge.syncEmbedDimensions(),
this.accessors.player.getResponsiveClassNames(),this.updateBreakpoint()},m.prototype.onHeightChange=function(e){return this.engine.onHeightChange(e)},m.prototype.updateBreakpoint=function(){var t,i,n,r,o,s,a;for(i=this.accessors.player.getResponsiveClassNames(),t=i.split(" "),n=/bp\-\d{3,4}/,a=e.elem.classes(this.vulcanElem),o=0,s=a.length;s>o;o++)r=a[o],r.match(n)&&e.elem.removeClass(this.vulcanElem,r);return e.elem.addClass(this.vulcanElem,t.pop())},m.prototype.setupFullscreenBindings=function(){return null==this._onEnterFullscreen&&(this._onEnterFullscreen=function(t){return function(i){return i===t.chrome&&(t.info("_onEnterFullscreen"),t.trigger("before-enter-fullscreen"),t._inFullscreen=!0,t.notFullscreen(!1),t.injectFullscreenStyles(),t.showControls(),t.width(e.elem.width(window),{fullscreen:!0}),t.height(e.elem.height(window),{fullscreen:!0}),t.engine.onEnterFullscreen(),"Auto"===t.engine.selectedAsset().slug||t._forceAsset||t.switchToAsset(t.engine.defaultAsset()),t.trigger("enter-fullscreen")),!0}}(this)),e.bind("enter-fullscreen",this._onEnterFullscreen),null==this._onCancelFullscreen&&(this._onCancelFullscreen=function(e){return function(){return e._inFullscreen&&(e.info("_onCancelFullscreen"),e._inFullscreen=!1,e.hideControls(),e.engine.onLeaveFullscreen(),"Auto"===e.engine.selectedAsset().slug||e._forceAsset||e.switchToAsset(e.engine.defaultAsset()),e.showControls(),e.notFullscreen(!0),e.removeFullscreenStyles(),e.width(e._widthBeforeFullscreen),e.height(e._heightBeforeFullscreen),e.fit(),e.trigger("cancel-fullscreen")),!0}}(this)),e.bind("cancel-fullscreen",this._onCancelFullscreen)},m.prototype.onPlayerColorChange=function(){return this.updateColorsCss()},m.prototype.injectFullscreenStyles=function(){var t,i,n,r,o;if(!this._fullscreenStyle){for(document.body.id||(this._docBodyId=e.seqId("wistia_","_tmp_body_id"),document.body.setAttribute("id",this._docBodyId)),t="#"+document.body.id+", #"+document.body.id+" :full-screen-ancestor {\n  animation-name: none;\n  -webkit-animation-name: none;\n  transform: none;\n  -webkit-transform: none;\n}",r=["webkit","moz","ms","o"],i=0,n=r.length;n>i;i++)o=r[i],t+="#"+document.body.id+" :-"+o+"-full-screen-ancestor {\n  animation-name: none;\n  -webkit-animation-name: none;\n  transform: none;\n  -webkit-transform: none;\n}\n";return this._fullscreenStyle=e.css(this.wrapperElem,t)}},m.prototype.removeFullscreenStyles=function(){return this._fullscreenStyle?(this._docBodyId&&document.body.id===this._docBodyId&&(document.body.removeAttribute("id"),this._docBodyId=null),e.elem.remove(this._fullscreenStyle),this._fullscreenStyle=null):void 0},m.prototype.setupKeyBindings=function(){return this._keyHeld=!1,e.elem.rebind(document,"keydown",this._onKeyDown)},m.prototype._onKeyDown=function(e){var t,i,n;if(i=/^(input|textarea|select)$/i.test(null!=(n=document.activeElement)?n.tagName:void 0),this._keyBindingsActive&&!i)switch(t=h(),e.which){case t.KEY_CODE_SPACE:return this._handleSpacebarEvent(e);case t.KEY_CODE_LEFT:return this._handleArrowEvent("left",e);case t.KEY_CODE_RIGHT:return this._handleArrowEvent("right",e);case t.KEY_CODE_UP:return this._handleArrowEvent("up",e);case t.KEY_CODE_DOWN:return this._handleArrowEvent("down",e);case t.KEY_CODE_F:case t.KEY_CODES_F11:return this.requestFullscreen();case t.KEY_CODE_ENTER:if(e.altKey||e.metaKey)return this.requestFullscreen()}},m.prototype._handleSpacebarEvent=function(e){return this.togglePlay(),this.showControls(),e.preventDefault()},m.prototype._handleArrowEvent=function(t,i){var n,r;if(!this.getIsSpherical()&&("left"!==t&&"right"!==t||this.ui.playbarControl.on())&&("up"!==t&&"down"!==t||this.ui.volumeControl.on())){this._registerKeydown(t),r="_"+t+"ArrowEventHandler";try{this[r](i)}catch(t){n=t,e.error(n)}return i.preventDefault(),this.showControls()}},m.prototype._registerKeydown=function(t){return e.timeout(this.uuid+"."+t+"_key_held",function(e){return function(){return e._keyHeld=!0}}(this),200),e.elem.bind(document,"keyup",function(i){return function(n){return e.clearTimeouts(i.uuid+"."+t+"_key_held"),i._keyHeld=!1,e.elem.unbind}}(this))},m.prototype._leftArrowEventHandler=function(e){return this.time(this.time()-this._getTimeIncrement(e)),this.trigger("keyboard:timechange",this.time(),this.duration())},m.prototype._rightArrowEventHandler=function(e){return this.time(this.time()+this._getTimeIncrement(e)),this.trigger("keyboard:timechange",this.time(),this.duration())},m.prototype._getTimeIncrement=function(e){return"playing"===this.state()?e.shiftKey||this._keyHeld?this.fastTimeDiff(this.duration()):this.slowTimeDiff(this.duration()):e.shiftKey?1:1/24},m.prototype._upArrowEventHandler=function(e){return this.volume(this.volume()+this._getVolumeIncrement(e))},m.prototype._downArrowEventHandler=function(e){return this.volume(this.volume()-this._getVolumeIncrement(e))},m.prototype._getVolumeIncrement=function(e){return e.shiftKey?.1:.01},m.prototype.setupUI=function(){return this.ui=new e.Vulcan.VulcanUI(this,this.vulcanElem),this.ui.initialize().then(function(e){return function(){return e.ui.still.loaded(function(){return e.actions.player.setIsUIReady(!0)})}}(this))},m.prototype.getStill=function(){return this.ui.still},m.prototype.resetControls=function(){return this.ui.resetControls()},m.prototype.controlEnabled=function(e,t){return null!=t&&this.ui&&(this.info("controlEnabled",e,t),t?this.ui[e].turnOn():this.ui[e].turnOff(),this._opts.controlsVisibleOnLoad||"beforeplay"!==this.state())?this.showControls():void 0},m.prototype.bigPlayButtonEnabled=function(e){return this.actions.player.setEmbedOptionFor("bigPlayButtonControl",e),this},m.prototype.bigPlayButtonTimeEnabled=function(e){return this.actions.player.setEmbedOptionFor("hasBigPlayButtonTime",e),this},m.prototype.smallPlayButtonEnabled=function(e){return this.controlEnabled("smallPlayButton",e),this},m.prototype.playbarControlEnabled=function(e){return this.controlEnabled("playbarControl",e),this},m.prototype.settingsControlEnabled=function(e){return this.actions.player.setEmbedOptionFor("settingsControl",e),this},m.prototype.playbackRateControlEnabled=function(e){return this.actions.player.setEmbedOptionFor("playbackRateControl",e),this},m.prototype.qualityControlEnabled=function(e){return this.actions.player.setEmbedOptionFor("qualityControl",e),this},m.prototype.volumeControlEnabled=function(e){return this.controlEnabled("volumeControl",e),this},m.prototype.fullscreenButtonEnabled=function(e){return this.controlEnabled("fullscreenButton",e),this},m.prototype.getRegion=function(e){return this.ui.getRegion(e)},m.prototype.createControl=function(e,t,i){return this.ui.createControl(e,t,null,i)},m.prototype.destroyControl=function(e){var t;return null!=(t=this.ui)?t.destroyControl(e):void 0},m.prototype.toggleControls=function(){return this._controlsVisible?this.hideControls():this.showControls()},m.prototype.showControls=function(){var e;return null!=(e=this.ui)&&e.showControls(),this.trigger("show-controls")},m.prototype.forceShowControls=function(){return this.ui.forceShowControls()},m.prototype.previewControls=function(){return this.info("previewControls"),this._previewControls=!0,this.showControls(),this._previewControls=!1},m.prototype.hideControls=function(){return this.ui.hideControls(),this.trigger("hide-controls")},m.prototype.hideCursor=function(){return this.info("hideCursor"),this._suppressShowControls=!0,this._embedContainer.style.cursor="none",e.timeout(this.uuid+".suppress_show_controls",function(e){return function(){return e._suppressShowControls=!1}}(this),500)},m.prototype.showCursor=function(){return this._embedContainer.style.cursor=""},m.prototype.listenForEvents=function(){return null==this.playRelay&&(this.playRelay=function(e){return function(){return e._hasPlayed=!0,e._ended=!1,e.trigger("play")}}(this)),null==this.pauseRelay&&(this.pauseRelay=function(e){return function(){return e.fireTimeChangedEventsIfChanged(),e.trigger("pause")}}(this)),null==this.endRelay&&(this.endRelay=function(e){return function(){return e.fireTimeChangedEventsIfChanged(),e.trigger("end"),e.trigger("afterend")}}(this)),null==this.ratechangeRelay&&(this.ratechangeRelay=function(e){return function(){return e.trigger("ratechange",e.playbackRate())}}(this)),null==this.volumechangeRelay&&(this.volumechangeRelay=function(e){return function(){return e.engine.isSeeking()?void 0:e.trigger("volumechange",e.volume())}}(this)),null==this.progressRelay&&(this.progressRelay=function(e){return function(){return e.trigger("progress")}}(this)),null==this.beforeplayRelay&&(this.beforeplayRelay=function(e){return function(){return e.trigger("beforeplay")}}(this)),null==this.waitingRelay&&(this.waitingRelay=function(e){return function(){return e.trigger.apply(e,["waiting"].concat(s.call(arguments)))}}(this)),null==this.waitingDoneRelay&&(this.waitingDoneRelay=function(e){return function(){return e.trigger.apply(e,["done-waiting"].concat(s.call(arguments)))}}(this)),this.unbindVideoListeners(),this.info("listenForEvents"),this.engine.bind("beforeplay",this.beforeplayRelay),this.engine.bind("pause",this.pauseRelay),this.engine.bind("playing",this.playRelay),this.engine.bind("ended",this.endRelay),this.engine.bind("volumechange",this.volumechangeRelay),this.engine.bind("ratechange",this.ratechangeRelay),this.engine.bind("progress",this.progressRelay),this.engine.bind("custom-waiting",this.waitingRelay),this.engine.bind("custom-done-waiting",this.waitingDoneRelay)},m.prototype.unbindVideoListeners=function(){return this.info("unbindVideoListeners"),this.engine.unbind("pause",this.pauseRelay),this.engine.unbind("playing",this.playRelay),this.engine.unbind("ended",this.endRelay),this.engine.unbind("volumechange",this.volumechangeRelay),this.engine.unbind("ratechange",this.ratechangeRelay),this.engine.unbind("progress",this.progressRelay),this.engine.unbind("custom-waiting",this.waitingRelay),this.engine.unbind("custom-done-waiting",this.waitingDoneRelay)},m.prototype.unbindListeners=function(){return this.info("unbindListeners"),this.unbindVideoListeners(),e.elem.unbindAll(this.vulcanElem),e.elem.unbind(this.vulcanElem,"mouseover",this._showControlsOnMouseover),e.unbind("enter-fullscreen",this._onEnterFullscreen),e.unbind("cancel-fullscreen",this._onCancelFullscreen),e.elem.unbind(window,"resize",this._fullscreenResizeToWindow),e.elem.unbind(document,"keydown",this._onKeyDown),null!=this._onMouseLeavesWindow&&e.elem.unbind(document,"mouseout",this._onMouseLeavesWindow),null!=this._onOrientationChange&&(window.screen.orientation?e.elem.unbind(window.screen.orientation,"change",this._onOrientationChange):e.elem.unbind(window,"orientationchange",this._onOrientationChange)),null!=this._onWebkitBeginFullscreen&&this.engine.unbind("webkitbeginfullscreen",this._onWebkitBeginFullscreen),null!=this._onWebkitEndFullscreen?this.engine.unbind("webkitendfullscreen",this._onWebkitEndFullscreen):void 0},m.prototype.pollForEvents=function(){return this.info("pollForEvents"),this.setupWaitingDetection(),e.eventLoop.add(this.uuid+".events",this._eventLoopDuration,function(e){return function(){var t;return!e.looksDown()&&(t=e.state(),t!==e._lastState&&(e.trigger("statechange",t),e._lastState=t,"playing"===t?e.playing(!0):e.playing(!1)),e.fireTimeChangedEventsIfChanged(),"ended"!==t&&e.mozillaAtEnd())?(e.engine.pause(),e._ended=!0,e.trigger("end")):void 0}}(this))},m.prototype.mozillaAtEnd=function(){return!this._ended&&e.detect.browser.mozilla&&e.detect.browser.version<45&&!e.detect.edge&&e.detect.windows&&this._waiting>=.6&&Math.abs(this.time()-this.duration())<2},m.prototype.fireTimeChangedEventsIfChanged=function(){var e,t,i;return t=this.time(),e=t!==this._lastTimePosition,i="beforeplay"===this.state()&&.3>t,e&&t>0&&!i?(this._ended=!1,this.trigger("timechange",t),Math.floor(t)!==Math.floor(this._lastTimePosition)&&this.trigger("secondchange",Math.floor(t)),!this._beforePlay&&!this._ended&&Math.abs(t-this._lastTimePosition)>this._attrs.seekThreshold&&this.trigger("seek",t,this._lastTimePosition),this._lastTimePosition=t):void 0},m.prototype.setupCss=function(){return e.util.injectWistiaOverpassFontFace(),this.jssGenericHelper=new(d())(b()),this.jssColorsHelper=new(d())(v()),this.vulcanStyle=this.updateGenericCss(),this.vulcanColorsStyle=this.updateColorsCss()},m.prototype.updateColorsCss=function(){return this.jssColorsHelper.update(this.getColorsStyleVars())},m.prototype.updateGenericCss=function(){return this.jssGenericHelper.update(this.getGenericStyleVars())},m.prototype.getGenericStyleVars=function(){return{__chromeid__:this.chrome.id,__wrapperid__:this.wrapperElem.id,__uuid__:this.uuid,__base64_check__:this.base64Check(),__base64_arrow__:this.base64Arrow()}},m.prototype.getColorsStyleVars=function(){return{__chromeid__:this.chrome.id,__primary_95__:this.colors.primary().alpha(.95).toRgba(),__primary_70__:this.colors.primary().alpha(.7).toRgba(),__quaternary_70__:this.colors.quaternary().alpha(.7).toRgba(),__tertiary_60__:this.colors.tertiary().alpha(.6).toRgba(),__secondary_30__:this.colors.secondary().alpha(.3).toRgba(),__white_0__:this.colors.white().alpha(0).toRgba()}},m.prototype.base64Check=function(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ1JREFUeNpiYKAA/P//vwGIzwOxAgOlAGiIw38EeA/iU2KYANSQ/2iGCpBr4P7/mCCBXMP6sRg2n1zDArAYdp4sr4JiEke4GWBTbADE90EuwGPgeSyuC8AVY/eRFDUQGW79pMTYeli44Ao3UmMNFtgJOMJNgVCAY9OICwQQG4sGaGH5n+hwI5Cl9uMwbD8lebWfavkUR7gSXZIABBgAXdzjGyTOH2QAAAAASUVORK5CYII="},m.prototype.base64Arrow=function(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAUCAYAAAC9BQwsAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAF1JREFUeNpiYCAC/P//3wCI74NoBmIBVNP7/xDwnijNaJr+I2lWIFUTCMwf1UQTTVCN+7FoAhkkQEijABCfx6L5/KhmemtmwqWRkZHxA5ByBOILDOQANJvhTgUIMADM8e7U1DESegAAAABJRU5ErkJggg=="},m.prototype.fit=function(){return m.__super__.fit.apply(this,arguments),this.embedded(function(e){return function(){return e.correctForIntegers(),e.ui.fit()}}(this))},m.prototype.rangeBuffered=function(){return this.engine.activeBufferRange()},m.prototype.timeBuffered=function(){var e;return e=this.rangeBuffered(),e?e[1]-e[0]:0},m.prototype.totalBuffered=function(){return this.engine.totalBuffered()},m.prototype.totalPlayed=function(){return this.engine.totalPlayed()},m.prototype.sequentialBufferedRange=function(){return this.engine.sequentialBufferedRange()},m.prototype.togglePlay=function(){return this.info("togglePlay"),"playing"===this.state()?this.pause():this.play()},m.prototype.requestFullscreen=function(){return this.inFullscreen()?void 0:(this.info("requestFullscreen"),this._widthBeforeFullscreen=this.width(),this._heightBeforeFullscreen=this.height(),e.detect.fullscreenEnabled?e.elem.requestFullscreen(this.chrome):this.getAllowFakeFullscreen()?this.enterFakeFullscreen():this.engine.requestFullscreen())},m.prototype.cancelFullscreen=function(){return this.inFullscreen()?(this.info("cancelFullscreen"),e.detect.fullscreenEnabled?e.elem.cancelFullscreen():this.getAllowFakeFullscreen()?this.cancelFakeFullscreen():this.engine.cancelFullscreen()):void 0},m.prototype.enterFakeFullscreen=function(){return this._inFakeFullscreen=!0,this._chromeParent=this.chrome.parentNode,document.body.appendChild(this.chrome),this._widthBeforeFullscreen=this.width(),this._heightBeforeFullscreen=this.height(),this._onEnterFullscreen(this.chrome),this.setupFakeFullscreenBindings(),this.chrome.style.position="fixed",this.chrome.style.top=0,this.chrome.style.left=0,this.chrome.style.zIndex=2147483647,this.hideControls(),this.engine.onEnterFullscreen()},m.prototype.setupFakeFullscreenBindings=function(){return e.eventLoop.add(this.uuid+".fakefullscreen",100,function(e){return function(){return e._fullscreenResizeToWindow()}}(this)),null==this._preventDefaultForTouchMove&&(this._preventDefaultForTouchMove=function(e){return e.preventDefault()}),e.elem.rebind(this.vulcanElem,"touchmove",this._preventDefaultForTouchMove)},m.prototype.cancelFakeFullscreen=function(){var t;return this._inFakeFullscreen=!1,this._onCancelFullscreen(this.chrome),null!=(t=this._chromeParent)&&t.appendChild(this.chrome),this.chrome.style.position="",e.eventLoop.remove(this.uuid+".fakefullscreen"),this.engine.onLeaveFullscreen(),null!=this._preventDefaultForTouchMove?e.elem.unbind(this.vulcanElem,"touchmove",this._preventDefaultForTouchMove):void 0},m.prototype.inFullscreen=function(){return!!this._inFullscreen},m.prototype.stopStreaming=function(){var e;return this.info("stopStreaming"),null!=(e=this.engine)?e.stopStreaming():void 0},m.prototype.destroyUI=function(){var t,i,n,r;return e.elem.unbind(document,"mouseout",this._onMouseLeavesWindow),e.elem.unbind(document,"keydown",this._onKeyDown),e.elem.unbind(window,"resize",this._fullscreenResizeToWindow),e.unbind("cancel-fullscreen",this._onCancelFullscreen),e.unbind("enter-fullscreen",this._onEnterFullscreen),null!=(t=this.ui)&&t.destroy(),this.ui=null,null!=(i=this.colors)&&(i.video=null),this.colors=null,null!=(n=this.storyboard)&&n.destroy(),this.storyboard=null,this._sdAsset=this._mdAsset=this._mdOrSdAsset=this._hdAsset=this._original=this._iphoneAsset=this._smallestNormalMp4=null,e.elem.remove(this.vulcanStyle),e.elem.remove(this.vulcanColorsStyle),null!=(r=this._accessibilityHelper)?r.destroy():void 0},m.prototype.destroyStore=function(){var e,t;return this.reduxBridge.destroy(),null!=(e=window.__wistiaStores)&&(e[this.uuid]=null),null!=(t=window.__wistiaStores)?delete t[this.uuid]:void 0},m.prototype.cleanup=function(){return this.info("cleanup"),this.destroyUI(),this.destroyStore()},m.prototype.resetToFirstFrame=function(){return this.info("resetToFirstFrame"),this.commandQueueOpen(function(e){return function(){return e.actions.player.setIsPlayInitiated(!1),e.engine.reset(),e._beforePlay=!0,e._ended=!1,e.resetControls()}}(this))},m.prototype.fastTimeDiff=function(e){return 30>e?5:60>e?10:10+e/60},m.prototype.slowTimeDiff=function(e){return 60>e?2:10},m.prototype.removeNonVideoElements=function(){return this.info("removeNonVideoElements"),this.cleanup()},m.prototype.initFrom=function(e){var t,i,n,r,o;for(this.info("initFrom",e),r="_cssBeforeFullscreen\n_heightBeforeFullscreen\n_inFullscreen\n_inFakeFullscreen\n_mouseover\n_widthBeforeFullscreen\n_chromeParent\nengine\nuuid\nwrapperElem".split(/[\s\n]+/),t=0,i=r.length;i>t;t++)n=r[t],this[n]=e[n];return this.resetStateVariables(),e.unbindListeners(),e.removeNonVideoElements(),null!=(o=this.reduxBridge)&&o.destroy(),this.reduxBridge=new(p())(this.publicApi,this.uuid),this.reduxBridge.subscribeToStoreChanges(),this.reduxBridge.subscribeToPublicApiEvents(),this.bindActions(),this.reduxBridge.sync(),this.engine.changeVideo(this._mediaData,this.engineAttributes()),this.setupEmbed(),this._inFakeFullscreen&&this.setupFakeFullscreenBindings(),this.embedded(function(e){return function(){return e.reduxBridge.sync()}}(this))},m.prototype.assetOptions=function(){return this.engine.selectableAssets()},m.prototype.switchToAsset=function(e,t){return null==t&&(t=!1),this.info("switchToAsset",e,t),this.commandQueueOpen.synchronize(function(i){return function(n){return i.engine.changeStream(e,"playing"===i.state(),t).then(n)}}(this))},m.prototype.switchToAssetWithoutLoad=function(t,i){return null==i&&(i=!1),this.info("switchToAssetWithoutLoad",t,i),e.elem.inDom(this.videoElem)?(this.engine.changeStreamWithoutLoad(t),this.trigger("switched-to-asset-without-load",t.type)):void 0},m.prototype.videoQuality=function(e){var t;return t=this.assetOptions().filter(function(t){return t.slug===e}),this.forceSwitchToAsset(t[0])},m.prototype.forceSwitchToAsset=function(e){return this.info("forceSwitchToAsset",e),this._forceAsset=e,this.switchToAsset(e)},m.prototype.supportsHd=function(){return!!this.hdAsset()&&(null==this._supportsHd||this._supportsHd)},m.prototype.bestAsset=function(){return e.HlsVideo&&this.engine instanceof e.HlsVideo?e.HlsVideo.fakeAutoAsset():this._forceAsset||this.originalBestAsset()},m.prototype.originalBestAsset=function(){return"sd-only"===this._opts.videoQuality?this.mdOrSdAsset():"hd-only"===this._opts.videoQuality?this.hdAsset()||this.mdAsset()||this.sdAsset():"md"===this._opts.videoQuality?this.mdAsset()||this.sdAsset():"low-fps"===this._opts.videoQuality?this.lowFpsAsset()||this.sdAsset():this.chosenAsset()?this.chosenAsset():this.isScreencast()&&this.screencastAsset()?this.screencastAsset():this.inFullscreen()&&this.supportsHd()?this.hdAsset()||this.bandwidthBasedAsset()||this.mdAsset()||this.sdAsset():this.bandwidthBasedAsset()||this.mdOrSdAsset()},m.prototype.bandwidthBasedAsset=function(){var t;return e.mux.experimentEnabled("less-to-load")?null:this.bandwidthTest().isFresh()?(t=this.bandwidthTest().savedResult().clientKbps,this.playableAssetInRange({bitrate:[0,t],width:[0,this._opts.maxHdWidth||2e3],sortBy:"width desc, bitrate desc"})||this.mdOrSdAsset()):null},m.prototype.chosenAsset=function(){var e,t,i;return/width:/.test(this._opts.videoQuality)?(t=this._opts.videoQuality.match(/width:([a-z]*)(\d+)/i),t[0],e=t[1],i=t[2],/^\d+$/.test(i)?(i=parseInt(i,10),""===e||"lte"===e?this.playableAsset({width:[0,i],sortBy:"width desc"})||this.playableAsset({width:[i,1e4],sortBy:"width asc"}):"gte"===e?this.playableAsset({width:[i,1e4],sortBy:"width asc"})||this.playableAsset({width:[0,i],sortBy:"width desc"}):null):null):null},m.prototype.mdOrSdAsset=function(){return this._mdOrSdAsset||(this._mdOrSdAsset="sd-only"===this._opts.videoQuality?this.sdAsset():"md"===this._opts.videoQuality||this._opts.videoFoam||this.videoWidth()>=720?this.mdAsset()||this.sdAsset():this.sdAsset())},m.prototype.screencastAsset=function(){return this._screencastAsset||(this._screencastAsset=this.playableAsset({bitrate:[0,1300],sortBy:"width desc, bitrate asc",width:[0,this.originalAsset().width]}))},m.prototype.sdAsset=function(){return this._sdAsset||(this._sdAsset=this.iphoneAssetInRange()||this.mp4AssetInRange()||this.iphoneAsset()||this.playableAsset())},m.prototype.mdAsset=function(){return this._mdAsset||(this._mdAsset=this.playableAssetInRange({width:[720,980],sortBy:"width desc, bitrate desc"}))},m.prototype.hdAsset=function(){return this._hdAsset||(this._hdAsset=this.playableAssetInRange({width:[980,this._opts.maxHdWidth||2e3],sortBy:"width desc, bitrate desc"}))},m.prototype.lowFpsAsset=function(){return this._lowFpsAsset||(this._lowFpsAsset=this.mp4Asset({public:!1}))},m.prototype.stillUrl=function(t){return t=e.obj.merge({playButton:!1},t),m.__super__.stillUrl.call(this,t)},m.prototype.bandwidthTest=function(){return null!=this._bandwidthTest?this._bandwidthTest:this._bandwidthTest=new e.BandwidthTest({timeoutLength:4e3,uuid:this.uuid,saveKey:"vulcan.bandwidth"})},m.prototype.doBandwidthTest=function(){var t,i,n,r;for(this.info("doBandwidthTest"),null==this._endBandwidthTestEarly&&(this._endBandwidthTestEarly=function(t){return function(){return t.info("_endBandwidthTestEarly"),t.bandwidthTest().endEarly(),e.Metrics.videoCount(t,"player/bandwidth_test/ended_early")}}(this)),r=["seek","pause","end","switched-to-asset-without-load"],i=0,n=r.length;n>i;i++)t=r[i],this.rebind(t,this._endBandwidthTestEarly);return null==this._failBandwidthTestOnWaiting&&(this._failBandwidthTestOnWaiting=function(t){return function(){return t.info("_failBandwidthTestOnWaiting"),t.bandwidthTest().fail(),e.Metrics.videoCount(t,"player/bandwidth_test/failed"),t.unbind}}(this)),this.rebind("waiting",this._failBandwidthTestOnWaiting),this._endBandwidthTestOnTime=function(i){return function(){var n,r,o;if(i.info("_endBandwidthTestOnTime"),i._supportsHd=i.bandwidthTest().supportsHd(),i.engine.setAttributes({supportsHd:!0}),i._failBandwidthTestOnWaiting&&i.unbind("waiting",i._failBandwidthTestOnWaiting),i._endBandwidthTestEarly)for(o=["seek","pause","end","switched-to-asset-without-load"],n=0,r=o.length;r>n;n++)t=o[n],i.unbind(t,i._endBandwidthTestEarly);return e.Metrics.videoCount(i,"player/bandwidth_test/ended_on_time")}}(this),this.bandwidthTest().bind("ended",this._endBandwidthTestOnTime),this.bandwidthTest().start()},m.prototype.play=function(){return this.suppressPlay()?this:(this.info("play"),this.trigger("play-method-invoked"),this.ready(function(e){return function(){var t;return t=function(){return e.trigger("play-initiated"),e.trigger("startplay"),e._calledPlay=!0,e.mozillaAtEnd()&&e.engine.setCurrentTime(0),e.engine.play()},e.canPlay()?e.commandQueueOpen.synchronize(function(e){return t().then(e)}):e.commandQueueOpen(t)}}(this)),this)},m.prototype._playWithoutCommandQueue=function(e){return this.engine.play().then(e)},m.prototype.canPlay=function(){return!this.suppressPlay()&&this.engine.canPlay()},m.prototype.pause=function(){return this.info("pause"),this.ready(function(e){return function(){return e.commandQueueOpen.synchronize(function(t){return e.engine.pause().then(t)})}}(this)),this},m.prototype.time=function(t,i){var n;return null!=t?(this.info("time",t),t=Math.max(0,Math.min(this.duration(),t)),this.ready(function(n){return function(){var r,o;return r=e.detect.ios.version>0&&!n.engine.canPlay(),o=(null!=i?i.lazy:void 0)&&"playing"!==n.state(),r||o?n.engine.seekOnPlay(t):"beforeplay"===n.state()?n.commandQueueOpen.synchronize(function(e){return n.engine.seek(t).then(e)}):(n.info("time "+t+": set immediately"),n.commandQueueOpen(function(){return n.engine.setCurrentTime(t)}))}}(this)),this):(null!=(n=this.engine)?n.getCurrentTime():void 0)||0},m.prototype.duration=function(){return this.engine?this.engine.getDuration():this._mediaData.duration},m.prototype.volume=function(e){return null!=e?(this.info("volume",e),e=Math.max(0,Math.min(1,e)),this.ready(function(t){return function(){return t.commandQueueOpen(function(){return t.engine.setVolume(e)})}}(this)),this):this.engine.getVolume()},m.prototype.trigger=function(){var e,t;return t=arguments[0],e=2<=arguments.length?s.call(arguments,1):[],/timechange|secondchange/.test(t)&&this.engine.isSeeking()?void 0:m.__super__.trigger.apply(this,[t].concat(s.call(e)))},m.prototype.state=function(){return this.engine?this.engine.getPlaybackMode():"unknown"},m.prototype.playerColor=function(t){return null!=t?(this.info("playerColor",t),this.embedded(function(i){return function(){var n;return n=i._attrs.playerColor,t=e.Player._sanePlayerColor(t),i._attrs.playerColor=new e.Color(t).toHex(),i.showControls(),n!==i._attrs.playerColor?i.trigger("playercolorchange",i._attrs.playerColor,n):void 0}}(this)),this):this._attrs.playerColor},m.prototype.width=function(e,t){return null==t&&(t={}),null!=e?t.fullscreen||!this.inFullscreen()?m.__super__.width.call(this,e,t):(this.info("notFullscreen => width("+e+")"),this.notFullscreen(function(i){return function(){return m.__super__.width.call(i,e,t)}}(this)),this):m.__super__.width.apply(this,arguments)},m.prototype.height=function(e,t){return null==t&&(t={}),null!=e?t.fullscreen||!this.inFullscreen()?m.__super__.height.call(this,e,t):(this.info("notFullscreen => height("+e+")"),this.notFullscreen(function(i){return function(){return m.__super__.height.call(i,e,t)}}(this)),this):m.__super__.height.apply(this,arguments)},m.prototype.videoWidth=function(e,t){return null==t&&(t={}),null!=e?t.fullscreen||!this.inFullscreen()?m.__super__.videoWidth.call(this,e,t):(this.info("notFullscreen => videoWidth("+e+")"),this.notFullscreen(function(i){return function(){return m.__super__.videoWidth.call(i,e,t)}}(this)),this):m.__super__.videoWidth.apply(this,arguments)},m.prototype.videoHeight=function(e,t){return null==t&&(t={}),null!=e?t.fullscreen||!this.inFullscreen()?m.__super__.videoHeight.call(this,e,t):(this.info("notFullscreen => videoHeight("+e+")"),this.notFullscreen(function(i){return function(){return m.__super__.videoHeight.call(i,e,t)}}(this)),this):m.__super__.videoHeight.apply(this,arguments)},m.prototype.playbackRate=function(e){return null!=e?(this.embedded(function(t){return function(){var i,n;return t.info("playbackRate",e),n=parseFloat(e),isNaN(n)?(t.error("playbackRate: Invalid argument '"+e+"' given. Expected a float."),t):(e=n,i=t.engine.getPlaybackRate(),t.engine.setPlaybackRate(e),t._eventLoopDuration=Math.max(50,Math.min(500,t._baseEventLoopDuration*e)),t._playbackRate=e,i!==t._playbackRate?t.trigger("playbackratechange",t._playbackRate):void 0)}}(this)),this):this.engine.getPlaybackRate()},m.prototype.trim=function(e){return null!=e?this.embedded(function(t){return function(){var i;return t.engine.setTrim(e),null!=(i=t.ui.playbarControl)?i.updateStateFromVideo():void 0}}(this)):this.engine.getTrim()},m.prototype.receivedAnyVideoData=function(){return this.engine.anyBuffered()},m.prototype.getReportAProblemData=function(t){var i,n,r,s,a;a=function(e){var t;try{return e()}catch(e){return t=e,"threw exception: "+t.message}},i={media_key:this._mediaData.mediaKey,account_key:this._mediaData.accountKey,visitor_key:this.visitorKey(),event_key:this.eventKey(),referrer:document.referrer,page_url:location.href,extra_data:{first_1000_logs:e.wlog.first1000LogLines(),last_1000_logs:e.wlog.last1000LogLines(),browser_time:new Date,option_sources:a(function(e){return function(){return e.publicApi._optionSources()}}(this)),embed_options:this.publicApi._opts,active_plugins:a(function(e){return function(){return Object.keys(e.publicApi.plugin)}}(this)),assets:this._mediaData.assets,selectedAsset:this.engine.selectedAsset(),attrs:this._attrs,assetOptions:a(function(e){return function(){return e.assetOptions()}}(this)),isScreencast:a(function(e){return function(){return e.isScreencast()}}(this)),judy:a(function(e){return function(){return o.report(e.publicApi.judyCtx(),e._mediaData,e._opts)}}(this)),detect:e.detect,engineDiagnostics:a(function(e){return function(){return e.engine.diagnosticData()}}(this))}},s=this.publicApi.plugin;for(r in s)n=s[r],"vulcanVideo"!==r&&"function"==typeof n.getReportAProblemData&&(i.extra_data[r]=n.getReportAProblemData());return i},m.prototype.sync2StreamVideoElems=function(t,i){var n,r,o;return i.pause(),e.detect.ios.version>0?(o=function(){return i.currentTime=t.currentTime,e.util.requestAnimationFrame(o)},e.util.requestAnimationFrame(o)):(r=e.detect.safari?1:.3,n=e.util.throttle(1e3,function(){return i.currentTime=t.currentTime+.05}),e.elem.bind(t,"playing",function(e){return function(){return i.play()}}()),e.elem.bind(t,"pause",function(e){return function(){return i.pause()}}()),e.elem.bind(t,"seeked",function(e){return function(){return i.currentTime=t.currentTime+.05}}()),e.elem.bind(t,"ratechange",function(e){return function(){return i.playbackRate=t.playbackRate}}()),e.elem.bind(t,"end",function(e){return function(){return i.pause()}}()),e.elem.bind(t,"timeupdate",function(e){return function(){return!i.seeking&&!t.seeking&&Math.abs(i.currentTime-t.currentTime)>r?n():void 0}}()),e.elem.bind(t,"waiting",function(e){return function(){return i.pause()}}()),e.elem.bind(t,"done-waiting",function(e){return function(){return i.play()}}()),t.paused||t.ended||i.play(),i.playbackRate=this.playbackRate(),i.currentTime=this.time()+.05)},m.prototype._layoutToClassName=function(e){return"w-multistream--"+e},m.prototype.layout=function(e,t){var i;return null==t&&(t={}),null!=e?("function"==typeof(i=this.engine).setLayout&&i.setLayout(e,t),this._layout=e):this._layout},m}(e.Player)}(Wistia),function(e){null==e._onFullscreenChange&&(e._onFullscreenChange=function(){return e.elem.fullscreenElement()?e.trigger("enter-fullscreen",e.elem.fullscreenElement()):e.trigger("cancel-fullscreen")}),e._initializers.initFullscreenTriggers=function(){return e.elem.rebind(document,"mozfullscreenchange",e._onFullscreenChange),e.elem.rebind(document,"webkitfullscreenchange",e._onFullscreenChange),e.elem.rebind(document,"MSFullscreenChange",e._onFullscreenChange),e.elem.rebind(document,"fullscreenchange",e._onFullscreenChange)},e._destructors.destroyFullscreenTriggers=function(){return e.elem.unbind(document,"mozfullscreenchange",e._onFullscreenChange),
e.elem.unbind(document,"webkitfullscreenchange",e._onFullscreenChange),e.elem.unbind(document,"MSFullscreenChange",e._onFullscreenChange),e.elem.unbind(document,"fullscreenchange",e._onFullscreenChange)},e.plugin("vulcanVideo",function(t,i){return e.info("vulcanVideo no-op plugin executed")})}(Wistia)},function(e,t,i){var n=function(e,t){return function(){return e.apply(t,arguments)}};i(1484),i(1503),i(1502),function(e){e.Vulcan||(e.Vulcan={}),e.Vulcan.Storyboard||(e.Vulcan.Storyboard=function(){function t(t,i){this.parent=t,null==i&&(i={}),this.hide=n(this.hide,this),this.show=n(this.show,this),this.shouldNotDisplay(i)||(this.uuid=e.seqId("wistia_storyboard"),this.storyboardManager=new e.Vulcan.StoryboardManager,this.storyboardManager.updateState({frameCount:i.metadata.frame_count,storyboard:i.url,width:i.width,height:i.height,percent:0,frameDimensions:{width:i.metadata.frame_width,height:i.metadata.frame_height}}),this.updateState({active:!0}),this.buildThumbscrubberRegion(),this.setupBindings())}return t.prototype.loadSprite=function(){var t;if(!e.mux.experimentEnabled("less-to-load"))return null!=(t=this.storyboardManager)?t.updateState({shouldLoadStoryboard:!0}):void 0},t.prototype.shouldNotDisplay=function(t){return!t.url||!t.metadata||!t.metadata.frame_count||e.detect.android},t.prototype.destroy=function(){return this.destroyBindings(),this.parent=null,this.storyboardRegion=null,this.storyboardChild=null,this.storyboardManager=null},t.prototype.state={visible:!1,position:0,time:"0",percent:0,width:0,height:0,active:!1},t.prototype.setupBindings=function(){return this.bind("property:updated:visible",this.onVisibilityUpdated),this.bind("property:updated:position",this.onPositionUpdated),this.bind("property:updated:time",this.onTimeUpdated),this.bind("property:updated:duration",this.onDurationUpdated),this.bind("property:updated:percent",this.onPercentUpdated)},t.prototype.destroyBindings=function(){return this.unbind("property:updated:visible",this.onVisibilityUpdated),this.unbind("property:updated:position",this.onPositionUpdated),this.unbind("property:updated:time",this.onTimeUpdated),this.unbind("property:updated:duration",this.onDurationUpdated),this.unbind("property:updated:percent",this.onPercentUpdated)},t.prototype.onVisibilityUpdated=function(){return!0===this.state.visible?this.show():this.hide()},t.prototype.onPositionUpdated=function(){return this.storyboardRegion.updatePosition({left:this.state.position})},t.prototype.onTimeUpdated=function(){return this.updateTime()},t.prototype.onPercentUpdated=function(){return this.updatePercent()},t.prototype.updatePercent=function(){return this.storyboardManager.updateState({percent:this.state.percent})},t.prototype.show=function(){return e.mux.experimentEnabled("less-to-load")?void 0:(this.loadSprite(),this.storyboardRegion.showChild(this.storyboardChild.uuid))},t.prototype.hide=function(){return this.storyboardRegion.hideChild(this.storyboardChild.uuid)},t.prototype.updateTime=function(){var t;return t=e.util.niceDuration(this.state.time),this.storyboardChild.updateText(t)},t.prototype.buildThumbscrubberRegion=function(){var t,i;return t="wistia_vulcan_storyboard",i={origin:"bottomcenter",align:{bottom:56}},this.storyboardRegion=new e.Vulcan.BubbleRegion(t,i),this.storyboardChild=new e.Vulcan.StoryboardView(this.storyboardManager),this.storyboardRegion.attachToElem(this.parent),this.storyboardRegion.addChild(this.storyboardChild)},t}(),e.mixin(e.Vulcan.Storyboard.prototype,e.hasState))}(Wistia)},function(e,t,i){var n,r,o,s,a=function(e,t){return function(){return e.apply(t,arguments)}};n=i(49),r=i(1562),s=r.unmountFrom,o=r.renderInto,function(e){e.Vulcan.StoryboardManager||(e.Vulcan.StoryboardManager=function(){function t(){this.updateComponent=a(this.updateComponent,this),this.buildElem=a(this.buildElem,this),this.buildElem(),this.setupBindings(),this.scaleFactor=.75}return t.prototype.state={storyboard:"",frameCount:0,framesPerRow:10,width:0,height:0,percent:0,targetWidth:200,shouldLoadStoryboard:!1,frameDimensions:{width:0,height:0}},t.prototype.getAspectRatio=function(){return state.targetAspectRatio||this.state.frameDimensions.width/this.state.frameDimensions.height},t.prototype.getWidth=function(){return this.component.clientWidth},t.prototype.getHeight=function(){return this.component.clientHeight},t.prototype.setupBindings=function(){return this.bind("property:updated:all",this.onAnythingUpdated)},t.prototype.destroyBindings=function(){return this.unbind("property:updated:all",this.onAythingUpdated),s(this.elem,this.component)},t.prototype.onAnythingUpdated=function(){return this.updateComponent()},t.prototype.buildElem=function(){return this.elem=e.elem.fromObject({style:{display:"block",position:"absolute",overflow:"hidden",top:0,right:0,bottom:0,left:0}}),this.component=o(this.elem,this.adaptState())},t.prototype.updateComponent=function(){return this.component=o(this.elem,this.adaptState(),this.component)},t.prototype.adaptState=function(){var e;return e=n({},this.state),e.storyboardUrl=this.properAssetUrl(this.state.storyboard),e.frameWidth=this.state.frameDimensions.width,e.frameHeight=this.state.frameDimensions.height,e.storyboardWidth=this.state.width,e.storyboardHeight=this.state.height,e.scaleFactor=this.scaleFactor,e},t.prototype.properAssetUrl=function(e){return/\.bin$/.test(e)?e.replace(/\.bin$/,"")+"/file.jpg":e},t}(),e.mixin(e.Vulcan.StoryboardManager.prototype,e.hasState))}(Wistia)},function(e,t){var i=function(e,t){return function(){return e.apply(t,arguments)}};!function(e){e.Vulcan.StoryboardView||(e.Vulcan.StoryboardView=function(){function t(e){this.storyboardManager=e,this.show=i(this.show,this),this.updateText=i(this.updateText,this),this._width=this.storyboardManager.getWidth(),this._height=this.storyboardManager.getHeight(),this.buildElem()}return t.prototype.buildElem=function(){return this.elem=e.elem.fromObject({class:"wistia_vulcan_storyboard_view",style:{position:"absolute",color:"#ffffff",overflow:"hidden",width:this.width()+"px",height:this.height()+"px"}}),this.timeElem=e.elem.fromObject({class:"wistia_vulcan_storyboard_time",style:{position:"absolute",background:"rgba(0,0,0,.35)",fontFamily:"WistiaPlayerOverpass, Sans-Serif",padding:"2px 4px",color:"#ffffff",zIndex:"10",bottom:"0px",width:"100%",textAlign:"center"}}),e.elem.append(this.elem,this.timeElem),e.elem.append(this.elem,this.storyboardManager.elem)},t.prototype.updateText=function(e){return this.timeElem.innerHTML=e},t.prototype.updateImage=function(e){return this.updateWidth(),this.updateHeight()},t.prototype.updateWidth=function(){return this.elem.style.width=this.width()+"px"},t.prototype.updateHeight=function(){return this.elem.style.height=this.height()+"px"},t.prototype.width=function(){return this.storyboardManager.getWidth()},t.prototype.height=function(){return this.storyboardManager.getHeight()},t.prototype.toggle=function(){},t.prototype.show=function(){return this.updateWidth(),this.updateHeight()},t.prototype.hide=function(){},t.prototype.setParent=function(e){return this.attachToElem(e.elem)},t.prototype.attachToElem=function(t){return e.elem.append(t,this.elem)},t}())}(Wistia)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){function n(e,t,i){return(0,o.render)((0,o.h)(l,t),e,i)}function r(e,t){(0,o.render)("<nothing />",e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.renderInto=n,t.unmountFrom=r;var o=i(12),s=i(976),a=function(e){return e&&e.__esModule?e:{default:e}}(s),u={createElement:o.h},l=(0,a.default)(u,o.Component);t.default=l},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){e.exports="#__chromeid__ .wistia_vulcan_control,#__chromeid__ .w-control {  background-color: __primary_95__; }  #__chromeid__ .wistia_vulcan_control:hover, #__chromeid__ .wistia_vulcan_control.is-active,  #__chromeid__ .w-control:hover,  #__chromeid__ .w-control.is-active {    background-color: __primary_70__; }#__chromeid__ .w-control--playbar,#__chromeid__ .wistia_playbar {  background-color: __white_0__; }  #__chromeid__ .w-control--playbar:hover,  #__chromeid__ .wistia_playbar:hover {    background-color: __white_0__; }#__chromeid__ .wistia_playbar_completed,#__chromeid__ .w-control--playbar__completed {  background-color: __quaternary_70__; }#__chromeid__ .wistia_playbar_buffered,#__chromeid__ .w-control--playbar__buffered {  background-color: __tertiary_60__; }#__chromeid__ .wistia_playbar_background,#__chromeid__ .w-control--playbar__background {  background-color: __secondary_30__; }#__chromeid__ .wistia_playbar_placeholder:hover,#__chromeid__ .w-control--playbar__placeholder:hover {  background-color: __primary_95__; }"},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";i(343),i(1500)}]),function(e){e.plugin("cropFill",function(t,i){var n,r,o,s,a,u,l,c;return l=null,t.hasData(function(){var i;return i=e.Video.stillAsset(t._mediaData),l=i.width/i.height}),a=t.container.parentNode,a===document.body||/absolute|fixed|relative/.test(a.style.position)||(a.style.position="relative",a.style.overflow="hidden"),t.container.style.position="absolute",s=function(){var i,n,r,o,s;return s=e.elem.width(a),o=e.elem.height(a),r=s/o,r>l?(t.width(s,{constrain:!0}),n=-(t.height()-o)/2,t.container.style.top=Math.round(n)+"px",t.container.style.left="0px"):(t.height(o,{constrain:!0}),i=-(t.width()-s)/2,t.container.style.left=Math.round(i)+"px",t.container.style.top="0px")},n=function(){return e.timeout(t.uuid+".cropFill.resize",s,50)},o=e.elem.width(a),r=e.elem.height(a),c=function(){var i,n;return n=e.elem.width(a),i=e.elem.height(a),o!==n?(s(),o=n):r!==i&&(s(),r=i),e.timeout(t.uuid+".cropFill.watchTarget",c,500)},u=function(){return e.clearTimeouts(t.uuid+".cropFill.watchTarget")},c(),t.bind("widthchange",n),t.bind("heightchange",n),t.hasData(s),{resize:s,watch:c,unwatch:u}})}(Wistia);