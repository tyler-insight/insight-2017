$(function(){function e(){var e=$(location).attr("href");$("#workpage-flag").length>0&&($(".project").removeClass("project-no-js"),1==d&&($("#container").mixItUp("destroy"),console.log("Filter instance destroyed")),$("#container").mixItUp({animation:{duration:1e3,effects:"fade translateY(10%)",easing:"cubic-bezier(0.645, 0.045, 0.355, 1)",nudge:!0,animateResizeContainer:!1}}),n(),d=!0,console.log("Filter instance created")),e.indexOf("contact")>=0&&(r(),s()),e.indexOf("contact")>=0&&$(".typed").typed({stringsElement:$(".typed-strings"),typeSpeed:10,backDelay:2e3,loop:!0})}function t(){var e=$(location).attr("href");l(),$("#homepage-flag").length>0&&(a(),i()),e.indexOf("blog")>=0&&(window.instgrm.Embeds.process(),twttr.widgets.load())}function n(){$(".filter-drop").click(function(){var e=$(".filter-list");$(".project-filter i").toggleClass("rotate"),e.is(":hidden")?e.slideDown():e.slideUp(),$(".filter-list span").click(function(){var t=$(this).text();$(".project-filter i").removeClass("rotate"),$(".filter-active").text(t),e.is(":hidden")?e.slideDown():e.slideUp()})})}function i(){console.log("Testimonial script running");var e=$("#testimonials-l"),t=$("#testimonials-r"),n=document.getElementById("testimonials-ul").querySelectorAll("li").length,i=100*n+"%";$(".testimonials ul").css("width",i);var s=0;t.click(function(){if(s<n-1){s++;var e="-"+100*s+"%";$(".testimonials ul").animate({left:e},500),o()}}),e.click(function(){if(s>0){s--;var e="-"+100*s+"%";$(".testimonials ul").animate({left:e},500),o()}});var o=function(){0==s?(e.css("opacity","0.3"),e.css("cursor","default")):s==n-1?(t.css("opacity","0.3"),t.css("cursor","default")):(t.css("opacity","1"),t.css("cursor","pointer"),e.css("opacity","1"),e.css("cursor","pointer"))};o(),1==n&&$(".testimonials-control").css("display","none")}function s(){function e(e,t){var n=document.getElementById("cd-zoom-in"),i=document.getElementById("cd-zoom-out");e.appendChild(n),e.appendChild(i),google.maps.event.addDomListener(n,"click",function(){t.setZoom(t.getZoom()+1)}),google.maps.event.addDomListener(i,"click",function(){t.setZoom(t.getZoom()-1)})}console.log("Map script running");var t=navigator.userAgent.toLowerCase().indexOf("trident")>-1,n=t?"/img/contact/cd-icon-location.png":"/img/contact/cd-icon-location.svg",i=[{elementType:"labels",stylers:[{saturation:0}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"road.arterial",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"geometry.fill",stylers:[{hue:"#2d313f"},{visibility:"on"},{lightness:5},{saturation:0}]},{featureType:"poi",elementType:"geometry.fill",stylers:[{hue:"#2d313f"},{visibility:"on"},{lightness:5},{saturation:0}]},{featureType:"poi.government",elementType:"geometry.fill",stylers:[{hue:"#2d313f"},{visibility:"on"},{lightness:5},{saturation:0}]},{featureType:"poi.sport_complex",elementType:"geometry.fill",stylers:[{hue:"#2d313f"},{visibility:"on"},{lightness:5},{saturation:0}]},{featureType:"poi.attraction",elementType:"geometry.fill",stylers:[{hue:"#2d313f"},{visibility:"on"},{lightness:5},{saturation:0}]},{featureType:"poi.business",elementType:"geometry.fill",stylers:[{hue:"#2d313f"},{visibility:"on"},{lightness:5},{saturation:0}]},{featureType:"transit",elementType:"geometry.fill",stylers:[{hue:"#2d313f"},{visibility:"on"},{lightness:5},{saturation:0}]},{featureType:"transit.station",elementType:"geometry.fill",stylers:[{hue:"#2d313f"},{visibility:"on"},{lightness:5},{saturation:0}]},{featureType:"landscape",stylers:[{hue:"#2d313f"},{visibility:"on"},{lightness:5},{saturation:0}]},{featureType:"road",elementType:"geometry.fill",stylers:[{hue:"#2d313f"},{visibility:"on"},{lightness:5},{saturation:0}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{hue:"#baab84"},{visibility:"on"},{lightness:5},{saturation:0}]},{featureType:"water",elementType:"geometry",stylers:[{hue:"#2d313f"},{visibility:"on"},{lightness:5},{saturation:0}]}],s={center:new google.maps.LatLng(44.485759,-87.992912),zoom:14,panControl:!1,zoomControl:!1,mapTypeControl:!1,streetViewControl:!1,mapTypeId:google.maps.MapTypeId.ROADMAP,scrollwheel:!1,styles:i},o=new google.maps.Map(document.getElementById("google-container"),s),a=(new google.maps.Marker({position:new google.maps.LatLng(44.485759,-87.992912),map:o,visible:!0,icon:n}),document.createElement("div"));new e(a,o);o.controls[google.maps.ControlPosition.LEFT_TOP].push(a)}function o(){function e(e){e.each(function(){var e=$(this),t=e.text().split(""),n=e.hasClass("is-visible");for(var i in t)e.parents(".rotate-2").length>0&&(t[i]="<em>"+t[i]+"</em>"),t[i]=n?'<i class="in">'+t[i]+"</i>":"<i>"+t[i]+"</i>";var s=t.join("");e.html(s).css("opacity",1)})}function t(e){var t=l;e.each(function(){var e=$(this);if(e.hasClass("loading-bar"))t=c,setTimeout(function(){e.find(".words-wrapper").addClass("is-loading")},d);else if(e.hasClass("clip")){var i=e.find(".words-wrapper"),s=i.width()+10;i.css("width",s)}else if(!e.hasClass("type")){var o=e.find(".words-wrapper b"),a=0;o.each(function(){var e=$(this).width();e>a&&(a=e)}),e.find(".words-wrapper").css("width",a)}setTimeout(function(){n(e.find(".is-visible").eq(0))},t)})}function n(e){var t=a(e);if(e.parents(".headline").hasClass("type")){var g=e.parent(".words-wrapper");g.addClass("selected").removeClass("waiting"),setTimeout(function(){g.removeClass("selected"),e.removeClass("is-visible").addClass("is-hidden").children("i").removeClass("in").addClass("out")},f),setTimeout(function(){i(t,h)},p)}else if(e.parents(".headline").hasClass("letters")){var v=e.children("i").length>=t.children("i").length;s(e.find("i").eq(0),e,v,u),o(t.find("i").eq(0),t,v,u)}else e.parents(".headline").hasClass("clip")?e.parents(".words-wrapper").animate({width:"2px"},m,function(){r(e,t),i(t)}):e.parents(".headline").hasClass("loading-bar")?(e.parents(".words-wrapper").removeClass("is-loading"),r(e,t),setTimeout(function(){n(t)},c),setTimeout(function(){e.parents(".words-wrapper").addClass("is-loading")},d)):(r(e,t),setTimeout(function(){n(t)},l))}function i(e,t){e.parents(".headline").hasClass("type")?(o(e.find("i").eq(0),e,!1,t),e.addClass("is-visible").removeClass("is-hidden")):e.parents(".headline").hasClass("clip")&&e.parents(".words-wrapper").animate({width:e.width()+10},m,function(){setTimeout(function(){n(e)},g)})}function s(e,t,i,o){if(e.removeClass("in").addClass("out"),e.is(":last-child")?i&&setTimeout(function(){n(a(t))},l):setTimeout(function(){s(e.next(),t,i,o)},o),e.is(":last-child")&&$("html").hasClass("no-csstransitions")){var c=a(t);r(t,c)}}function o(e,t,i,s){e.addClass("in").removeClass("out"),e.is(":last-child")?(t.parents(".headline").hasClass("type")&&setTimeout(function(){t.parents(".words-wrapper").addClass("waiting")},200),i||setTimeout(function(){n(t)},l)):setTimeout(function(){o(e.next(),t,i,s)},s)}function a(e){return e.is(":last-child")?e.parent().children().eq(0):e.next()}function r(e,t){e.removeClass("is-visible").addClass("is-hidden"),t.removeClass("is-hidden").addClass("is-visible")}console.log("Culture script running");var l=5e3,c=3800,d=c-3e3,u=50,h=150,f=500,p=f+800,m=600,g=1500;!function(){e($(".headline.letters").find("b")),t($(".headline"))}()}function a(){function e(){f.width(0),f.velocity({width:"100%"},g,e)}function t(e,t,n,i){e.removeClass("selected from-left from-right").addClass("is-moving").one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){e.removeClass("is-moving")}),t.children("li").eq(i).addClass("selected from-right").prevAll().addClass("move-left"),a(e,t,i)}function n(e,t,n,i){e.removeClass("selected from-left from-right").addClass("is-moving").one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){e.removeClass("is-moving")}),t.children("li").eq(i).addClass("selected from-left").removeClass("move-left").nextAll().removeClass("move-left"),a(e,t,i)}function i(e,t){e.find(".selected").removeClass("selected"),e.find("li").eq(t).addClass("selected")}function s(e,t,n){e.hasClass("autoplay")&&(clearInterval(c),c=window.setInterval(function(){o(t)},n))}function o(e){m<e-1?(t(l.find(".selected"),l,u,m+1),m+=1):(n(l.find(".selected"),l,u,0),m=0),r(h,m+1),i(u,m)}function a(e,t,n){var i=e.find("video");i.length>0&&i.get(0).pause();var s=t.children("li").eq(n).find("video");s.length>0&&s.get(0).play()}function r(e,t){e.removeClassPrefix("item").addClass("item-"+t)}var l=$(".cd-hero-slider");if(l.length>0){var c,d=$(".cd-primary-nav"),u=$(".cd-slider-nav"),h=$(".cd-marker"),f=$(".progress-bar"),p=l.children("li").length,m=0,g=5e3;!function(e){e.find(".cd-bg-video-wrapper").each(function(){var e=$(this);if(e.is(":visible")){var t=e.data("video"),n=$('<video loop><source src="'+t+'.mp4" type="video/mp4" /><source src="'+t+'.webm" type="video/webm" /></video>');n.appendTo(e),e.parent(".cd-bg-video.selected").length>0&&n.get(0).play()}})}(l),s(l,p,g),e(),d.on("click",function(e){$(e.target).is(".cd-primary-nav")&&$(this).children("ul").toggleClass("is-visible")}),u.on("click","li",function(e){e.preventDefault();var o=$(this);if(!o.hasClass("selected")){var a=o.index();l.find("li.selected").index()<a?t(l.find(".selected"),l,u,a):n(l.find(".selected"),l,u,a),m=a,i(u,a),r(h,a+1),s(l,p,g)}})}$.fn.removeClassPrefix=function(e){return this.each(function(t,n){var i=n.className.split(" ").filter(function(t){return 0!==t.lastIndexOf(e,0)});n.className=$.trim(i.join(" "))}),this}}function r(){console.log("Typing script running");var e=function(e,t){this.el=$(e),this.options=$.extend({},$.fn.typed.defaults,t),this.isInput=this.el.is("input"),this.attr=this.options.attr,this.showCursor=!this.isInput&&this.options.showCursor,this.elContent=this.attr?this.el.attr(this.attr):this.el.text(),this.contentType=this.options.contentType,this.typeSpeed=this.options.typeSpeed,this.startDelay=this.options.startDelay,this.backSpeed=this.options.backSpeed,this.backDelay=this.options.backDelay,this.stringsElement=this.options.stringsElement,this.strings=this.options.strings,this.strPos=0,this.arrayPos=0,this.stopNum=0,this.loop=this.options.loop,this.loopCount=this.options.loopCount,this.curLoop=0,this.stop=!1,this.cursorChar=this.options.cursorChar,this.shuffle=this.options.shuffle,this.sequence=[],this.build()};e.prototype={constructor:e,init:function(){var e=this;e.timeout=setTimeout(function(){for(var t=0;t<e.strings.length;++t)e.sequence[t]=t;e.shuffle&&(e.sequence=e.shuffleArray(e.sequence)),e.typewrite(e.strings[e.sequence[e.arrayPos]],e.strPos)},e.startDelay)},build:function(){var e=this;if(!0===this.showCursor&&(this.cursor=$('<span class="typed-cursor">'+this.cursorChar+"</span>"),this.el.after(this.cursor)),this.stringsElement){this.strings=[],this.stringsElement.hide(),console.log(this.stringsElement.children());var t=this.stringsElement.children();$.each(t,function(t,n){e.strings.push($(n).html())})}this.init()},typewrite:function(e,t){if(!0!==this.stop){var n=Math.round(70*Math.random())+this.typeSpeed,i=this;i.timeout=setTimeout(function(){var n=0,s=e.substr(t);if("^"===s.charAt(0)){var o=1;/^\^\d+/.test(s)&&(s=/\d+/.exec(s)[0],o+=s.length,n=parseInt(s)),e=e.substring(0,t)+e.substring(t+o)}if("html"===i.contentType){var a=e.substr(t).charAt(0);if("<"===a||"&"===a){var r="",l="";for(l="<"===a?">":";";e.substr(t+1).charAt(0)!==l&&(r+=e.substr(t).charAt(0),!(++t+1>e.length)););t++,r+=l}}i.timeout=setTimeout(function(){if(t===e.length){if(i.options.onStringTyped(i.arrayPos),i.arrayPos===i.strings.length-1&&(i.options.callback(),i.curLoop++,!1===i.loop||i.curLoop===i.loopCount))return;i.timeout=setTimeout(function(){i.backspace(e,t)},i.backDelay)}else{0===t&&i.options.preStringTyped(i.arrayPos);var n=e.substr(0,t+1);i.attr?i.el.attr(i.attr,n):i.isInput?i.el.val(n):"html"===i.contentType?i.el.html(n):i.el.text(n),t++,i.typewrite(e,t)}},n)},n)}},backspace:function(e,t){if(!0!==this.stop){var n=Math.round(70*Math.random())+this.backSpeed,i=this;i.timeout=setTimeout(function(){if("html"===i.contentType&&">"===e.substr(t).charAt(0)){for(var n="";"<"!==e.substr(t-1).charAt(0)&&(n-=e.substr(t).charAt(0),!(--t<0)););t--,n+="<"}var s=e.substr(0,t);i.attr?i.el.attr(i.attr,s):i.isInput?i.el.val(s):"html"===i.contentType?i.el.html(s):i.el.text(s),t>i.stopNum?(t--,i.backspace(e,t)):t<=i.stopNum&&(i.arrayPos++,i.arrayPos===i.strings.length?(i.arrayPos=0,i.shuffle&&(i.sequence=i.shuffleArray(i.sequence)),i.init()):i.typewrite(i.strings[i.sequence[i.arrayPos]],t))},n)}},shuffleArray:function(e){var t,n,i=e.length;if(i)for(;--i;)n=Math.floor(Math.random()*(i+1)),t=e[n],e[n]=e[i],e[i]=t;return e},reset:function(){var e=this;clearInterval(e.timeout);this.el.attr("id");this.el.empty(),void 0!==this.cursor&&this.cursor.remove(),this.strPos=0,this.arrayPos=0,this.curLoop=0,this.options.resetCallback()}},$.fn.typed=function(t){return this.each(function(){var n=$(this),i=n.data("typed"),s="object"==typeof t&&t;i&&i.reset(),n.data("typed",i=new e(this,s)),"string"==typeof t&&i[t]()})},$.fn.typed.defaults={strings:["These are the default values...","You know what you should do?","Use your own!","Have a great day!"],stringsElement:null,typeSpeed:0,startDelay:0,backSpeed:0,shuffle:!1,backDelay:500,loop:!1,loopCount:!1,showCursor:!0,cursorChar:"|",attr:null,contentType:"html",callback:function(){},preStringTyped:function(){},onStringTyped:function(){},resetCallback:function(){}}}function l(){var e=$(location).attr("href");console.log("Main scripts running"),function(){console.log("Employees script running"),$.fn.imagesRotation=function(e){var t={images:[],dataAttr:"images",imgSelector:"img",interval:1e3,intervalFirst:500,callback:null},n=$.extend({},t,e),i=function(e){clearInterval(e.data("imagesRotaionTimeout")),e.removeData("imagesRotaionTimeout"),clearInterval(e.data("imagesRotaionInterval")),e.removeData("imagesRotaionInterval")},s=function(e){var t=n.images.length?n.images:e.data(n.dataAttr);return!!$.isArray(t)&&t},o=function(e){$(e).each(function(){$("<img/>")[0].src=this})};(function(){var e=[];this.each(function(){var t=s($(this));t&&t.length>1&&e.push(t[1])}),o(e)}).call(this),this.on("mouseenter.imagesRotation",function(){var e=$(this),t=n.imgSelector?$(n.imgSelector,e):null,a=s(e),r=a?a.length:null,l=function(){var i=e.data("imagesRotationIndex")||0,s=i+1<r?i+1:0,l=s+1<r?s+1:0;e.data("imagesRotationIndex",s),t&&t.length>0&&(t.is("img")?t.attr("src",a[s]):t.css("background-image","url("+a[s]+")")),n.callback&&n.callback(a[s]),o([a[l]])};if(r){i(e);var c=setTimeout(function(){l();var t=setInterval(l,n.interval);e.data("imagesRotaionInterval",t)},n.intervalFirst);e.data("imagesRotaionTimeout",c)}}).on("mouseleave.imagesRotation",function(){i($(this))}).on("imagesRotationRemove",function(){var e=$(this);e.off(".imagesRotation"),i(e)})},$.fn.imagesRotationRemove=function(){this.trigger("imagesRotationRemove")}}(),$(".images-rotation").imagesRotation(),function(){console.log("Accordion script running");var e,t=document.getElementsByClassName("accordion");for(e=0;e<t.length;e++)t[e].onclick=function(){this.classList.toggle("active");var e=this.nextElementSibling;e.style.maxHeight?e.style.maxHeight=null:e.style.maxHeight=e.scrollHeight+"px"}}(),function(){!function(e){"use strict";function t(e,n){if(!(this instanceof t)){var i=new t(e,n);return i.open(),i}this.id=t.id++,this.setup(e,n),this.chainCallbacks(t._callbackChain)}function n(e,t){var n={};for(var i in e)i in t&&(n[i]=e[i],delete e[i]);return n}function i(e,t){var n={},i=new RegExp("^"+t+"([A-Z])(.*)");for(var s in e){var o=s.match(i);o&&(n[(o[1]+o[2].replace(/([A-Z])/g,"-$1")).toLowerCase()]=e[s])}return n}if(void 0===e)return void("console"in window&&window.console.info("Too much lightness, Featherlight needs jQuery."));var s=[],o=function(t){return s=e.grep(s,function(e){return e!==t&&e.$instance.closest("body").length>0})},a={allowfullscreen:1,frameborder:1,height:1,longdesc:1,marginheight:1,marginwidth:1,name:1,referrerpolicy:1,scrolling:1,sandbox:1,src:1,srcdoc:1,width:1},r={keyup:"onKeyUp",resize:"onResize"},l=function(n){e.each(t.opened().reverse(),function(){return n.isDefaultPrevented()||!1!==this[r[n.type]](n)?void 0:(n.preventDefault(),n.stopPropagation(),!1)})},c=function(n){if(n!==t._globalHandlerInstalled){t._globalHandlerInstalled=n;var i=e.map(r,function(e,n){return n+"."+t.prototype.namespace}).join(" ");e(window)[n?"on":"off"](i,l)}};t.prototype={constructor:t,namespace:"featherlight",targetAttr:"data-featherlight",variant:null,resetCss:!1,background:null,openTrigger:"click",closeTrigger:"click",filter:null,root:"body",openSpeed:250,closeSpeed:250,closeOnClick:"anywhere",closeOnEsc:!0,closeIcon:"&#10005;",loading:"",persist:!1,otherClose:null,beforeOpen:e.noop,beforeContent:e.noop,beforeClose:e.noop,afterOpen:e.noop,afterContent:e.noop,afterClose:e.noop,onKeyUp:e.noop,onResize:e.noop,type:null,contentFilters:["jquery","image","html","ajax","iframe","text"],setup:function(t,n){"object"!=typeof t||t instanceof e!=0||n||(n=t,t=void 0);var i=e.extend(this,n,{target:t}),s=i.resetCss?i.namespace+"-reset":i.namespace,o=e(i.background||['<div class="'+s+"-loading "+s+'">','<div class="'+s+'-content">','<button class="'+s+"-close-icon "+i.namespace+'-close" aria-label="Close">',i.closeIcon,"</button>",'<div class="'+i.namespace+'-inner">'+i.loading+"</div>","</div>","</div>"].join("")),a="."+i.namespace+"-close"+(i.otherClose?","+i.otherClose:"");return i.$instance=o.clone().addClass(i.variant),i.$instance.on(i.closeTrigger+"."+i.namespace,function(t){var n=e(t.target);("background"===i.closeOnClick&&n.is("."+i.namespace)||"anywhere"===i.closeOnClick||n.closest(a).length)&&(i.close(t),t.preventDefault())}),this},getContent:function(){if(!1!==this.persist&&this.$content)return this.$content;var t=this,n=this.constructor.contentFilters,i=function(e){return t.$currentTarget&&t.$currentTarget.attr(e)},s=i(t.targetAttr),o=t.target||s||"",a=n[t.type];if(!a&&o in n&&(a=n[o],o=t.target&&s),o=o||i("href")||"",!a)for(var r in n)t[r]&&(a=n[r],o=t[r]);if(!a){var l=o;if(o=null,e.each(t.contentFilters,function(){return a=n[this],a.test&&(o=a.test(l)),!o&&a.regex&&l.match&&l.match(a.regex)&&(o=l),!o}),!o)return"console"in window&&window.console.error("Featherlight: no content filter found "+(l?' for "'+l+'"':" (no target specified)")),!1}return a.process.call(t,o)},setContent:function(t){var n=this;return t.is("iframe")&&n.$instance.addClass(n.namespace+"-iframe"),n.$instance.removeClass(n.namespace+"-loading"),n.$instance.find("."+n.namespace+"-inner").not(t).slice(1).remove().end().replaceWith(e.contains(n.$instance[0],t[0])?"":t),n.$content=t.addClass(n.namespace+"-inner"),n},open:function(t){var n=this;if(n.$instance.hide().appendTo(n.root),!(t&&t.isDefaultPrevented()||!1===n.beforeOpen(t))){t&&t.preventDefault();var i=n.getContent();if(i)return s.push(n),c(!0),n.$instance.fadeIn(n.openSpeed),n.beforeContent(t),e.when(i).always(function(e){n.setContent(e),n.afterContent(t)}).then(n.$instance.promise()).done(function(){n.afterOpen(t)})}return n.$instance.detach(),e.Deferred().reject().promise()},close:function(t){var n=this,i=e.Deferred();return!1===n.beforeClose(t)?i.reject():(0===o(n).length&&c(!1),n.$instance.fadeOut(n.closeSpeed,function(){n.$instance.detach(),n.afterClose(t),i.resolve()})),i.promise()},resize:function(e,t){if(e&&t){this.$content.css("width","").css("height","");var n=Math.max(e/(parseInt(this.$content.parent().css("width"),10)-1),t/(parseInt(this.$content.parent().css("height"),10)-1));n>1&&(n=t/Math.floor(t/n),this.$content.css("width",e/n+"px").css("height",t/n+"px"))}},chainCallbacks:function(t){for(var n in t)this[n]=e.proxy(t[n],this,e.proxy(this[n],this))}},e.extend(t,{id:0,autoBind:"[data-featherlight]",defaults:t.prototype,contentFilters:{jquery:{regex:/^[#.]\w/,test:function(t){return t instanceof e&&t},process:function(t){return!1!==this.persist?e(t):e(t).clone(!0)}},image:{regex:/\.(png|jpg|jpeg|gif|tiff|bmp|svg)(\?\S*)?$/i,process:function(t){var n=this,i=e.Deferred(),s=new Image,o=e('<img src="'+t+'" alt="" class="'+n.namespace+'-image" />');return s.onload=function(){o.naturalWidth=s.width,o.naturalHeight=s.height,i.resolve(o)},s.onerror=function(){i.reject(o)},s.src=t,i.promise()}},html:{regex:/^\s*<[\w!][^<]*>/,process:function(t){return e(t)}},ajax:{regex:/./,process:function(t){var n=e.Deferred(),i=e("<div></div>").load(t,function(e,t){"error"!==t&&n.resolve(i.contents()),n.fail()});return n.promise()}},iframe:{process:function(t){var s=new e.Deferred,o=e("<iframe/>"),r=i(this,"iframe"),l=n(r,a);return o.hide().attr("src",t).attr(l).css(r).on("load",function(){s.resolve(o.show())}).appendTo(this.$instance.find("."+this.namespace+"-content")),s.promise()}},text:{process:function(t){return e("<div>",{text:t})}}},functionAttributes:["beforeOpen","afterOpen","beforeContent","afterContent","beforeClose","afterClose"],readElementConfig:function(t,n){var i=this,s=new RegExp("^data-"+n+"-(.*)"),o={};return t&&t.attributes&&e.each(t.attributes,function(){var t=this.name.match(s);if(t){var n=this.value,a=e.camelCase(t[1]);if(e.inArray(a,i.functionAttributes)>=0)n=new Function(n);else try{n=JSON.parse(n)}catch(e){}o[a]=n}}),o},extend:function(t,n){var i=function(){this.constructor=t};return i.prototype=this.prototype,t.prototype=new i,t.__super__=this.prototype,e.extend(t,this,n),t.defaults=t.prototype,t},attach:function(t,n,i){var s=this;"object"!=typeof n||n instanceof e!=0||i||(i=n,n=void 0),i=e.extend({},i);var o,a=i.namespace||s.defaults.namespace,r=e.extend({},s.defaults,s.readElementConfig(t[0],a),i),l=function(a){var l=e.extend({$source:t,$currentTarget:e(this)},s.readElementConfig(t[0],r.namespace),s.readElementConfig(this,r.namespace),i),c=o||e(this).data("featherlight-persisted")||new s(n,l);"shared"===c.persist?o=c:!1!==c.persist&&e(this).data("featherlight-persisted",c),l.$currentTarget.blur(),c.open(a)};return t.on(r.openTrigger+"."+r.namespace,r.filter,l),l},current:function(){var e=this.opened();return e[e.length-1]||null},opened:function(){var t=this;return o(),e.grep(s,function(e){return e instanceof t})},close:function(e){var t=this.current();return t?t.close(e):void 0},_onReady:function(){var t=this;t.autoBind&&(e(t.autoBind).each(function(){t.attach(e(this))}),e(document).on("click",t.autoBind,function(n){n.isDefaultPrevented()||t.attach(e(n.currentTarget))(n)}))},_callbackChain:{onKeyUp:function(t,n){return 27===n.keyCode?(this.closeOnEsc&&e.featherlight.close(n),!1):t(n)},beforeOpen:function(t,n){return this._previouslyActive=document.activeElement,this._$previouslyTabbable=e("a, input, select, textarea, iframe, button, iframe, [contentEditable=true]").not("[tabindex]").not(this.$instance.find("button")),this._$previouslyWithTabIndex=e("[tabindex]").not('[tabindex="-1"]'),this._previousWithTabIndices=this._$previouslyWithTabIndex.map(function(t,n){return e(n).attr("tabindex")}),this._$previouslyWithTabIndex.add(this._$previouslyTabbable).attr("tabindex",-1),document.activeElement.blur(),t(n)},afterClose:function(t,n){var i=t(n),s=this;return this._$previouslyTabbable.removeAttr("tabindex"),this._$previouslyWithTabIndex.each(function(t,n){e(n).attr("tabindex",s._previousWithTabIndices[t])}),this._previouslyActive.focus(),i},onResize:function(e,t){return this.resize(this.$content.naturalWidth,this.$content.naturalHeight),e(t)},afterContent:function(e,t){var n=e(t);return this.$instance.find("[autofocus]:not([disabled])").focus(),this.onResize(t),n}}}),e.featherlight=t,e.fn.featherlight=function(e,n){return t.attach(this,e,n),this},e(document).ready(function(){t._onReady()})}(jQuery)}(),e.indexOf("agency")>=0&&function(){console.log("Video script running");var e=e||{};e={name:"fullScreenVideo",backgroundVideo:"kr5kajxq3j",backgroundVideoDiv:"#wistia_kr5kajxq3j",embedVideo:function(){var t={};Wistia.obj.merge(t,{plugin:{cropFill:{src:"//fast.wistia.com/labs/crop-fill/plugin.js"}}}),wistiaEmbed=Wistia.embed(e.backgroundVideo,t),wistiaEmbed.bind("play",function(){return wistiaEmbed.pause(),wistiaEmbed.time(0),$(e.backgroundVideoDiv).css("visibility","visible"),wistiaEmbed.play(),this.unbind})},fixTextPosition:function(){var e=$(window).width(),t=$(window).height();textWidth=$("#text").width(),textHeight=$("#text").height(),$("#video_container").css("width","100%").css("height",.65*t);var n=$("#video_container").height();$("#text").css("left",e/2-textWidth/2).css("top",n/2-textHeight/2)},fixVideoPosition:function(){}},$(document).ready(function(){e.fixTextPosition(),e.fixVideoPosition(),$("#text").delay(200).animate({opacity:1},650)}),$(window).resize(e.fixTextPosition),e.embedVideo()}(),e.indexOf("culture")>=0&&(a(),o())}console.log("%c Insight Creative 2018 by Tyler Bramer","background: red; color: white; padding: 5px 10px;");var c=Barba.BaseTransition.extend({start:function(){Promise.all([this.newContainerLoading,this.fadeOut()]).then(this.fadeIn.bind(this))},fadeOut:function(){return $(this.oldContainer).animate({opacity:0}).promise()},fadeIn:function(){document.body.scrollTop=0,document.documentElement.scrollTop=0;var n=this,i=($(location).attr("href"),$(this.newContainer));$(this.oldContainer).hide(),i.css({visibility:"visible",opacity:0}),i.animate({opacity:1},400,function(){n.done(),t()}),e(),AOS.refreshHard()}});Barba.Pjax.getTransition=function(){return c},Barba.Pjax.start();var d;!function(){function e(){var e=$(window).scrollTop();o.length>0?n(e):t(e),c=e,l=!1}function t(e){c-e>d?i.removeClass("is-hidden"):e-c>d&&e>u&&i.addClass("is-hidden")}function n(e){var t=o.offset().top-s.height()-i.height();c>=e?e<t?(i.removeClass("is-hidden"),s.removeClass("fixed slide-up"),o.removeClass("secondary-nav-fixed")):c-e>d&&(i.removeClass("is-hidden"),s.removeClass("slide-up").addClass("fixed"),o.addClass("secondary-nav-fixed")):e>t+u?(i.addClass("is-hidden"),s.addClass("fixed slide-up"),o.addClass("secondary-nav-fixed")):e>t&&(i.removeClass("is-hidden"),s.addClass("fixed").removeClass("slide-up"),o.addClass("secondary-nav-fixed"))}console.log("Navigation script running");var i=$(".cd-auto-hide-header"),s=$(".cd-secondary-nav"),o=$(".sub-nav-hero"),a=i.height(),r=!1,l=!1,c=0,d=10,u=0;i.on("click",".nav-trigger",function(e){e.preventDefault(),r||($(this).parents(".csstransitions").length>=0&&(r=!0),i.toggleClass("nav-open"),$(".cd-navigation-wrapper").one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){r=!1}))}),i.on("click","a",function(e){i.hasClass("nav-open")&&(i.toggleClass("nav-open"),r=!1)}),$(window).on("scroll",function(){l||i.hasClass("nav-open")||(l=!0,window.requestAnimationFrame?requestAnimationFrame(e):setTimeout(e,250))}),$(window).on("resize",function(){a=i.height()})}(),objectFitImages(),e(),t()});